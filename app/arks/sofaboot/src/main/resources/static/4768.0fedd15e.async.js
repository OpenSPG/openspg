!(function(){var Fr=Math.pow;(self.webpackChunkcognik_web_app=self.webpackChunkcognik_web_app||[]).push([[4768],{20832:function(Ft,qe,y){"use strict";y.d(qe,{MG:function(){return C},V7:function(){return X},Yq:function(){return ee},eR:function(){return ge},jt:function(){return m},tT:function(){return S}});var u=y(15767),U=y(54663),H=y(64820);function q(k){return typeof k=="boolean"?!1:"enter"in k&&"update"in k&&"exit"in k}function C(k){if(!k)return{enter:!1,update:!1,exit:!1};var A=["enter","update","exit"],N=Object.fromEntries(Object.entries(k).filter(function(V){var j=(0,u.CR)(V,1),xe=j[0];return!A.includes(xe)}));return Object.fromEntries(A.map(function(V){return q(k)?k[V]===!1?[V,!1]:[V,(0,u.pi)((0,u.pi)({},k[V]),N)]:[V,N]}))}function ee(k,A){k?k.finished.then(A):A()}function X(k,A){k.length===0?A():Promise.all(k.map(function(N){return N==null?void 0:N.finished})).then(A)}function de(k,A){"update"in k?k.update(A):k.attr(A)}function m(k,A,N){if(A.length===0)return null;if(!N){var V=A.slice(-1)[0];return de(k,{style:V}),null}return k.animate(A,N)}function Z(k,A){return!(k.nodeName!=="text"||A.nodeName!=="text"||k.attributes.text!==A.attributes.text)}function S(k,A,N,V){if(V===void 0&&(V="destroy"),Z(k,A))return k.remove(),[null];var j=function(){V==="destroy"?k.destroy():V==="hide"&&(0,H.Cp)(k),A.isVisible()&&(0,H.$Z)(A)};if(!N)return j(),[null];var xe=N.duration,Le=xe===void 0?0:xe,Ge=N.delay,je=Ge===void 0?0:Ge,ke=Math.ceil(+Le/2),Ee=+Le/4,ve=(0,u.CR)(k.getGeometryBounds().center,2),Mt=ve[0],St=ve[1],Pt=(0,u.CR)(A.getGeometryBounds().center,2),_t=Pt[0],Zt=Pt[1],Ot=(0,u.CR)([(Mt+_t)/2-Mt,(St+Zt)/2-St],2),Jt=Ot[0],$t=Ot[1],Qt=k.style.opacity,F=Qt===void 0?1:Qt,ae=A.style.opacity,lt=ae===void 0?1:ae,Rt=k.style.transform||"",me=A.style.transform||"",ue=k.animate([{opacity:F,transform:"translate(0, 0) ".concat(Rt)},{opacity:0,transform:"translate(".concat(Jt,", ").concat($t,") ").concat(Rt)}],(0,u.pi)((0,u.pi)({fill:"both"},N),{duration:je+ke+Ee})),G=A.animate([{opacity:0,transform:"translate(".concat(-Jt,", ").concat(-$t,") ").concat(me),offset:.01},{opacity:lt,transform:"translate(0, 0) ".concat(me)}],(0,u.pi)((0,u.pi)({fill:"both"},N),{duration:ke+Ee,delay:je+ke-Ee}));return ee(G,j),[ue,G]}function ge(k,A,N){var V={},j={};return Object.entries(A).forEach(function(xe){var Le=(0,u.CR)(xe,2),Ge=Le[0],je=Le[1];if(!(0,U.Z)(je)){var ke=k.style[Ge]||k.parsedStyle[Ge]||0;ke!==je&&(V[Ge]=ke,j[Ge]=je)}}),N?m(k,[V,j],(0,u.pi)({fill:"both"},N)):(de(k,j),null)}},71350:function(Ft,qe,y){"use strict";y.d(qe,{w:function(){return X}});var u=y(15767),U=y(1478),H=y(64820),q=y(97289),C=y(59697);function ee(){(0,H.WD)(this,this.attributes.visibility!=="hidden")}var X=function(de){(0,u.ZT)(m,de);function m(Z,S){S===void 0&&(S={});var ge=de.call(this,(0,q.n)({},{style:S},Z))||this;return ge.initialized=!1,ge._defaultOptions=S,ge}return Object.defineProperty(m.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=(0,C.g)(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),m.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},m.prototype.disconnectedCallback=function(){var Z;(Z=this._offscreen)===null||Z===void 0||Z.destroy()},m.prototype.attributeChangedCallback=function(Z){Z==="visibility"&&ee.call(this)},m.prototype.update=function(Z,S){var ge;return this.attr((0,q.n)({},this.attributes,Z||{})),(ge=this.render)===null||ge===void 0?void 0:ge.call(this,this.attributes,this,S)},m.prototype.clear=function(){this.removeChildren()},m.prototype.bindEvents=function(Z,S){},m.prototype.getSubShapeStyle=function(Z){var S=Z.x,ge=Z.y,k=Z.transform,A=Z.transformOrigin,N=Z.class,V=Z.className,j=Z.zIndex,xe=(0,u._T)(Z,["x","y","transform","transformOrigin","class","className","zIndex"]);return xe},m}(U.b_)},83016:function(Ft,qe,y){"use strict";y.d(qe,{x:function(){return q}});var u=y(15767),U=y(1478),H=y(59697),q=function(C){(0,u.ZT)(ee,C);function ee(X){X===void 0&&(X={});var de=X.style,m=(0,u._T)(X,["style"]);return C.call(this,(0,u.pi)({style:(0,u.pi)({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},de)},m))||this}return Object.defineProperty(ee.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=(0,H.g)(this)),this._offscreen},enumerable:!1,configurable:!0}),ee.prototype.disconnectedCallback=function(){var X;(X=this._offscreen)===null||X===void 0||X.destroy()},ee}(U.xv)},6234:function(Ft,qe,y){"use strict";y.d(qe,{R:function(){return hn}});var u=y(15767),U=y(20832),H=y(71350),q=y(22397);function C(_,I){if(_.length<=I)return _;for(var Q=Math.floor(_.length/I),Te=[],Re=0;Re<_.length;Re+=Q)Te.push(_[Re]);return Te}var ee=y(50885),X=y(60817),de=y(90079),m=y(88803);function Z(_){return _*Math.PI/180}function S(_){return Number((_*180/Math.PI).toPrecision(5))}var ge=y(20949),k=y(88021);function A(_,I){return _.style.opacity||(_.style.opacity=1),(0,U.eR)(_,{opacity:0},I)}var N=y(58420),V=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function j(_){return V.includes(_)}function xe(_){var I={};for(var Q in _)j(Q)&&(I[Q]=_[Q]);return I}var Le=(0,N.A)({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function Ge(_){return _.reduce(function(I,Q,Te){return I.push((0,u.ev)([Te===0?"M":"L"],(0,u.CR)(Q),!1)),I},[])}function je(_,I,Q){var Te=I.connect,Re=Te===void 0?"line":Te,we=I.center;if(Re==="line")return Ge(_);if(!we)return[];var Fe=(0,m.TE)(_[0],we),$e=Q?0:1;return _.reduce(function(Je,st,yt){return yt===0?Je.push((0,u.ev)(["M"],(0,u.CR)(st),!1)):Je.push((0,u.ev)(["A",Fe,Fe,0,0,$e],(0,u.CR)(st),!1)),Je},[])}function ke(_,I,Q){return I.type==="surround"?je(_,I,Q):Ge(_)}function Ee(_,I,Q){var Te=Q.type,Re=Q.connect,we=Q.center,Fe=Q.closed,$e=Fe?[["Z"]]:[],Je=(0,u.CR)([ke(_,Q),ke(I.slice().reverse(),Q,!0)],2),st=Je[0],yt=Je[1],xt=(0,u.CR)([_[0],I.slice(-1)[0]],2),Dt=xt[0],Ct=xt[1],zt=function(sn,dn){return[st,sn,yt,dn,$e].flat()};if(Re==="line"||Te==="surround")return zt([(0,u.ev)(["L"],(0,u.CR)(Ct),!1)],[(0,u.ev)(["L"],(0,u.CR)(Dt),!1)]);if(!we)throw new Error("Arc grid need to specified center");var qt=(0,u.CR)([(0,m.TE)(Ct,we),(0,m.TE)(Dt,we)],2),Kt=qt[0],nn=qt[1];return zt([(0,u.ev)(["A",Kt,Kt,0,0,1],(0,u.CR)(Ct),!1),(0,u.ev)(["L"],(0,u.CR)(Ct),!1)],[(0,u.ev)(["A",nn,nn,0,0,0],(0,u.CR)(Dt),!1),(0,u.ev)(["L"],(0,u.CR)(Dt),!1)])}function ve(_,I,Q,Te){var Re=Q.animate,we=Q.isBillboard,Fe=I.map(function($e,Je){return{id:$e.id||"grid-line-".concat(Je),d:ke($e.points,Q)}});return _.selectAll(Le.line.class).data(Fe,function($e){return $e.id}).join(function($e){return $e.append("path").each(function(Je,st){var yt=(0,k.S)(xe((0,u.pi)({d:Je.d},Te)),[Je,st,Fe]);this.attr((0,u.pi)({class:Le.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:we},yt))})},function($e){return $e.transition(function(Je,st){var yt=(0,k.S)(xe((0,u.pi)({d:Je.d},Te)),[Je,st,Fe]);return(0,U.eR)(this,yt,Re.update)})},function($e){return $e.transition(function(){var Je=this,st=A(this,Re.exit);return(0,U.Yq)(st,function(){return Je.remove()}),st})}).transitions()}function Mt(_,I,Q){var Te=Q.animate,Re=Q.connect,we=Q.areaFill;if(I.length<2||!we||!Re)return[];for(var Fe=Array.isArray(we)?we:[we,"transparent"],$e=function(zt){return Fe[zt%Fe.length]},Je=[],st=0;st<I.length-1;st++){var yt=(0,u.CR)([I[st].points,I[st+1].points],2),xt=yt[0],Dt=yt[1],Ct=Ee(xt,Dt,Q);Je.push({d:Ct,fill:$e(st)})}return _.selectAll(Le.region.class).data(Je,function(zt,qt){return qt}).join(function(zt){return zt.append("path").each(function(qt,Kt){var nn=(0,k.S)(qt,[qt,Kt,Je]);this.attr(nn)}).attr("className",Le.region.name)},function(zt){return zt.transition(function(qt,Kt){var nn=(0,k.S)(qt,[qt,Kt,Je]);return(0,U.eR)(this,nn,Te.update)})},function(zt){return zt.transition(function(){var qt=this,Kt=A(this,Te.exit);return(0,U.Yq)(Kt,function(){return qt.remove()}),Kt})}).transitions()}function St(_){var I=_.data,Q=I===void 0?[]:I,Te=_.closed;return Te?Q.map(function(Re){var we=Re.points,Fe=(0,u.CR)(we,1),$e=Fe[0];return(0,u.pi)((0,u.pi)({},Re),{points:(0,u.ev)((0,u.ev)([],(0,u.CR)(we),!1),[$e],!1)})}):Q}var Pt=function(_){(0,u.ZT)(I,_);function I(){return _!==null&&_.apply(this,arguments)||this}return I.prototype.render=function(Q,Te){var Re=Q.type,we=Q.center,Fe=Q.areaFill,$e=Q.closed,Je=(0,u._T)(Q,["type","center","areaFill","closed"]),st=St(Q),yt=(0,ee.Ys)(Te).maybeAppendByClassName(Le.lineGroup,"g"),xt=(0,ee.Ys)(Te).maybeAppendByClassName(Le.regionGroup,"g"),Dt=ve(yt,st,Q,Je),Ct=Mt(xt,st,Q);return(0,u.ev)((0,u.ev)([],(0,u.CR)(Dt),!1),(0,u.CR)(Ct),!1)},I}(H.w),_t=y(85695),Zt=function(_,I){return function(Q){return _*(1-Q)+I*Q}};function Ot(_,I){var Q=I?I.length:0,Te=_?Math.min(Q,_.length):0;return function(Re){var we=new Array(Te),Fe=new Array(Q),$e=0;for($e=0;$e<Te;++$e)we[$e]=$t(_[$e],I[$e]);for(;$e<Q;++$e)Fe[$e]=I[$e];for($e=0;$e<Te;++$e)Fe[$e]=we[$e](Re);return Fe}}function Jt(_,I){_===void 0&&(_={}),I===void 0&&(I={});var Q={},Te={};return Object.entries(I).forEach(function(Re){var we=(0,u.CR)(Re,2),Fe=we[0],$e=we[1];Fe in _?Q[Fe]=$t(_[Fe],$e):Te[Fe]=$e}),function(Re){return Object.entries(Q).forEach(function(we){var Fe=(0,u.CR)(we,2),$e=Fe[0],Je=Fe[1];return Te[$e]=Je(Re)}),Te}}function $t(_,I){return typeof _=="number"&&typeof I=="number"?Zt(_,I):Array.isArray(_)&&Array.isArray(I)?Ot(_,I):typeof _=="object"&&typeof I=="object"?Jt(_,I):function(Q){return _}}function Qt(_,I,Q,Te){if(!Te)return _.attr("__keyframe_data__",Q),null;var Re=Te.duration,we=Re===void 0?0:Re,Fe=$t(I,Q),$e=Math.ceil(+we/16),Je=new Array($e).fill(0).map(function(st,yt,xt){return{__keyframe_data__:Fe(yt/(xt.length-1))}});return _.animate(Je,(0,u.pi)({fill:"both"},Te))}var F=y(27872),ae=y(64575);function lt(_,I){var Q={},Te=Array.isArray(I)?I:[I];for(var Re in _)Te.includes(Re)||(Q[Re]=_[Re]);return Q}function Rt(_,I){return Object.fromEntries(Object.entries(_).map(function(Q){var Te=(0,u.CR)(Q,2),Re=Te[0],we=Te[1];return[Re,(0,k.S)(we,I)]}))}function me(_){if(_.type==="linear"){var I=_.startPos,Q=_.endPos;return __spreadArray(__spreadArray([],__read(I),!1),__read(Q),!1)}var Te=_.startAngle,Re=_.endAngle,we=_.center,Fe=_.radius;return __spreadArray(__spreadArray([Te,Re],__read(we),!1),[Fe],!1)}function ue(_,I){return I&&(0,de.Z)(I)?_.filter(I):_}function G(_,I){var Q=I.startAngle,Te=I.endAngle;return(Te-Q)*_+Q}function R(_,I){if(I.type==="linear"){var Q=(0,u.CR)(I.startPos,2),Te=Q[0],Re=Q[1],we=(0,u.CR)(I.endPos,2),Fe=we[0],$e=we[1],Je=(0,u.CR)([Fe-Te,$e-Re],2),st=Je[0],yt=Je[1];return(0,m.Fv)([st,yt])}var xt=Z(G(_,I));return[-Math.sin(xt),Math.cos(xt)]}function oe(_,I,Q){var Te=R(_,Q);return(0,m.KR)(Te,I!=="positive")}function x(_,I){return oe(_,I.labelDirection,I)}function v(_,I){var Q=(0,u.CR)(I.startPos,2),Te=Q[0],Re=Q[1],we=(0,u.CR)(I.endPos,2),Fe=we[0],$e=we[1],Je=(0,u.CR)([Fe-Te,$e-Re],2),st=Je[0],yt=Je[1];return[Te+st*_,Re+yt*_]}function b(_,I){var Q=I.radius,Te=(0,u.CR)(I.center,2),Re=Te[0],we=Te[1],Fe=Z(G(_,I));return[Re+Q*Math.cos(Fe),we+Q*Math.sin(Fe)]}function T(_,I){return I.type==="linear"?v(_,I):b(_,I)}function f(_){return R(0,_)[1]===0}function E(_){return R(0,_)[0]===0}function B(_,I){return I-_===360}function p(_,I,Q,Te,Re){var we=I-_,Fe=(0,u.CR)([Re,Re],2),$e=Fe[0],Je=Fe[1],st=(0,u.CR)([Z(_),Z(I)],2),yt=st[0],xt=st[1],Dt=function(Nn){return[Q+Re*Math.cos(Nn),Te+Re*Math.sin(Nn)]},Ct=(0,u.CR)(Dt(yt),2),zt=Ct[0],qt=Ct[1],Kt=(0,u.CR)(Dt(xt),2),nn=Kt[0],sn=Kt[1];if(B(_,I)){var dn=(xt+yt)/2,Tt=(0,u.CR)(Dt(dn),2),gn=Tt[0],Ln=Tt[1];return[["M",zt,qt],["A",$e,Je,0,1,0,gn,Ln],["A",$e,Je,0,1,0,nn,sn]]}var An=we>180?1:0,On=_>I?0:1,Dn=!1;return Dn?"M".concat(Q,",").concat(Te,",L").concat(zt,",").concat(qt,",A").concat($e,",").concat(Je,",0,").concat(An,",").concat(On,",").concat(nn,",").concat(sn,",L").concat(Q,",").concat(Te):"M".concat(zt,",").concat(qt,",A").concat($e,",").concat(Je,",0,").concat(An,",").concat(On,",").concat(nn,",").concat(sn)}function P(_){var I=_.attributes,Q=I.startAngle,Te=I.endAngle,Re=I.center,we=I.radius;return(0,u.ev)((0,u.ev)([Q,Te],(0,u.CR)(Re),!1),[we],!1)}function $(_,I,Q,Te){var Re=I.startAngle,we=I.endAngle,Fe=I.center,$e=I.radius;return _.selectAll(X.Ec.line.class).data([{d:p.apply(void 0,(0,u.ev)((0,u.ev)([Re,we],(0,u.CR)(Fe),!1),[$e],!1))}],function(Je,st){return st}).join(function(Je){return Je.append("path").attr("className",X.Ec.line.name).styles(I).styles({d:function(st){return st.d}})},function(Je){return Je.transition(function(){var st=this,yt=Qt(this,P(this),(0,u.ev)((0,u.ev)([Re,we],(0,u.CR)(Fe),!1),[$e],!1),Te.update);if(yt){var xt=function(){var Dt=(0,_t.Z)(st.attributes,"__keyframe_data__");st.style.d=p.apply(void 0,(0,u.ev)([],(0,u.CR)(Dt),!1))};yt.onframe=xt,yt.onfinish=xt}return yt}).styles(I)},function(Je){return Je.remove()}).styles(Q).transitions()}function a(_,I){var Q=I.truncRange,Te=I.truncShape,Re=I.lineExtension}function c(_,I,Q){Q===void 0&&(Q=[0,0]);var Te=(0,u.CR)([_,I,Q],3),Re=(0,u.CR)(Te[0],2),we=Re[0],Fe=Re[1],$e=(0,u.CR)(Te[1],2),Je=$e[0],st=$e[1],yt=(0,u.CR)(Te[2],2),xt=yt[0],Dt=yt[1],Ct=(0,u.CR)([Je-we,st-Fe],2),zt=Ct[0],qt=Ct[1],Kt=Math.sqrt(Math.pow(zt,2)+Math.pow(qt,2)),nn=(0,u.CR)([-xt/Kt,Dt/Kt],2),sn=nn[0],dn=nn[1];return[sn*zt,sn*qt,dn*zt,dn*qt]}function L(_){var I=(0,u.CR)(_,2),Q=(0,u.CR)(I[0],2),Te=Q[0],Re=Q[1],we=(0,u.CR)(I[1],2),Fe=we[0],$e=we[1];return{x1:Te,y1:Re,x2:Fe,y2:$e}}function J(_,I,Q,Te){var Re=I.showTrunc,we=I.startPos,Fe=I.endPos,$e=I.truncRange,Je=I.lineExtension,st=(0,u.CR)([we,Fe],2),yt=(0,u.CR)(st[0],2),xt=yt[0],Dt=yt[1],Ct=(0,u.CR)(st[1],2),zt=Ct[0],qt=Ct[1],Kt=(0,u.CR)(Je?c(we,Fe,Je):new Array(4).fill(0),4),nn=Kt[0],sn=Kt[1],dn=Kt[2],Tt=Kt[3],gn=function(ui){return _.selectAll(X.Ec.line.class).data(ui,function(fr,ir){return ir}).join(function(fr){return fr.append("line").attr("className",function(ir){return"".concat(X.Ec.line.name," ").concat(ir.className)}).styles(Q).transition(function(ir){return(0,U.eR)(this,L(ir.line),!1)})},function(fr){return fr.styles(Q).transition(function(ir){var Gr=ir.line;return(0,U.eR)(this,L(Gr),Te.update)})},function(fr){return fr.remove()}).transitions()};if(!Re||!$e)return gn([{line:[[xt+nn,Dt+sn],[zt+dn,qt+Tt]],className:X.Ec.line.name}]);var Ln=(0,u.CR)($e,2),An=Ln[0],On=Ln[1],Dn=zt-xt,Nn=qt-Dt,Gn=(0,u.CR)([xt+Dn*An,Dt+Nn*An],2),Tn=Gn[0],Xn=Gn[1],Un=(0,u.CR)([xt+Dn*On,Dt+Nn*On],2),Hn=Un[0],Sr=Un[1],Cr=gn([{line:[[xt+nn,Dt+sn],[Tn,Xn]],className:X.Ec.lineFirst.name},{line:[[Hn,Sr],[zt+dn,qt+Tt]],className:X.Ec.lineSecond.name}]);return a(_,I),Cr}function ne(_,I,Q,Te){var Re=Q.showArrow,we=Q.showTrunc,Fe=Q.lineArrow,$e=Q.lineArrowOffset,Je=Q.lineArrowSize,st;if(I==="arc"?st=_.select(X.Ec.line.class):we?st=_.select(X.Ec.lineSecond.class):st=_.select(X.Ec.line.class),!Re||!Fe||Q.type==="arc"&&B(Q.startAngle,Q.endAngle)){var yt=st.node();yt&&(yt.style.markerEnd=void 0);return}var xt=(0,F.S)(Fe);xt.attr(Te),(0,ae.b)(xt,Je,!0),st.style("markerEnd",xt).style("markerEndOffset",-$e)}function ye(_,I,Q){var Te=I.type,Re,we=(0,ge.zs)(I,"line");return Te==="linear"?Re=J(_,I,lt(we,"arrow"),Q):Re=$(_,I,lt(we,"arrow"),Q),ne(_,Te,I,we),Re}function De(_,I){return oe(_,I.gridDirection,I)}function _e(_){var I=_.type,Q=_.gridCenter;return I==="linear"?Q:Q||_.center}function Xe(_,I){var Q=I.gridLength;return _.map(function(Te,Re){var we=Te.value,Fe=(0,u.CR)(T(we,I),2),$e=Fe[0],Je=Fe[1],st=(0,u.CR)((0,m.bA)(De(we,I),Q),2),yt=st[0],xt=st[1];return{id:Re,points:[[$e,Je],[$e+yt,Je+xt]]}})}function et(_,I){var Q=I.gridControlAngles,Te=_e(I);if(!Te)throw new Error("grid center is not provide");if(_.length<2)throw new Error("Invalid grid data");if(!Q||Q.length===0)throw new Error("Invalid gridControlAngles");var Re=(0,u.CR)(Te,2),we=Re[0],Fe=Re[1];return _.map(function($e,Je){var st=$e.value,yt=(0,u.CR)(T(st,I),2),xt=yt[0],Dt=yt[1],Ct=(0,u.CR)([xt-we,Dt-Fe],2),zt=Ct[0],qt=Ct[1],Kt=[];return Q.forEach(function(nn){var sn=Z(nn),dn=(0,u.CR)([Math.cos(sn),Math.sin(sn)],2),Tt=dn[0],gn=dn[1],Ln=zt*Tt-qt*gn+we,An=zt*gn+qt*Tt+Fe;Kt.push([Ln,An])}),{points:Kt,id:Je}})}function it(_,I,Q,Te){var Re=(0,ge.zs)(Q,"grid"),we=Re.type,Fe=Re.areaFill,$e=_e(Q),Je=ue(I,Q.gridFilter),st=we==="segment"?Xe(Je,Q):et(Je,Q),yt=(0,u.pi)((0,u.pi)({},Re),{center:$e,areaFill:(0,de.Z)(Fe)?Je.map(function(xt,Dt){return(0,k.S)(Fe,[xt,Dt,Je])}):Fe,animate:Te,data:st});return _.selectAll(X.Ec.grid.class).data([1]).join(function(xt){return xt.append(function(){return new Pt({style:yt})}).attr("className",X.Ec.grid.name)},function(xt){return xt.transition(function(){return this.update(yt)})},function(xt){return xt.remove()}).transitions()}function nt(_,I,Q,Te,Re){return Te===void 0&&(Te=!0),Re===void 0&&(Re=!1),Te&&_===I||Re&&_===Q?!0:_>I&&_<Q}var ie=y(64820),ce=y(28915),be=y(50611);function Me(_,I,Q,Te){Q===void 0&&(Q=2),Te===void 0&&(Te="top"),(0,be.Rm)(_,{wordWrap:!0,wordWrapWidth:I,maxLines:Q,textBaseline:Te})}function le(_,I,Q){var Te=_.getBBox(),Re=Te.width,we=Te.height,Fe=(0,u.CR)([I,Q].map(function(st,yt){var xt;return st.includes("%")?parseFloat(((xt=st.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||xt===void 0?void 0:xt[0])||"0")/100*(yt===0?Re:we):st}),2),$e=Fe[0],Je=Fe[1];return[$e,Je]}function Ze(_,I){if(I)try{var Q=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,Te=I.replace(Q,function(Re,we,Fe){return"translate(".concat(le(_,we,Fe),")")});_.attr("transform",Te)}catch(Re){}}var ht=function(_){return _!==void 0&&_!=null&&!Number.isNaN(_)},ft=y(59697),dt=y(54663),ct=y(27475),Nt=function(){function _(I,Q,Te,Re){this.set(I,Q,Te,Re)}return Object.defineProperty(_.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),_.prototype.rotatedPoints=function(I,Q,Te){var Re=this,we=Re.x1,Fe=Re.y1,$e=Re.x2,Je=Re.y2,st=Math.cos(I),yt=Math.sin(I),xt=Q-Q*st+Te*yt,Dt=Te-Q*yt-Te*st,Ct=[[st*we-yt*Je+xt,yt*we+st*Je+Dt],[st*$e-yt*Je+xt,yt*$e+st*Je+Dt],[st*we-yt*Fe+xt,yt*we+st*Fe+Dt],[st*$e-yt*Fe+xt,yt*$e+st*Fe+Dt]];return Ct},_.prototype.set=function(I,Q,Te,Re){return Te<I?(this.x2=I,this.x1=Te):(this.x1=I,this.x2=Te),Re<Q?(this.y2=Q,this.y1=Re):(this.y1=Q,this.y2=Re),this},_.prototype.defined=function(I){return this[I]!==Number.MAX_VALUE&&this[I]!==-Number.MAX_VALUE},_}();function Bt(_,I){var Q=_.getEulerAngles()||0;_.setEulerAngles(0);var Te=_.getBounds(),Re=(0,u.CR)(Te.min,2),we=Re[0],Fe=Re[1],$e=(0,u.CR)(Te.max,2),Je=$e[0],st=$e[1],yt=_.getBBox(),xt=yt.width,Dt=yt.height,Ct=Dt,zt=0,qt=0,Kt=we,nn=Fe,sn=(0,be.U4)(_);if(sn){Ct-=1.5;var dn=sn.style.textAlign,Tt=sn.style.textBaseline;dn==="center"?Kt=(we+Je)/2:(dn==="right"||dn==="end")&&(Kt=Je),Tt==="middle"?nn=(Fe+st)/2:Tt==="bottom"&&(nn=st)}var gn=(0,u.CR)((0,ct.j)(I),4),Ln=gn[0],An=Ln===void 0?0:Ln,On=gn[1],Dn=On===void 0?0:On,Nn=gn[2],Gn=Nn===void 0?An:Nn,Tn=gn[3],Xn=Tn===void 0?Dn:Tn,Un=new Nt((zt+=we)-Xn,(qt+=Fe)-An,zt+xt+Dn,qt+Ct+Gn);return _.setEulerAngles(Q),Un.rotatedPoints(Z(Q),Kt,nn)}function en(_,I){return I[0]<=Math.max(_[0][0],_[1][0])&&I[0]<=Math.min(_[0][0],_[1][0])&&I[1]<=Math.max(_[0][1],_[1][1])&&I[1]<=Math.min(_[0][1],_[1][1])}function tn(_,I,Q){var Te=(I[1]-_[1])*(Q[0]-I[0])-(I[0]-_[0])*(Q[1]-I[1]);return Te===0?0:Te<0?2:1}function an(_,I){var Q=tn(_[0],_[1],I[0]),Te=tn(_[0],_[1],I[1]),Re=tn(I[0],I[1],_[0]),we=tn(I[0],I[1],_[1]);return!!(Q!==Te&&Re!==we||Q===0&&en(_,I[0])||Te===0&&en(_,I[1])||Re===0&&en(I,_[0])||we===0&&en(I,_[1]))}function Ht(_,I){var Q=_.length;if(Q<3)return!1;var Te=[I,[9999,I[1]]],Re=0,we=0;do{var Fe=[_[we],_[(we+1)%Q]];if(an(Fe,Te)){if(tn(Fe[0],I,Fe[1])===0)return en(Fe,I);Re++}we=(we+1)%Q}while(we!==0);return!!(Re&1)}function pn(_,I){return I.every(function(Q){return Ht(_,Q)})}function mn(_,I,Q){var Te=_.x1,Re=_.x2,we=_.y1,Fe=_.y2,$e=[[Te,we],[Re,we],[Re,Fe],[Te,Fe]],Je=Bt(I,Q);return pn($e,Je)}function ln(_,I){var Q=(0,u.CR)(_,4),Te=Q[0],Re=Q[1],we=Q[2],Fe=Q[3],$e=(0,u.CR)(I,4),Je=$e[0],st=$e[1],yt=$e[2],xt=$e[3],Dt=we-Te,Ct=Fe-Re,zt=yt-Je,qt=xt-st,Kt=Dt*qt-zt*Ct;if(Kt===0)return!1;var nn=Kt>0,sn=Te-Je,dn=Re-st,Tt=Dt*dn-Ct*sn;if(Tt<0===nn)return!1;var gn=zt*dn-qt*sn;return!(gn<0===nn||Tt>Kt===nn||gn>Kt===nn)}function yn(_,I){var Q=[[_[0],_[1],_[2],_[3]],[_[2],_[3],_[4],_[5]],[_[4],_[5],_[6],_[7]],[_[6],_[7],_[0],_[1]]];return Q.some(function(Te){return ln(I,Te)})}var xn={lineToLine:ln,intersectBoxLine:yn,getBounds:Bt};function En(_,I,Q){var Te,Re,we=Bt(_,Q).flat(1),Fe=Bt(I,Q).flat(1),$e=[[we[0],we[1],we[2],we[3]],[we[0],we[1],we[4],we[5]],[we[4],we[5],we[6],we[7]],[we[2],we[3],we[6],we[7]]];try{for(var Je=(0,u.XA)($e),st=Je.next();!st.done;st=Je.next()){var yt=st.value;if(yn(Fe,yt))return!0}}catch(xt){Te={error:xt}}finally{try{st&&!st.done&&(Re=Je.return)&&Re.call(Je)}finally{if(Te)throw Te.error}}return!1}function bn(_,I){var Q=_.type,Te=_.labelDirection,Re=_.crossSize;if(!Re)return!1;if(Q==="arc"){var we=_.center,Fe=_.radius,$e=(0,u.CR)(we,2),Je=$e[0],st=$e[1],yt=Te==="negative"?0:Re,xt=-Fe-yt,Dt=Fe+yt,Ct=(0,u.CR)((0,ct.j)(I),4),zt=Ct[0],qt=Ct[1],Kt=Ct[2],nn=Ct[3];return new Nt(Je+xt-nn,st+xt-zt,Je+Dt+qt,st+Dt+Kt)}var sn=(0,u.CR)(_.startPos,2),dn=sn[0],Tt=sn[1],gn=(0,u.CR)(_.endPos,2),Ln=gn[0],An=gn[1],On=(0,u.CR)(E(_)?[-I,0,I,0]:[0,I,0,-I],4),Dn=On[0],Nn=On[1],Gn=On[2],Tn=On[3],Xn=x(0,_),Un=(0,m.bA)(Xn,Re),Hn=new Nt(dn,Tt,Ln,An);return Hn.x1+=Tn,Hn.y1+=Dn,Hn.x2+=Nn+Un[0],Hn.y2+=Gn+Un[1],Hn}function wn(_,I,Q){var Te,Re,we=I.crossPadding,Fe=new Set,$e=null,Je=bn(I,we),st=function(zt){return Je?mn(Je,zt):!0},yt=function(zt,qt){return!zt||!zt.firstChild?!0:!En(zt.firstChild,qt.firstChild,(0,ct.j)(Q))};try{for(var xt=(0,u.XA)(_),Dt=xt.next();!Dt.done;Dt=xt.next()){var Ct=Dt.value;st(Ct)?!$e||yt($e,Ct)?$e=Ct:(Fe.add($e),Fe.add(Ct)):Fe.add(Ct)}}catch(zt){Te={error:zt}}finally{try{Dt&&!Dt.done&&(Re=xt.return)&&Re.call(xt)}finally{if(Te)throw Te.error}}return Array.from(Fe)}function Bn(_,I){return I===void 0&&(I={}),(0,dt.Z)(_)?0:typeof _=="number"?_:Math.floor((0,be.Ux)(_,I))}function lr(_,I,Q,Te){if(!(_.length<=1)){var Re=I.suffix,we=Re===void 0?"...":Re,Fe=I.minLength,$e=I.maxLength,Je=$e===void 0?1/0:$e,st=I.step,yt=st===void 0?" ":st,xt=I.margin,Dt=xt===void 0?[0,0,0,0]:xt,Ct=(0,be.qT)(Te.getTextShape(_[0])),zt=Bn(yt,Ct),qt=Fe?Bn(Fe,Ct):zt,Kt=Bn(Je,Ct);((0,dt.Z)(Kt)||Kt===1/0)&&(Kt=Math.max.apply(null,_.map(function(Un){return Un.getBBox().width})));for(var nn=_.slice(),sn=(0,u.CR)(Dt,4),dn=sn[0],Tt=dn===void 0?0:dn,gn=sn[1],Ln=gn===void 0?0:gn,An=sn[2],On=An===void 0?Tt:An,Dn=sn[3],Nn=Dn===void 0?Ln:Dn,Gn=function(Un){if(nn.forEach(function(Hn){Te.ellipsis(Te.getTextShape(Hn),Un,we)}),nn=wn(_,Q,Dt),nn.length<1)return{value:void 0}},Tn=Kt;Tn>qt+zt;Tn-=zt){var Xn=Gn(Tn);if(typeof Xn=="object")return Xn.value}}}var Jn=y(5796),cr={parity:function(_,I){var Q=I.seq,Te=Q===void 0?2:Q;return _.filter(function(Re,we){return we%Te?((0,ie.Cp)(Re),!1):!0})}},Vt=function(_){return _.filter(ht)};function rr(_,I,Q,Te){var Re=_.length,we=I.keepHeader,Fe=I.keepTail;if(!(Re<=1||Re===2&&we&&Fe)){var $e=cr.parity,Je=function(dn){return dn.forEach(Te.show),dn},st=2,yt=_.slice(),xt=_.slice(),Dt=Math.min.apply(Math,(0,u.ev)([1],(0,u.CR)(_.map(function(dn){return dn.getBBox().width})),!1));if(Q.type==="linear"&&(f(Q)||E(Q))){var Ct=(0,Jn._v)(_[0]).left,zt=(0,Jn._v)(_[Re-1]).right,qt=Math.abs(zt-Ct)||1;st=Math.max(Math.floor(Re*Dt/qt),st)}var Kt,nn;for(we&&(Kt=yt.splice(0,1)[0]),Fe&&(nn=yt.splice(-1,1)[0],yt.reverse()),Je(yt);st<_.length&&wn(Vt(nn?(0,u.ev)((0,u.ev)([nn],(0,u.CR)(xt),!1),[Kt],!1):(0,u.ev)([Kt],(0,u.CR)(xt),!1)),Q,I==null?void 0:I.margin).length;){if(nn&&!Kt&&st%2===0){var sn=yt.splice(0,1);sn.forEach(Te.hide)}else if(nn&&Kt){var sn=yt.splice(0,1);sn.forEach(Te.hide)}xt=$e(Je(yt),{seq:st}),st++}}}function dr(_,I,Q,Te){var Re,we,Fe=I.optionalAngles,$e=Fe===void 0?[0,45,90]:Fe,Je=I.margin,st=I.recoverWhenFailed,yt=st===void 0?!0:st,xt=_.map(function(nn){return nn.getLocalEulerAngles()}),Dt=function(){return wn(_,Q,Je).length<1},Ct=function(nn){return _.forEach(function(sn,dn){var Tt=Array.isArray(nn)?nn[dn]:nn;Te.rotate(sn,+Tt)})};try{for(var zt=(0,u.XA)($e),qt=zt.next();!qt.done;qt=zt.next()){var Kt=qt.value;if(Ct(Kt),Dt())return}}catch(nn){Re={error:nn}}finally{try{qt&&!qt.done&&(we=zt.return)&&we.call(zt)}finally{if(Re)throw Re.error}}yt&&Ct(xt)}function pe(_){var I=_.type,Q=_.labelDirection;return I==="linear"&&f(_)?Q==="negative"?"bottom":"top":"middle"}function te(_,I,Q,Te){var Re=I.wordWrapWidth,we=Re===void 0?50:Re,Fe=I.maxLines,$e=Fe===void 0?3:Fe,Je=I.recoverWhenFailed,st=Je===void 0?!0:Je,yt=I.margin,xt=yt===void 0?[0,0,0,0]:yt,Dt=_.map(function(sn){return sn.attr("maxLines")||1}),Ct=Math.min.apply(Math,(0,u.ev)([],(0,u.CR)(Dt),!1)),zt=function(){return wn(_,Q,xt).length<1},qt=pe(Q),Kt=function(sn){return _.forEach(function(dn,Tt){var gn=Array.isArray(sn)?sn[Tt]:sn;Te.wrap(dn,we,gn,qt)})};if(!(Ct>$e)){for(var nn=Ct;nn<=$e;nn++)if(Kt(nn),zt())return;st&&Kt(Dt)}}var w=new Map([["hide",rr],["rotate",dr],["ellipsis",lr],["wrap",te]]);function g(_,I,Q){return I.labelOverlap.length<1?!1:Q==="hide"?!(0,ft.X)(_[0]):Q==="rotate"?!_.some(function(Te){var Re;return!!(!((Re=Te.attr("transform"))===null||Re===void 0)&&Re.includes("rotate"))}):Q==="ellipsis"||Q==="wrap"?_.filter(function(Te){return Te.querySelector("text")}).length>1:!0}function M(_,I,Q){var Te=I.labelOverlap,Re=Te===void 0?[]:Te;Re.length&&Re.forEach(function(we){var Fe=we.type,$e=w.get(Fe);g(_,I,Fe)&&($e==null||$e(_,we,I,Q))})}function z(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];var Q=function(Te){return Te==="positive"?-1:1};return _.reduce(function(Te,Re){return Te*Q(Re)},1)}function se(_){for(var I=_;I<0;)I+=360;return Math.round(I%360)}function fe(_,I){var Q=(0,u.CR)(_,2),Te=Q[0],Re=Q[1],we=(0,u.CR)(I,2),Fe=we[0],$e=we[1],Je=(0,u.CR)([Te*Fe+Re*$e,Te*$e-Re*Fe],2),st=Je[0],yt=Je[1];return Math.atan2(yt,st)}function Ce(_){var I=(_+360)%180;return nt(I,-90,90)||(I+=180),I}function Ae(_,I,Q){var Te,Re=Q.labelAlign,we=(Te=I.style.transform)===null||Te===void 0?void 0:Te.includes("rotate");if(we)return I.getLocalEulerAngles();var Fe=0,$e=x(_.value,Q),Je=R(_.value,Q);return Re==="horizontal"?0:(Re==="perpendicular"?Fe=fe([1,0],$e):Fe=fe([Je[0]<0?-1:1,0],Je),Ce(S(Fe)))}function Ke(_,I,Q){var Te=Q.type,Re=Q.labelAlign,we=x(_,Q),Fe=se(I),$e=se(S(fe([1,0],we))),Je="center",st="middle";return Te==="linear"?[90,270].includes($e)&&Fe===0?(Je="center",st=we[1]===1?"top":"bottom"):!($e%180)&&[90,270].includes(Fe)?Je="center":$e===0?(nt(Fe,0,90,!1,!0)||nt(Fe,0,90)||nt(Fe,270,360))&&(Je="start"):$e===90?nt(Fe,0,90,!1,!0)?Je="start":(nt(Fe,90,180)||nt(Fe,270,360))&&(Je="end"):$e===270?nt(Fe,0,90,!1,!0)?Je="end":(nt(Fe,90,180)||nt(Fe,270,360))&&(Je="start"):$e===180&&(Fe===90?Je="start":(nt(Fe,0,90)||nt(Fe,270,360))&&(Je="end")):Re==="parallel"?nt($e,0,180,!0)?st="top":st="bottom":Re==="horizontal"?nt($e,90,270,!1)?Je="end":(nt($e,270,360,!1)||nt($e,0,90))&&(Je="start"):Re==="perpendicular"&&(nt($e,90,270)?Je="end":Je="start"),{textAlign:Je,textBaseline:st}}function We(_,I,Q){I.setLocalEulerAngles(_);var Te=I.__data__.value,Re=Ke(Te,_,Q),we=I.querySelector(X.Ec.labelItem.class);we&&ut(we,Re)}function Ve(_,I,Q){var Te=Q.showTick,Re=Q.tickLength,we=Q.tickDirection,Fe=Q.labelDirection,$e=Q.labelSpacing,Je=I.indexOf(_),st=(0,k.S)($e,[_,Je,I]),yt=(0,u.CR)([x(_.value,Q),z(Fe,we)],2),xt=yt[0],Dt=yt[1],Ct=Dt===1?(0,k.S)(Te?Re:0,[_,Je,I]):0,zt=(0,u.CR)((0,m.IH)((0,m.bA)(xt,st+Ct),T(_.value,Q)),2),qt=zt[0],Kt=zt[1];return{x:qt,y:Kt}}function Qe(_,I,Q,Te){var Re=Te.labelFormatter,we=(0,de.Z)(Re)?function(){return(0,F.S)((0,k.S)(Re,[_,I,Q,x(_.value,Te)]))}:function(){return(0,F.S)(_.label||"")};return we}function ut(_,I){_.nodeName==="text"&&_.attr(I)}function gt(_){M(this.node().childNodes,_,{hide:ie.Cp,show:ie.$Z,rotate:function(I,Q){We(+Q,I,_)},ellipsis:function(I,Q,Te){I&&(0,ce.O)(I,Q||1/0,Te)},wrap:function(I,Q,Te){I&&Me(I,Q,Te)},getTextShape:function(I){return I.querySelector("text")}})}function Et(_,I,Q,Te,Re){var we=Q.indexOf(I),Fe=(0,ee.Ys)(_).append(Qe(I,we,Q,Re)).attr("className",X.Ec.labelItem.name).node(),$e=(0,u.CR)((0,ge.Hm)(Rt(Te,[I,we,Q])),2),Je=$e[0],st=$e[1],yt=st.transform,xt=(0,u._T)(st,["transform"]);Ze(Fe,yt);var Dt=Ae(I,Fe,Re);return Fe.getLocalEulerAngles()||Fe.setLocalEulerAngles(Dt),ut(Fe,(0,u.pi)((0,u.pi)({},Ke(I.value,Dt,Re)),Je)),_.attr(xt),Fe}function mt(_,I,Q,Te){var Re=ue(I,Q.labelFilter),we=(0,ge.zs)(Q,"label");return _.selectAll(X.Ec.label.class).data(Re,function(Fe,$e){return $e}).join(function(Fe){return Fe.append("g").attr("className",X.Ec.label.name).transition(function($e){Et(this,$e,I,we,Q);var Je=Ve($e,I,Q),st=Je.x,yt=Je.y;return this.style.transform="translate(".concat(st,", ").concat(yt,")"),null}).call(function(){gt.call(_,Q)})},function(Fe){return Fe.transition(function($e){var Je=this.querySelector(X.Ec.labelItem.class),st=Et(this,$e,I,we,Q),yt=(0,U.tT)(Je,st,Te.update),xt=Ve($e,I,Q),Dt=xt.x,Ct=xt.y,zt=(0,U.eR)(this,{transform:"translate(".concat(Dt,", ").concat(Ct,")")},Te.update);return(0,u.ev)((0,u.ev)([],(0,u.CR)(yt),!1),[zt],!1)}).call(function($e){var Je=(0,_t.Z)($e,"_transitions").flat().filter(ht);(0,U.V7)(Je,function(){gt.call(_,Q)})})},function(Fe){return Fe.transition(function(){var $e=this,Je=A(this.childNodes[0],Te.exit);return(0,U.Yq)(Je,function(){return(0,ee.Ys)($e).remove()}),Je})}).transitions()}function K(_,I){return oe(_,I.tickDirection,I)}function W(_,I){var Q=(0,u.CR)(_,2),Te=Q[0],Re=Q[1];return[[0,0],[Te*I,Re*I]]}function O(_,I,Q,Te,Re){var we=Re.tickLength,Fe=(0,u.CR)(W(Te,(0,k.S)(we,[_,I,Q])),2),$e=(0,u.CR)(Fe[0],2),Je=$e[0],st=$e[1],yt=(0,u.CR)(Fe[1],2),xt=yt[0],Dt=yt[1];return{x1:Je,x2:xt,y1:st,y2:Dt}}function re(_,I,Q,Te,Re){var we=Re.tickFormatter,Fe=K(I.value,Re),$e="line";return(0,de.Z)(we)&&($e=function(){return(0,k.S)(we,[I,Q,Te,Fe])}),_.append($e).attr("className",X.Ec.tickItem.name)}function Ne(_,I,Q,Te,Re,we,Fe){var $e=K(_.value,we),Je=O(_,I,Q,$e,we),st=Je.x1,yt=Je.x2,xt=Je.y1,Dt=Je.y2,Ct=(0,u.CR)((0,ge.Hm)(Rt(Fe,[_,I,Q,$e])),2),zt=Ct[0],qt=Ct[1];Te.node().nodeName==="line"&&Te.styles((0,u.pi)({x1:st,x2:yt,y1:xt,y2:Dt},zt)),Re.attr(qt),Te.styles(zt)}function Be(_,I,Q,Te,Re,we){var Fe=re((0,ee.Ys)(this),_,I,Q,Te);Ne(_,I,Q,Fe,this,Te,Re);var $e=(0,u.CR)(T(_.value,Te),2),Je=$e[0],st=$e[1];return(0,U.eR)(this,{transform:"translate(".concat(Je,", ").concat(st,")")},we)}function Ie(_,I,Q,Te){var Re=ue(I,Q.tickFilter),we=(0,ge.zs)(Q,"tick");return _.selectAll(X.Ec.tick.class).data(Re,function(Fe){return Fe.id||Fe.label}).join(function(Fe){return Fe.append("g").attr("className",X.Ec.tick.name).transition(function($e,Je){return Be.call(this,$e,Je,Re,Q,we,!1)})},function(Fe){return Fe.transition(function($e,Je){return this.removeChildren(),Be.call(this,$e,Je,Re,Q,we,Te.update)})},function(Fe){return Fe.transition(function(){var $e=this,Je=A(this.childNodes[0],Te.exit);return(0,U.Yq)(Je,function(){return $e.remove()}),Je})}).transitions()}var vt=y(2412);function wt(_,I,Q){var Te=Q.titlePosition,Re=Te===void 0?"lb":Te,we=Q.titleSpacing,Fe=(0,vt.li)(Re),$e=_.node().getLocalBounds(),Je=(0,u.CR)($e.min,2),st=Je[0],yt=Je[1],xt=(0,u.CR)($e.halfExtents,2),Dt=xt[0],Ct=xt[1],zt=(0,u.CR)(I.node().getLocalBounds().halfExtents,2),qt=zt[0],Kt=zt[1],nn=(0,u.CR)([st+Dt,yt+Ct],2),sn=nn[0],dn=nn[1],Tt=(0,u.CR)((0,ct.j)(we),4),gn=Tt[0],Ln=Tt[1],An=Tt[2],On=Tt[3];if(["start","end"].includes(Re)&&Q.type==="linear"){var Dn=Q.startPos,Nn=Q.endPos,Gn=(0,u.CR)(Re==="start"?[Dn,Nn]:[Nn,Dn],2),Tn=Gn[0],Xn=Gn[1],Un=(0,m.Fv)([-Xn[0]+Tn[0],-Xn[1]+Tn[1]]),Hn=(0,u.CR)((0,m.bA)(Un,gn),2),Sr=Hn[0],Cr=Hn[1];return{x:Tn[0]+Sr,y:Tn[1]+Cr}}return Fe.includes("t")&&(dn-=Ct+Kt+gn),Fe.includes("r")&&(sn+=Dt+qt+Ln),Fe.includes("l")&&(sn-=Dt+qt+On),Fe.includes("b")&&(dn+=Ct+Kt+An),{x:sn,y:dn}}function Gt(_,I,Q){var Te=_.getGeometryBounds().halfExtents,Re=Te[1]*2;if(I==="vertical"){if(Q==="left")return"rotate(-90) translate(0, ".concat(Re/2,")");if(Q==="right")return"rotate(-90) translate(0, -".concat(Re/2,")")}return""}function Xt(_,I,Q,Te,Re){var we=(0,ge.zs)(Te,"title"),Fe=(0,u.CR)((0,ge.Hm)(we),2),$e=Fe[0],Je=Fe[1],st=Je.transform,yt=Je.transformOrigin,xt=(0,u._T)(Je,["transform","transformOrigin"]);I.styles(xt);var Dt=st||Gt(_.node(),$e.direction,$e.position);_.styles((0,u.pi)((0,u.pi)({},$e),{transformOrigin:yt})),Ze(_.node(),Dt);var Ct=wt((0,ee.Ys)(Q._offscreen||Q.querySelector(X.Ec.mainGroup.class)),I,Te),zt=Ct.x,qt=Ct.y,Kt=(0,U.eR)(I.node(),{transform:"translate(".concat(zt,", ").concat(qt,")")},Re);return Kt}function Yt(_,I,Q,Te){var Re=Q.titleText;return _.selectAll(X.Ec.title.class).data([{title:Re}].filter(function(we){return!!we.title}),function(we,Fe){return we.title}).join(function(we){return we.append(function(){return(0,F.S)(Re)}).attr("className",X.Ec.title.name).transition(function(){return Xt((0,ee.Ys)(this),_,I,Q,Te.enter)})},function(we){return we.transition(function(){return Xt((0,ee.Ys)(this),_,I,Q,Te.update)})},function(we){return we.remove()}).transitions()}function rn(_,I,Q,Te){var Re=_.showLine,we=_.showTick,Fe=_.showLabel,$e=I.maybeAppendByClassName(X.Ec.lineGroup,"g"),Je=(0,q.z)(Re,$e,function(Ct){return ye(Ct,_,Te)})||[],st=I.maybeAppendByClassName(X.Ec.tickGroup,"g"),yt=(0,q.z)(we,st,function(Ct){return Ie(Ct,Q,_,Te)})||[],xt=I.maybeAppendByClassName(X.Ec.labelGroup,"g"),Dt=(0,q.z)(Fe,xt,function(Ct){return mt(Ct,Q,_,Te)})||[];return(0,u.ev)((0,u.ev)((0,u.ev)([],(0,u.CR)(Je),!1),(0,u.CR)(yt),!1),(0,u.CR)(Dt),!1).filter(function(Ct){return!!Ct})}var hn=function(_){(0,u.ZT)(I,_);function I(Q){return _.call(this,Q,X.m5)||this}return I.prototype.render=function(Q,Te,Re){var we=this,Fe=Q.titleText,$e=Q.data,Je=Q.animate,st=Q.showTitle,yt=Q.showGrid,xt=Q.dataThreshold,Dt=Q.truncRange,Ct=C($e,xt).filter(function(gn){var Ln=gn.value;return!(Dt&&Ln>Dt[0]&&Ln<Dt[1])}),zt=(0,U.MG)(Re===void 0?Je:Re),qt=(0,ee.Ys)(Te).maybeAppendByClassName(X.Ec.gridGroup,"g"),Kt=(0,q.z)(yt,qt,function(gn){return it(gn,Ct,Q,zt)})||[],nn=(0,ee.Ys)(Te).maybeAppendByClassName(X.Ec.mainGroup,"g");Fe&&(!this.initialized&&zt.enter||this.initialized&&zt.update)&&rn(Q,(0,ee.Ys)(this.offscreenGroup),Ct,(0,U.MG)(!1));var sn=rn(Q,(0,ee.Ys)(nn.node()),Ct,zt),dn=(0,ee.Ys)(Te).maybeAppendByClassName(X.Ec.titleGroup,"g"),Tt=(0,q.z)(st,dn,function(gn){return Yt(gn,we,Q,zt)})||[];return(0,u.ev)((0,u.ev)((0,u.ev)([],(0,u.CR)(Kt),!1),(0,u.CR)(sn),!1),(0,u.CR)(Tt),!1).flat().filter(function(gn){return!!gn})},I}(H.w)},60817:function(Ft,qe,y){"use strict";y.d(qe,{Ec:function(){return X},m5:function(){return q}});var u=y(11051),U=y(1478),H=y(58420),q={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new U.y$({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]},C=(0,u.Z)({},q,{style:{type:"arc"}}),ee=(0,u.Z)({},q,{style:{}}),X=(0,H.A)({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis")},91715:function(Ft,qe,y){"use strict";y.d(qe,{z:function(){return A}});var u=y(15767),U=y(1478),H=y(71350),q=y(58420),C=y(27475),ee=y(69210),X=y(20949),de=y(50885),m=y(27872),Z=y(5796),S=y(64820),ge={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(N){return N.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},k=(0,q.A)({background:"background",labelGroup:"label-group",label:"label"},"indicator"),A=function(N){(0,u.ZT)(V,N);function V(j){var xe=N.call(this,j,ge)||this;return xe.point=[0,0],xe.group=xe.appendChild(new U.ZA({})),xe.isMutationObserved=!0,xe}return V.prototype.renderBackground=function(){if(this.label){var j=this.attributes,xe=j.position,Le=j.padding,Ge=(0,u.CR)((0,C.j)(Le),4),je=Ge[0],ke=Ge[1],Ee=Ge[2],ve=Ge[3],Mt=this.label.node().getLocalBounds(),St=Mt.min,Pt=Mt.max,_t=new ee.b(St[0]-ve,St[1]-je,Pt[0]+ke-St[0]+ve,Pt[1]+Ee-St[1]+je),Zt=this.getPath(xe,_t),Ot=(0,X.zs)(this.attributes,"background");this.background=(0,de.Ys)(this.group).maybeAppendByClassName(k.background,"path").styles((0,u.pi)((0,u.pi)({},Ot),{d:Zt})),this.group.appendChild(this.label.node())}},V.prototype.renderLabel=function(){var j=this.attributes,xe=j.formatter,Le=j.labelText,Ge=(0,X.zs)(this.attributes,"label"),je=(0,u.CR)((0,X.Hm)(Ge),2),ke=je[0],Ee=je[1],ve=ke.text,Mt=(0,u._T)(ke,["text"]);if(this.label=(0,de.Ys)(this.group).maybeAppendByClassName(k.labelGroup,"g").styles(Ee),!!Le){var St=this.label.maybeAppendByClassName(k.label,function(){return(0,m.S)(xe(Le))}).style("text",xe(Le).toString());St.selectAll("text").styles(Mt)}},V.prototype.adjustLayout=function(){var j=(0,u.CR)(this.point,2),xe=j[0],Le=j[1],Ge=this.attributes,je=Ge.x,ke=Ge.y;this.group.attr("transform","translate(".concat(je-xe,", ").concat(ke-Le,")"))},V.prototype.getPath=function(j,xe){var Le=this.attributes.radius,Ge=xe.x,je=xe.y,ke=xe.width,Ee=xe.height,ve=[["M",Ge+Le,je],["L",Ge+ke-Le,je],["A",Le,Le,0,0,1,Ge+ke,je+Le],["L",Ge+ke,je+Ee-Le],["A",Le,Le,0,0,1,Ge+ke-Le,je+Ee],["L",Ge+Le,je+Ee],["A",Le,Le,0,0,1,Ge,je+Ee-Le],["L",Ge,je+Le],["A",Le,Le,0,0,1,Ge+Le,je],["Z"]],Mt={top:4,right:6,bottom:0,left:2},St=Mt[j],Pt=this.createCorner([ve[St].slice(-2),ve[St+1].slice(-2)]);return ve.splice.apply(ve,(0,u.ev)([St+1,1],(0,u.CR)(Pt),!1)),ve[0][0]="M",ve},V.prototype.createCorner=function(j,xe){xe===void 0&&(xe=10);var Le=.8,Ge=Z.wE.apply(void 0,(0,u.ev)([],(0,u.CR)(j),!1)),je=(0,u.CR)(j,2),ke=(0,u.CR)(je[0],2),Ee=ke[0],ve=ke[1],Mt=(0,u.CR)(je[1],2),St=Mt[0],Pt=Mt[1],_t=(0,u.CR)(Ge?[St-Ee,[Ee,St]]:[Pt-ve,[ve,Pt]],2),Zt=_t[0],Ot=(0,u.CR)(_t[1],2),Jt=Ot[0],$t=Ot[1],Qt=Zt/2,F=Zt/Math.abs(Zt),ae=xe*F,lt=ae/2,Rt=ae*Math.sqrt(3)/2*Le,me=(0,u.CR)([Jt,Jt+Qt-lt,Jt+Qt,Jt+Qt+lt,$t],5),ue=me[0],G=me[1],R=me[2],oe=me[3],x=me[4];return Ge?(this.point=[R,ve-Rt],[["L",ue,ve],["L",G,ve],["L",R,ve-Rt],["L",oe,ve],["L",x,ve]]):(this.point=[Ee+Rt,R],[["L",Ee,ue],["L",Ee,G],["L",Ee+Rt,R],["L",Ee,oe],["L",Ee,x]])},V.prototype.applyVisibility=function(){var j=this.attributes.visibility;j==="hidden"?(0,S.Cp)(this):(0,S.$Z)(this)},V.prototype.bindEvents=function(){this.label.on(U.Dk.BOUNDS_CHANGED,this.renderBackground)},V.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},V}(H.w)},76947:function(Ft,qe,y){"use strict";y.d(qe,{W:function(){return Rt}});var u=y(15767),U=y(71350),H=y(20949),q=y(50885),C=y(69210),ee=y(2412),X=y(1478),de=function(){},m=y(58871),Z=y(58420),S=y(88021);function ge(me,ue){return me.reduce(function(G,R){return(G[R[ue]]=G[R[ue]]||[]).push(R),G},{})}var k=y(97289),A=y(63777),N=y(99860),V=y(20832);function j(me){var ue;return((ue=me[0])===null||ue===void 0?void 0:ue.map(function(G,R){return me.map(function(oe){return oe[R]})}))||[]}var xe=y(64820),Le=y(64575),Ge=y(80806),je=(0,Z.A)({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),ke=function(me){(0,u.ZT)(ue,me);function ue(G){var R=me.call(this,G,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:(0,Ge.LI)(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(oe,x){return"".concat(oe,"/").concat(x)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return R.playState="idle",R.contentGroup=R.appendChild(new X.ZA({class:je.contentGroup.name})),R.playWindow=R.contentGroup.appendChild(new X.ZA({class:je.playWindow.name})),R.innerCurrPage=R.defaultPage,R}return Object.defineProperty(ue.prototype,"defaultPage",{get:function(){var G=this.attributes.defaultPage;return(0,A.Z)(G,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"pageShape",{get:function(){var G=this.pageViews,R=(0,u.CR)(j(G.map(function(B){var p=B.getBBox(),P=p.width,$=p.height;return[P,$]})).map(function(B){return Math.max.apply(Math,(0,u.ev)([],(0,u.CR)(B),!1))}),2),oe=R[0],x=R[1],v=this.attributes,b=v.pageWidth,T=b===void 0?oe:b,f=v.pageHeight,E=f===void 0?x:f;return{pageWidth:T,pageHeight:E}},enumerable:!1,configurable:!0}),ue.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(ue.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),ue.prototype.getBBox=function(){var G=me.prototype.getBBox.call(this),R=G.x,oe=G.y,x=this.controllerShape,v=this.pageShape,b=v.pageWidth,T=v.pageHeight;return new C.b(R,oe,b+x.width,T)},ue.prototype.goTo=function(G){var R=this,oe=this.attributes.animate,x=this,v=x.currPage,b=x.playState,T=x.playWindow,f=x.pageViews;if(b!=="idle"||G<0||f.length<=0||G>=f.length)return null;f[v].setLocalPosition(0,0),this.prepareFollowingPage(G);var E=(0,u.CR)(this.getFollowingPageDiff(G),2),B=E[0],p=E[1];this.playState="running";var P=(0,V.jt)(T,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-B,", ").concat(-p,")")}],oe);return(0,V.Yq)(P,function(){R.innerCurrPage=G,R.playState="idle",R.setVisiblePages([G]),R.updatePageInfo()}),P},ue.prototype.prev=function(){var G=this.attributes.loop,R=this.pageViews.length,oe=this.currPage;if(!G&&oe<=0)return null;var x=G?(oe-1+R)%R:(0,A.Z)(oe-1,0,R);return this.goTo(x)},ue.prototype.next=function(){var G=this.attributes.loop,R=this.pageViews.length,oe=this.currPage;if(!G&&oe>=R-1)return null;var x=G?(oe+1)%R:(0,A.Z)(oe+1,0,R);return this.goTo(x)},ue.prototype.renderClipPath=function(G){var R=this.pageShape,oe=R.pageWidth,x=R.pageHeight;if(!oe||!x){this.contentGroup.style.clipPath=void 0;return}this.clipPath=G.maybeAppendByClassName(je.clipPath,"rect").styles({width:oe,height:x}),this.contentGroup.attr("clipPath",this.clipPath.node())},ue.prototype.setVisiblePages=function(G){this.playWindow.children.forEach(function(R,oe){G.includes(oe)?(0,xe.$Z)(R):(0,xe.Cp)(R)})},ue.prototype.adjustControllerLayout=function(){var G=this,R=G.prevBtnGroup,oe=G.nextBtnGroup,x=G.pageInfoGroup,v=this.attributes,b=v.orientation,T=v.controllerPadding,f=x.getBBox(),E=f.width,B=f.height,p=(0,u.CR)(b==="horizontal"?[-180,0]:[-90,90],2),P=p[0],$=p[1];R.setLocalEulerAngles(P),oe.setLocalEulerAngles($);var a=R.getBBox(),c=a.width,L=a.height,J=oe.getBBox(),ne=J.width,ye=J.height,De=Math.max(c,E,ne),_e=b==="horizontal"?{offset:[[0,0],[c/2+T,0],[c+E+T*2,0]],textAlign:"start"}:{offset:[[De/2,-L-T],[De/2,0],[De/2,ye+T]],textAlign:"center"},Xe=(0,u.CR)(_e.offset,3),et=(0,u.CR)(Xe[0],2),it=et[0],nt=et[1],ie=(0,u.CR)(Xe[1],2),ce=ie[0],be=ie[1],Me=(0,u.CR)(Xe[2],2),le=Me[0],Ze=Me[1],ht=_e.textAlign,ft=x.querySelector("text");ft&&(ft.style.textAlign=ht),R.setLocalPosition(it,nt),x.setLocalPosition(ce,be),oe.setLocalPosition(le,Ze)},ue.prototype.updatePageInfo=function(){var G,R=this,oe=R.currPage,x=R.pageViews,v=R.attributes.formatter;x.length<2||((G=this.pageInfoGroup.querySelector(je.pageInfo.class))===null||G===void 0||G.attr("text",v(oe+1,x.length)),this.adjustControllerLayout())},ue.prototype.getFollowingPageDiff=function(G){var R=this.currPage;if(R===G)return[0,0];var oe=this.attributes.orientation,x=this.pageShape,v=x.pageWidth,b=x.pageHeight,T=G<R?-1:1;return oe==="horizontal"?[T*v,0]:[0,T*b]},ue.prototype.prepareFollowingPage=function(G){var R=this,oe=R.currPage,x=R.pageViews;if(this.setVisiblePages([G,oe]),G!==oe){var v=(0,u.CR)(this.getFollowingPageDiff(G),2),b=v[0],T=v[1];x[G].setLocalPosition(b,T)}},ue.prototype.renderController=function(G){var R=this,oe=this.attributes.controllerSpacing,x=this.pageShape,v=x.pageWidth,b=x.pageHeight,T=this.pageViews.length>=2,f=G.maybeAppendByClassName(je.controller,"g");if((0,xe.WD)(f.node(),T),!!T){var E=(0,H.zs)(this.attributes,"button"),B=(0,H.zs)(this.attributes,"pageNum"),p=(0,u.CR)((0,H.Hm)(E),2),P=p[0],$=p[1],a=P.size,c=(0,u._T)(P,["size"]),L=!f.select(je.prevBtnGroup.class).node(),J=f.maybeAppendByClassName(je.prevBtnGroup,"g").styles($);this.prevBtnGroup=J.node();var ne=J.maybeAppendByClassName(je.prevBtn,"path"),ye=f.maybeAppendByClassName(je.nextBtnGroup,"g").styles($);this.nextBtnGroup=ye.node();var De=ye.maybeAppendByClassName(je.nextBtn,"path");[ne,De].forEach(function(Xe){Xe.styles((0,u.pi)((0,u.pi)({},c),{transformOrigin:"center"})),(0,Le.b)(Xe.node(),a,!0)});var _e=f.maybeAppendByClassName(je.pageInfoGroup,"g");this.pageInfoGroup=_e.node(),_e.maybeAppendByClassName(je.pageInfo,"text").styles(B),this.updatePageInfo(),f.node().setLocalPosition(v+oe,b/2),L&&(this.prevBtnGroup.addEventListener("click",function(){R.prev()}),this.nextBtnGroup.addEventListener("click",function(){R.next()}))}},ue.prototype.render=function(G,R){var oe=G.x,x=oe===void 0?0:oe,v=G.y,b=v===void 0?0:v;this.attr("transform","translate(".concat(x,", ").concat(b,")"));var T=(0,q.Ys)(R);this.renderClipPath(T),this.renderController(T),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},ue.prototype.bindEvents=function(){var G=this,R=(0,N.Z)(function(){return G.render(G.attributes,G)},50);this.playWindow.addEventListener(X.Dk.INSERTED,R),this.playWindow.addEventListener(X.Dk.REMOVED,R)},ue}(U.w),Ee=y(35433),ve=y(23271),Mt=y(27475),St=y(22397),Pt=y(5796),_t=y(27872),Zt=y(28915),Ot=(0,Z.A)({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");function Jt(me){var ue=me.querySelector(Ot.marker.class);return ue?ue.style:{}}var $t=function(me){(0,u.ZT)(ue,me);function ue(G){return me.call(this,G,{span:[1,1],marker:function(){return new X.Cd({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(ue.prototype,"showValue",{get:function(){var G=this.attributes.valueText;return G?typeof G=="string"||typeof G=="number"?G!=="":typeof G=="function"?!0:G.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"actualSpace",{get:function(){var G=this.labelGroup,R=this.valueGroup,oe=this.attributes.markerSize,x=G.node().getBBox(),v=x.width,b=x.height,T=R.node().getBBox(),f=T.width,E=T.height;return{markerWidth:oe,labelWidth:v,valueWidth:f,height:Math.max(oe,b,E)}},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"span",{get:function(){var G=this.attributes.span;if(!G)return[1,1];var R=(0,u.CR)((0,Mt.j)(G),2),oe=R[0],x=R[1],v=this.showValue?x:0,b=oe+v;return[oe/b,v/b]},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"shape",{get:function(){var G,R=this.attributes,oe=R.markerSize,x=R.width,v=this.actualSpace,b=v.markerWidth,T=v.height,f=this.actualSpace,E=f.labelWidth,B=f.valueWidth,p=(0,u.CR)(this.spacing,2),P=p[0],$=p[1];if(x){var a=x-oe-P-$,c=(0,u.CR)(this.span,2),L=c[0],J=c[1];G=(0,u.CR)([L*a,J*a],2),E=G[0],B=G[1]}var ne=b+E+B+P+$;return{width:ne,height:T,markerWidth:b,labelWidth:E,valueWidth:B}},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"spacing",{get:function(){var G=this.attributes.spacing;if(!G)return[0,0];var R=(0,u.CR)((0,Mt.j)(G),2),oe=R[0],x=R[1];return this.showValue?[oe,x]:[oe,0]},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"layout",{get:function(){var G=this.shape,R=G.markerWidth,oe=G.labelWidth,x=G.valueWidth,v=G.width,b=G.height,T=(0,u.CR)(this.spacing,2),f=T[0],E=T[1];return{height:b,width:v,markerWidth:R,labelWidth:oe,valueWidth:x,position:[R/2,R+f,R+oe+f+E]}},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"scaleSize",{get:function(){var G=Jt(this.markerGroup.node()),R=this.attributes,oe=R.markerSize,x=R.markerStrokeWidth,v=x===void 0?G.strokeWidth:x,b=R.markerLineWidth,T=b===void 0?G.lineWidth:b,f=R.markerStroke,E=f===void 0?G.stroke:f,B=+(v||T||(E?1:0))*Math.sqrt(2),p=this.markerGroup.node().getBBox(),P=p.width,$=p.height;return(1-B/Math.max(P,$))*oe},enumerable:!1,configurable:!0}),ue.prototype.renderMarker=function(G){var R=this,oe=this.attributes.marker,x=(0,H.zs)(this.attributes,"marker");this.markerGroup=G.maybeAppendByClassName(Ot.markerGroup,"g").style("zIndex",0),(0,St.z)(!!oe,this.markerGroup,function(){var v,b=R.markerGroup.node(),T=(v=b.childNodes)===null||v===void 0?void 0:v[0],f=typeof oe=="string"?new ve.J({style:{symbol:oe},className:Ot.marker.name}):oe();T?f.nodeName===T.nodeName?T instanceof ve.J?T.update((0,u.pi)((0,u.pi)({},x),{symbol:oe})):((0,Pt.DM)(T,f),(0,q.Ys)(T).styles(x)):(T.remove(),(0,q.Ys)(f).attr("className",Ot.marker.name).styles(x),b.appendChild(f)):(f instanceof ve.J||(0,q.Ys)(f).attr("className",Ot.marker.name).styles(x),b.appendChild(f)),R.markerGroup.node().scale(1/R.markerGroup.node().getScale()[0]);var E=(0,Le.b)(R.markerGroup.node(),R.scaleSize,!0);R.markerGroup.node().style._transform="scale(".concat(E,")")})},ue.prototype.renderLabel=function(G){var R=(0,H.zs)(this.attributes,"label"),oe=R.text,x=(0,u._T)(R,["text"]);this.labelGroup=G.maybeAppendByClassName(Ot.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(Ot.label,function(){return(0,_t.S)(oe)}).styles(x)},ue.prototype.renderValue=function(G){var R=this,oe=(0,H.zs)(this.attributes,"value"),x=oe.text,v=(0,u._T)(oe,["text"]);this.valueGroup=G.maybeAppendByClassName(Ot.valueGroup,"g").style("zIndex",0),(0,St.z)(this.showValue,this.valueGroup,function(){R.valueGroup.maybeAppendByClassName(Ot.value,function(){return(0,_t.S)(x)}).styles(v)})},ue.prototype.renderBackground=function(G){var R=this.shape,oe=R.width,x=R.height,v=(0,H.zs)(this.attributes,"background");this.background=G.maybeAppendByClassName(Ot.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(Ot.background,"rect").styles((0,u.pi)({width:oe,height:x},v))},ue.prototype.adjustLayout=function(){var G=this.layout,R=G.labelWidth,oe=G.valueWidth,x=G.height,v=(0,u.CR)(G.position,3),b=v[0],T=v[1],f=v[2],E=x/2;this.markerGroup.styles({transform:"translate(".concat(b,", ").concat(E,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(T,", ").concat(E,")")}),(0,Zt.O)(this.labelGroup.select(Ot.label.class).node(),Math.ceil(R)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(f,", ").concat(E,")")}),(0,Zt.O)(this.valueGroup.select(Ot.value.class).node(),Math.ceil(oe)))},ue.prototype.render=function(G,R){var oe=(0,q.Ys)(R),x=G.x,v=x===void 0?0:x,b=G.y,T=b===void 0?0:b;oe.styles({transform:"translate(".concat(v,", ").concat(T,")")}),this.renderMarker(oe),this.renderLabel(oe),this.renderValue(oe),this.renderBackground(oe),this.adjustLayout()},ue}(U.w),Qt=(0,Z.A)({page:"item-page",navigator:"navigator",item:"item"},"items"),F=function(me,ue,G){return G===void 0&&(G=!0),me?ue(me):G},ae=function(me){(0,u.ZT)(ue,me);function ue(G){var R=me.call(this,G,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:de,mouseenter:de,mouseleave:de})||this;return R.navigatorShape=[0,0],R}return Object.defineProperty(ue.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"grid",{get:function(){var G=this.attributes,R=G.gridRow,oe=G.gridCol,x=G.data;if(!R&&!oe)throw new Error("gridRow and gridCol can not be set null at the same time");return R&&oe?[R,oe]:R?[R,x.length]:[x.length,oe]},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"renderData",{get:function(){var G=this.attributes,R=G.data,oe=G.layout,x=(0,H.zs)(this.attributes,"item"),v=R.map(function(b,T){var f=b.id,E=f===void 0?T:f,B=b.label,p=b.value;return{id:"".concat(E),index:T,style:(0,u.pi)({layout:oe,labelText:B,valueText:p},Object.fromEntries(Object.entries(x).map(function(P){var $=(0,u.CR)(P,2),a=$[0],c=$[1];return[a,(0,S.S)(c,[b,T,R])]})))}});return v},enumerable:!1,configurable:!0}),ue.prototype.getGridLayout=function(){var G=this,R=this.attributes,oe=R.orientation,x=R.width,v=R.rowPadding,b=R.colPadding,T=(0,u.CR)(this.navigatorShape,1),f=T[0],E=(0,u.CR)(this.grid,2),B=E[0],p=E[1],P=p*B,$=0;return this.pageViews.children.map(function(a,c){var L,J,ne=Math.floor(c/P),ye=c%P,De=G.ifHorizontal(p,B),_e=[Math.floor(ye/De),ye%De];oe==="vertical"&&_e.reverse();var Xe=(0,u.CR)(_e,2),et=Xe[0],it=Xe[1],nt=(x-f-(p-1)*b)/p,ie=a.getBBox().height,ce=(0,u.CR)([0,0],2),be=ce[0],Me=ce[1];return oe==="horizontal"?(L=(0,u.CR)([$,et*(ie+v)],2),be=L[0],Me=L[1],$=it===p-1?0:$+nt+b):(J=(0,u.CR)([it*(nt+b),$],2),be=J[0],Me=J[1],$=et===B-1?0:$+ie+v),{page:ne,index:c,row:et,col:it,pageIndex:ye,width:nt,height:ie,x:be,y:Me}})},ue.prototype.getFlexLayout=function(){var G=this.attributes,R=G.width,oe=G.height,x=G.rowPadding,v=G.colPadding,b=(0,u.CR)(this.navigatorShape,1),T=b[0],f=(0,u.CR)(this.grid,2),E=f[0],B=f[1],p=(0,u.CR)([R-T,oe],2),P=p[0],$=p[1],a=(0,u.CR)([0,0,0,0,0,0,0,0],8),c=a[0],L=a[1],J=a[2],ne=a[3],ye=a[4],De=a[5],_e=a[6],Xe=a[7];return this.pageViews.children.map(function(et,it){var nt,ie,ce,be,Me=et.getBBox(),le=Me.width,Ze=Me.height,ht=_e===0?0:v,ft=_e+ht+le;if(ft<=P&&F(ye,function(ct){return ct<B}))return nt=(0,u.CR)([_e+ht,Xe,ft],3),c=nt[0],L=nt[1],_e=nt[2],{width:le,height:Ze,x:c,y:L,page:J,index:it,pageIndex:ne++,row:De,col:ye++};ie=(0,u.CR)([De+1,0,0,Xe+Ze+x],4),De=ie[0],ye=ie[1],_e=ie[2],Xe=ie[3];var dt=Xe+Ze;return dt<=$&&F(De,function(ct){return ct<E})?(ce=(0,u.CR)([_e,Xe,le],3),c=ce[0],L=ce[1],_e=ce[2],{width:le,height:Ze,x:c,y:L,page:J,index:it,pageIndex:ne++,row:De,col:ye++}):(be=(0,u.CR)([0,0,le,0,J+1,0,0,0],8),c=be[0],L=be[1],_e=be[2],Xe=be[3],J=be[4],ne=be[5],De=be[6],ye=be[7],{width:le,height:Ze,x:c,y:L,page:J,index:it,pageIndex:ne++,row:De,col:ye++})})},Object.defineProperty(ue.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var G=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,R=G.call(this);return R.slice(-1)[0].page>0?(this.navigatorShape=[55,0],G.call(this)):R},enumerable:!1,configurable:!0}),ue.prototype.ifHorizontal=function(G,R){var oe=this.attributes.orientation;return(0,Ee._h)(oe,G,R)},ue.prototype.flattenPage=function(G){G.querySelectorAll(Qt.item.class).forEach(function(R){G.appendChild(R)}),G.querySelectorAll(Qt.page.class).forEach(function(R){var oe=G.removeChild(R);oe.destroy()})},ue.prototype.renderItems=function(G){var R=this.attributes,oe=R.click,x=R.mouseenter,v=R.mouseleave;this.flattenPage(G);var b=this.dispatchCustomEvent.bind(this);(0,q.Ys)(G).selectAll(Qt.item.class).data(this.renderData,function(T){return T.id}).join(function(T){return T.append(function(f){var E=f.style;return new $t({style:E})}).attr("className",Qt.item.name).on("click",function(){oe==null||oe(this),b("itemClick",{item:this})}).on("pointerenter",function(){x==null||x(this),b("itemMouseenter",{item:this})}).on("pointerleave",function(){v==null||v(this),b("itemMouseleave",{item:this})})},function(T){return T.each(function(f){var E=f.style;this.update(E)})},function(T){return T.remove()})},ue.prototype.relayoutNavigator=function(){var G,R=this.attributes,oe=R.layout,x=R.width,v=((G=this.pageViews.children[0])===null||G===void 0?void 0:G.getBBox().height)||0,b=(0,u.CR)(this.navigatorShape,2),T=b[0],f=b[1];this.navigator.update(oe==="grid"?{pageWidth:x-T,pageHeight:v-f}:{})},ue.prototype.adjustLayout=function(){var G=this,R=Object.entries(ge(this.itemsLayout,"page")).map(function(x){var v=(0,u.CR)(x,2),b=v[0],T=v[1];return{page:b,layouts:T}}),oe=(0,u.ev)([],(0,u.CR)(this.navigator.getContainer().children),!1);R.forEach(function(x){var v=x.layouts,b=G.pageViews.appendChild(new X.ZA({className:Qt.page.name}));v.forEach(function(T){var f=T.x,E=T.y,B=T.index,p=T.width,P=T.height,$=oe[B];b.appendChild($),(0,m.Z)($,"__layout__",T),$.update({x:f,y:E,width:p,height:P})})}),this.relayoutNavigator()},ue.prototype.renderNavigator=function(G){var R=this.attributes.orientation,oe=(0,H.zs)(this.attributes,"nav"),x=(0,k.n)({orientation:R},oe),v=this;return G.selectAll(Qt.navigator.class).data(["nav"]).join(function(b){return b.append(function(){return new ke({style:x})}).attr("className",Qt.navigator.name).each(function(){v.navigator=this})},function(b){return b.each(function(){this.update(x)})},function(b){return b.remove()}),this.navigator},ue.prototype.getBBox=function(){return this.navigator.getBBox()},ue.prototype.render=function(G,R){var oe=this.attributes.data;if(!(!oe||oe.length===0)){var x=this.renderNavigator((0,q.Ys)(R));this.renderItems(x.getContainer()),this.adjustLayout()}},ue.prototype.dispatchCustomEvent=function(G,R){var oe=new X.Aw(G,{detail:R});this.dispatchEvent(oe)},ue}(U.w),lt=y(50664),Rt=function(me){(0,u.ZT)(ue,me);function ue(G){return me.call(this,G,lt.bD)||this}return ue.prototype.renderTitle=function(G,R,oe){var x=this.attributes,v=x.showTitle,b=x.titleText,T=(0,H.zs)(this.attributes,"title"),f=(0,u.CR)((0,H.Hm)(T),2),E=f[0],B=f[1];this.titleGroup=G.maybeAppendByClassName(lt.Ec.titleGroup,"g").styles(B);var p=(0,u.pi)((0,u.pi)({width:R,height:oe},E),{text:v?b:""});this.title=this.titleGroup.maybeAppendByClassName(lt.Ec.title,function(){return new ee.Dx({style:p})}).update(p)},ue.prototype.renderItems=function(G,R){var oe=R.x,x=R.y,v=R.width,b=R.height,T=(0,H.zs)(this.attributes,"title",!0),f=(0,u.CR)((0,H.Hm)(T),2),E=f[0],B=f[1],p=(0,u.pi)((0,u.pi)({},E),{width:v,height:b,x:0,y:0});this.itemsGroup=G.maybeAppendByClassName(lt.Ec.itemsGroup,"g").styles((0,u.pi)((0,u.pi)({},B),{transform:"translate(".concat(oe,", ").concat(x,")")}));var P=this;this.itemsGroup.selectAll(lt.Ec.items.class).data(["items"]).join(function($){return $.append(function(){return new ae({style:p})}).attr("className",lt.Ec.items.name).each(function(){P.items=(0,q.Ys)(this)})},function($){return $.update(p)},function($){return $.remove()})},ue.prototype.adjustLayout=function(){var G=this.attributes.showTitle;if(G){var R=this.title.node().getAvailableSpace(),oe=R.x,x=R.y;this.itemsGroup.node().style.transform="translate(".concat(oe,", ").concat(x,")")}},Object.defineProperty(ue.prototype,"availableSpace",{get:function(){var G=this.attributes,R=G.showTitle,oe=G.width,x=G.height;return R?this.title.node().getAvailableSpace():new C.b(0,0,oe,x)},enumerable:!1,configurable:!0}),ue.prototype.getBBox=function(){var G,R,oe=(G=this.title)===null||G===void 0?void 0:G.node(),x=(R=this.items)===null||R===void 0?void 0:R.node();return!oe||!x?me.prototype.getBBox.call(this):(0,ee.jY)(oe,x)},ue.prototype.render=function(G,R){var oe=this.attributes,x=oe.width,v=oe.height,b=oe.x,T=b===void 0?0:b,f=oe.y,E=f===void 0?0:f,B=(0,q.Ys)(R);R.style.transform="translate(".concat(T,", ").concat(E,")"),this.renderTitle(B,x,v),this.renderItems(B,this.availableSpace),this.adjustLayout()},ue}(U.w)},50664:function(Ft,qe,y){"use strict";y.d(qe,{B0:function(){return X},D_:function(){return de},Ec:function(){return Z},bD:function(){return ee}});var u=y(97289),U=y(20949),H=y(58420),q=y(43489),C={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},ee=(0,u.n)({},C,{}),X=(0,u.n)({},C,(0,U.dq)(q.x,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),de=.01,m=.5,Z=(0,H.A)({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend")},43489:function(Ft,qe,y){"use strict";y.d(qe,{H:function(){return S},x:function(){return Z}});var u=y(15767),U=y(71350),H=y(58420),q=y(50885),C=y(22397),ee=y(20949),X=y(23271),de=y(35433),m=(0,H.A)({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),Z={showLabel:!0,formatter:function(ge){return ge.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},S=function(ge){(0,u.ZT)(k,ge);function k(A){return ge.call(this,A,Z)||this}return k.prototype.render=function(A,N){var V=(0,q.Ys)(N).maybeAppendByClassName(m.markerGroup,"g");this.renderMarker(V);var j=(0,q.Ys)(N).maybeAppendByClassName(m.labelGroup,"g");this.renderLabel(j)},k.prototype.renderMarker=function(A){var N=this,V=this.attributes,j=V.orientation,xe=V.markerSymbol,Le=xe===void 0?(0,de._h)(j,"horizontalHandle","verticalHandle"):xe;(0,C.z)(!!Le,A,function(Ge){var je=(0,ee.zs)(N.attributes,"marker"),ke=(0,u.pi)({symbol:Le},je);N.marker=Ge.maybeAppendByClassName(m.marker,function(){return new X.J({style:ke})}).update(ke)})},k.prototype.renderLabel=function(A){var N=this,V=this.attributes,j=V.showLabel,xe=V.orientation,Le=V.spacing,Ge=Le===void 0?0:Le,je=V.formatter;(0,C.z)(j,A,function(ke){var Ee,ve=(0,ee.zs)(N.attributes,"label"),Mt=ve.text,St=(0,u._T)(ve,["text"]),Pt=((Ee=ke.select(m.marker.class))===null||Ee===void 0?void 0:Ee.node().getBBox())||{},_t=Pt.width,Zt=_t===void 0?0:_t,Ot=Pt.height,Jt=Ot===void 0?0:Ot,$t=(0,u.CR)((0,de._h)(xe,[0,Jt+Ge,"center","top"],[Zt+Ge,0,"start","middle"]),4),Qt=$t[0],F=$t[1],ae=$t[2],lt=$t[3];ke.maybeAppendByClassName(m.label,"text").styles((0,u.pi)((0,u.pi)({},St),{x:Qt,y:F,text:je(Mt).toString(),textAlign:ae,textBaseline:lt}))})},k}(U.w)},35433:function(Ft,qe,y){"use strict";y.d(qe,{GU:function(){return Z},_h:function(){return S},jN:function(){return H}});var u=y(15767),U=y(23271);function H(ge,k,A){var N=Math.round((ge-A)/k);return A+N*k}function q(ge,k,A){var N=1.4,V=N*A;return[["M",ge-A,k-V],["L",ge+A,k-V],["L",ge+A,k+V],["L",ge-A,k+V],["Z"]]}var C=1.4,ee=.4;function X(ge,k,A){var N=A,V=N*C,j=N/2,xe=N/6,Le=ge+V*ee;return[["M",ge,k],["L",Le,k+j],["L",ge+V,k+j],["L",ge+V,k-j],["L",Le,k-j],["Z"],["M",Le,k+xe],["L",ge+V-2,k+xe],["M",Le,k-xe],["L",ge+V-2,k-xe]]}function de(ge,k,A){var N=A,V=N*C,j=N/2,xe=N/6,Le=k+V*ee;return[["M",ge,k],["L",ge-j,Le],["L",ge-j,k+V],["L",ge+j,k+V],["L",ge+j,Le],["Z"],["M",ge-xe,Le],["L",ge-xe,k+V-2],["M",ge+xe,Le],["L",ge+xe,k+V-2]]}U.J.registerSymbol("hiddenHandle",q),U.J.registerSymbol("verticalHandle",X),U.J.registerSymbol("horizontalHandle",de);var m=function(ge,k,A){return ge===void 0&&(ge="horizontal"),ge==="horizontal"?k:A};function Z(ge,k,A,N){var V;N===void 0&&(N=4);var j=(0,u.CR)(ge,2),xe=j[0],Le=j[1],Ge=(0,u.CR)(k,2),je=Ge[0],ke=Ge[1],Ee=(0,u.CR)(A,2),ve=Ee[0],Mt=Ee[1],St=(0,u.CR)([je,ke],2),Pt=St[0],_t=St[1],Zt=_t-Pt;return Pt>_t&&(V=(0,u.CR)([_t,Pt],2),Pt=V[0],_t=V[1]),Zt>Le-xe?[xe,Le]:Pt<xe?ve===xe&&Mt===_t?[xe,_t]:[xe,Zt+xe]:_t>Le?Mt===Le&&ve===Pt?[Pt,Le]:[Le-Zt,Le]:[Pt,_t]}function S(ge,k,A){return ge===void 0&&(ge="horizontal"),ge==="horizontal"?k:A}},23271:function(Ft,qe,y){"use strict";y.d(qe,{J:function(){return S}});var u=y(15767),U=y(90079),H=y(71350),q=y(22397),C=y(50885),ee=y(80806),X=y(48758),de=y(43706);function m(ge){var k="default";if((0,X.Z)(ge)&&ge instanceof Image)k="image";else if((0,U.Z)(ge))k="symbol";else if((0,de.Z)(ge)){var A=new RegExp("data:(image|text)");ge.match(A)?k="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(ge)?k="url":k="symbol"}return k}function Z(ge){var k=m(ge);return["base64","url","image"].includes(k)?"image":ge&&k==="symbol"?"path":null}var S=function(ge){(0,u.ZT)(k,ge);function k(){return ge!==null&&ge.apply(this,arguments)||this}return k.prototype.render=function(A,N){var V=A.x,j=V===void 0?0:V,xe=A.y,Le=xe===void 0?0:xe,Ge=this.getSubShapeStyle(A),je=Ge.symbol,ke=Ge.size,Ee=ke===void 0?16:ke,ve=(0,u._T)(Ge,["symbol","size"]),Mt=Z(je);(0,q.z)(!!Mt,(0,C.Ys)(N),function(St){St.maybeAppendByClassName("marker",Mt).attr("className","marker ".concat(Mt,"-marker")).call(function(Pt){if(Mt==="image"){var _t=Ee*2;Pt.styles({img:je,width:_t,height:_t,x:j-Ee,y:Le-Ee})}else{var _t=Ee/2,Zt=(0,U.Z)(je)?je:k.getSymbol(je);Pt.styles((0,u.pi)({d:Zt==null?void 0:Zt(j,Le,_t)},ve))}})})},k.MARKER_SYMBOL_MAP=new Map,k.registerSymbol=function(A,N){k.MARKER_SYMBOL_MAP.set(A,N)},k.getSymbol=function(A){return k.MARKER_SYMBOL_MAP.get(A)},k.getSymbols=function(){return Array.from(k.MARKER_SYMBOL_MAP.keys())},k}(H.w);S.registerSymbol("cross",ee.kC),S.registerSymbol("hyphen",ee.Zb),S.registerSymbol("line",ee.jv),S.registerSymbol("plus",ee.PD),S.registerSymbol("tick",ee.Ky),S.registerSymbol("circle",ee.Xw),S.registerSymbol("point",ee.xm),S.registerSymbol("bowtie",ee.XF),S.registerSymbol("hexagon",ee.bL),S.registerSymbol("square",ee.h6),S.registerSymbol("diamond",ee.tf),S.registerSymbol("triangle",ee.cP),S.registerSymbol("triangle-down",ee.MG),S.registerSymbol("line",ee.jv),S.registerSymbol("dot",ee.AK),S.registerSymbol("dash",ee.P2),S.registerSymbol("smooth",ee.ip),S.registerSymbol("hv",ee.hv),S.registerSymbol("vh",ee.vh),S.registerSymbol("hvh",ee.t7),S.registerSymbol("vhv",ee.sN)},80806:function(Ft,qe,y){"use strict";y.d(qe,{AK:function(){return A},Ky:function(){return S},LI:function(){return je},MG:function(){return ee},P2:function(){return N},PD:function(){return ge},XF:function(){return de},Xw:function(){return u},Zb:function(){return k},bL:function(){return X},cP:function(){return C},h6:function(){return H},hv:function(){return j},ip:function(){return V},jv:function(){return m},kC:function(){return Z},sN:function(){return Ge},t7:function(){return Le},tf:function(){return q},vh:function(){return xe},xm:function(){return U}});var u=function(ke,Ee,ve){return[["M",ke-ve,Ee],["A",ve,ve,0,1,0,ke+ve,Ee],["A",ve,ve,0,1,0,ke-ve,Ee],["Z"]]},U=u,H=function(ke,Ee,ve){return[["M",ke-ve,Ee-ve],["L",ke+ve,Ee-ve],["L",ke+ve,Ee+ve],["L",ke-ve,Ee+ve],["Z"]]},q=function(ke,Ee,ve){return[["M",ke-ve,Ee],["L",ke,Ee-ve],["L",ke+ve,Ee],["L",ke,Ee+ve],["Z"]]},C=function(ke,Ee,ve){var Mt=ve*Math.sin(.3333333333333333*Math.PI);return[["M",ke-ve,Ee+Mt],["L",ke,Ee-Mt],["L",ke+ve,Ee+Mt],["Z"]]},ee=function(ke,Ee,ve){var Mt=ve*Math.sin(.3333333333333333*Math.PI);return[["M",ke-ve,Ee-Mt],["L",ke+ve,Ee-Mt],["L",ke,Ee+Mt],["Z"]]},X=function(ke,Ee,ve){var Mt=ve/2*Math.sqrt(3);return[["M",ke,Ee-ve],["L",ke+Mt,Ee-ve/2],["L",ke+Mt,Ee+ve/2],["L",ke,Ee+ve],["L",ke-Mt,Ee+ve/2],["L",ke-Mt,Ee-ve/2],["Z"]]},de=function(ke,Ee,ve){var Mt=ve-1.5;return[["M",ke-ve,Ee-Mt],["L",ke+ve,Ee+Mt],["L",ke+ve,Ee-Mt],["L",ke-ve,Ee+Mt],["Z"]]},m=function(ke,Ee,ve){return[["M",ke,Ee+ve],["L",ke,Ee-ve]]},Z=function(ke,Ee,ve){return[["M",ke-ve,Ee-ve],["L",ke+ve,Ee+ve],["M",ke+ve,Ee-ve],["L",ke-ve,Ee+ve]]},S=function(ke,Ee,ve){return[["M",ke-ve/2,Ee-ve],["L",ke+ve/2,Ee-ve],["M",ke,Ee-ve],["L",ke,Ee+ve],["M",ke-ve/2,Ee+ve],["L",ke+ve/2,Ee+ve]]},ge=function(ke,Ee,ve){return[["M",ke-ve,Ee],["L",ke+ve,Ee],["M",ke,Ee-ve],["L",ke,Ee+ve]]},k=function(ke,Ee,ve){return[["M",ke-ve,Ee],["L",ke+ve,Ee]]},A=function(ke,Ee,ve){return[["M",ke-ve,Ee],["L",ke+ve,Ee]]},N=A,V=function(ke,Ee,ve){return[["M",ke-ve,Ee],["A",ve/2,ve/2,0,1,1,ke,Ee],["A",ve/2,ve/2,0,1,0,ke+ve,Ee]]},j=function(ke,Ee,ve){return[["M",ke-ve-1,Ee-2.5],["L",ke,Ee-2.5],["L",ke,Ee+2.5],["L",ke+ve+1,Ee+2.5]]},xe=function(ke,Ee,ve){return[["M",ke-ve-1,Ee+2.5],["L",ke,Ee+2.5],["L",ke,Ee-2.5],["L",ke+ve+1,Ee-2.5]]},Le=function(ke,Ee,ve){return[["M",ke-(ve+1),Ee+2.5],["L",ke-ve/2,Ee+2.5],["L",ke-ve/2,Ee-2.5],["L",ke+ve/2,Ee-2.5],["L",ke+ve/2,Ee+2.5],["L",ke+ve+1,Ee+2.5]]};function Ge(ke,Ee){return[["M",ke-5,Ee+2.5],["L",ke-5,Ee],["L",ke,Ee],["L",ke,Ee-3],["L",ke,Ee+3],["L",ke+6.5,Ee+3]]}var je=function(ke,Ee,ve){return[["M",ke-ve,Ee-ve],["L",ke+ve,Ee],["L",ke-ve,Ee+ve],["Z"]]}},68021:function(Ft,qe,y){"use strict";y.d(qe,{Ec:function(){return C},Qi:function(){return U},b0:function(){return H},fI:function(){return q}});var u=y(58420),U={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},H={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},q={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},C=(0,u.A)({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider")},72807:function(Ft,qe,y){"use strict";y.d(qe,{H:function(){return Z}});var u=y(15767),U=y(71350),H=y(58420),q=y(50885),C=y(20949),ee=y(22397),X=y(68021),de=(0,H.A)({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),m=function(S){(0,u.ZT)(ge,S);function ge(){return S!==null&&S.apply(this,arguments)||this}return ge.prototype.render=function(k,A){var N=k.x,V=k.y,j=k.size,xe=j===void 0?10:j,Le=k.radius,Ge=Le===void 0?xe/4:Le,je=k.orientation,ke=(0,u._T)(k,["x","y","size","radius","orientation"]),Ee=xe,ve=Ee*2.4,Mt=(0,q.Ys)(A).maybeAppendByClassName(de.iconRect,"rect").styles((0,u.pi)((0,u.pi)({},ke),{width:Ee,height:ve,radius:Ge,x:N-Ee/2,y:V-ve/2,transformOrigin:"center"})),St=N+1/3*Ee-Ee/2,Pt=N+2/3*Ee-Ee/2,_t=V+1/4*ve-ve/2,Zt=V+3/4*ve-ve/2;Mt.maybeAppendByClassName("".concat(de.iconLine,"-1"),"line").styles((0,u.pi)({x1:St,x2:St,y1:_t,y2:Zt},ke)),Mt.maybeAppendByClassName("".concat(de.iconLine,"-2"),"line").styles((0,u.pi)({x1:Pt,x2:Pt,y1:_t,y2:Zt},ke)),je==="vertical"&&(Mt.node().style.transform="rotate(90)")},ge}(U.w),Z=function(S){(0,u.ZT)(ge,S);function ge(k){return S.call(this,k,X.fI)||this}return ge.prototype.renderLabel=function(k){var A=this,N=this.attributes,V=N.x,j=N.y,xe=N.showLabel,Le=(0,C.zs)(this.attributes,"label"),Ge=Le.x,je=Ge===void 0?0:Ge,ke=Le.y,Ee=ke===void 0?0:ke,ve=Le.transform,Mt=Le.transformOrigin,St=(0,u._T)(Le,["x","y","transform","transformOrigin"]),Pt=(0,u.CR)((0,C.Hm)(St,[]),2),_t=Pt[0],Zt=Pt[1],Ot=(0,q.Ys)(k).maybeAppendByClassName(de.labelGroup,"g").styles(Zt),Jt=(0,u.pi)((0,u.pi)({},X.b0),_t),$t=Jt.text,Qt=(0,u._T)(Jt,["text"]);(0,ee.z)(!!xe,Ot,function(F){A.label=F.maybeAppendByClassName(de.label,"text").styles((0,u.pi)((0,u.pi)({},Qt),{x:V+je,y:j+Ee,transform:ve,transformOrigin:Mt,text:"".concat($t)})),A.label.on("mousedown",function(ae){ae.stopPropagation()}),A.label.on("touchstart",function(ae){ae.stopPropagation()})})},ge.prototype.renderIcon=function(k){var A=this.attributes,N=A.x,V=A.y,j=A.orientation,xe=A.type,Le=(0,u.pi)((0,u.pi)({x:N,y:V,orientation:j},X.Qi),(0,C.zs)(this.attributes,"icon")),Ge=this.attributes.iconShape,je=Ge===void 0?function(){return new m({style:Le})}:Ge,ke=(0,q.Ys)(k).maybeAppendByClassName(de.iconGroup,"g");ke.selectAll(de.icon.class).data([je]).join(function(Ee){return Ee.append(typeof je=="string"?je:function(){return je(xe)}).attr("className",de.icon.name)},function(Ee){return Ee.update(Le)},function(Ee){return Ee.remove()})},ge.prototype.render=function(k,A){this.renderIcon(A),this.renderLabel(A)},ge}(U.w)},99012:function(Ft,qe,y){"use strict";y.d(qe,{i:function(){return x}});var u=y(15767),U=y(1478),H=y(63777),q=y(20832),C=y(71350),ee=y(83016),X=y(20949),de=y(25889),m=y(27475),Z=y(50885),S=y(22397),ge=y(27604),k=y(12454),A=y(42109),N=y(12637),V=y(22355),j=y(18814),xe=y(90079),Le=y(11051),Ge=y(97289),je=function(v){(0,u.ZT)(b,v);function b(T){var f=this,E=T.style,B=(0,u._T)(T,["style"]);return f=v.call(this,(0,Le.Z)({},{type:"column"},(0,u.pi)({style:E},B)))||this,f.columnsGroup=new U.ZA({name:"columns"}),f.appendChild(f.columnsGroup),f.render(),f}return b.prototype.render=function(){var T=this.attributes,f=T.columns,E=T.x,B=T.y;this.columnsGroup.style.transform="translate(".concat(E,", ").concat(B,")"),(0,Z.Ys)(this.columnsGroup).selectAll(".column").data(f.flat()).join(function(p){return p.append("rect").attr("className","column").each(function(P){this.attr(P)})},function(p){return p.each(function(P){this.attr(P)})},function(p){return p.remove()})},b.prototype.update=function(T){this.attr((0,Ge.n)({},this.attributes,T)),this.render()},b.prototype.clear=function(){this.removeChildren()},b}(U.s$),ke=function(v){(0,u.ZT)(b,v);function b(T){var f=this,E=T.style,B=(0,u._T)(T,["style"]);return f=v.call(this,(0,Le.Z)({},{type:"lines"},(0,u.pi)({style:E},B)))||this,f.linesGroup=f.appendChild(new U.ZA),f.areasGroup=f.appendChild(new U.ZA),f.render(),f}return b.prototype.render=function(){var T=this.attributes,f=T.lines,E=T.areas,B=T.x,p=T.y;this.style.transform="translate(".concat(B,", ").concat(p,")"),f&&this.renderLines(f),E&&this.renderAreas(E)},b.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},b.prototype.update=function(T){this.attr((0,Ge.n)({},this.attributes,T)),this.render()},b.prototype.renderLines=function(T){(0,Z.Ys)(this.linesGroup).selectAll(".line").data(T).join(function(f){return f.append("path").attr("className","line").each(function(E){this.attr(E)})},function(f){return f.each(function(E){this.attr(E)})},function(f){return f.remove()})},b.prototype.renderAreas=function(T){(0,Z.Ys)(this.linesGroup).selectAll(".area").data(T).join(function(f){return f.append("path").attr("className","area").each(function(E){this.attr(E)})},function(f){return f.each(function(E){this.style(E)})},function(f){return f.remove()})},b}(U.s$),Ee=y(87314),ve=y(88803);function Mt(v,b,T,f){var E,B=[],p=!!f,P,$,a=[1/0,1/0],c=[-1/0,-1/0],L,J,ne;if(p){E=(0,u.CR)(f,2),a=E[0],c=E[1];for(var ye=0,De=v.length;ye<De;ye+=1){var _e=v[ye];a=(0,ve.VV)(a,_e),c=(0,ve.Fp)(c,_e)}}for(var ye=0,Xe=v.length;ye<Xe;ye+=1){var _e=v[ye];if(ye===0&&!T)ne=_e;else if(ye===Xe-1&&!T)J=_e,B.push(ne),B.push(J);else{var et=[ye?ye-1:Xe-1,ye-1][T?0:1];P=v[et],$=v[T?(ye+1)%Xe:ye+1];var it=[0,0];it=(0,ve.lu)($,P),it=(0,ve.bA)(it,b);var nt=(0,ve.TE)(_e,P),ie=(0,ve.TE)(_e,$),ce=nt+ie;ce!==0&&(nt/=ce,ie/=ce);var be=(0,ve.bA)(it,-nt),Me=(0,ve.bA)(it,ie);J=(0,ve.IH)(_e,be),L=(0,ve.IH)(_e,Me),L=(0,ve.VV)(L,(0,ve.Fp)($,_e)),L=(0,ve.Fp)(L,(0,ve.VV)($,_e)),be=(0,ve.lu)(L,_e),be=(0,ve.bA)(be,-nt/ie),J=(0,ve.IH)(_e,be),J=(0,ve.VV)(J,(0,ve.Fp)(P,_e)),J=(0,ve.Fp)(J,(0,ve.VV)(P,_e)),Me=(0,ve.lu)(_e,J),Me=(0,ve.bA)(Me,ie/nt),L=(0,ve.IH)(_e,Me),p&&(J=(0,ve.Fp)(J,a),J=(0,ve.VV)(J,c),L=(0,ve.Fp)(L,a),L=(0,ve.VV)(L,c)),B.push(ne),B.push(J),ne=L}}return T&&B.push(B.shift()),B}function St(v,b,T){var f;b===void 0&&(b=!1),T===void 0&&(T=[[0,0],[1,1]]);for(var E=!!b,B=[],p=0,P=v.length;p<P;p+=2)B.push([v[p],v[p+1]]);for(var $=Mt(B,.4,E,T),a=B.length,c=[],L,J,ne,p=0;p<a-1;p+=1)L=$[p*2],J=$[p*2+1],ne=B[p+1],c.push(["C",L[0],L[1],J[0],J[1],ne[0],ne[1]]);return E&&(L=$[a],J=$[a+1],f=(0,u.CR)(B,1),ne=f[0],c.push(["C",L[0],L[1],J[0],J[1],ne[0],ne[1]])),c}function Pt(v,b){var T,f=b.x,E=b.y,B=(0,u.CR)(E.getOptions().range||[0,0],2),p=B[0],P=B[1];return P>p&&(T=(0,u.CR)([p,P],2),P=T[0],p=T[1]),v.map(function($){var a=$.map(function(c,L){return[f.map(L),(0,H.Z)(E.map(c),P,p)]});return a})}function _t(v,b){b===void 0&&(b=!1);var T=b?v.length-1:0,f=v.map(function(E,B){return(0,u.ev)([B===T?"M":"L"],(0,u.CR)(E),!1)});return b?f.reverse():f}function Zt(v,b){if(b===void 0&&(b=!1),v.length<=2)return _t(v);for(var T=[],f=v.length,E=0;E<f;E+=1){var B=b?v[f-E-1]:v[E];(0,Ee.Z)(B,T.slice(-2))||T.push.apply(T,(0,u.ev)([],(0,u.CR)(B),!1))}var p=St(T,!1);return b?p.unshift((0,u.ev)(["M"],(0,u.CR)(v[f-1]),!1)):p.unshift((0,u.ev)(["M"],(0,u.CR)(v[0]),!1)),p}function Ot(v,b,T){var f=(0,N.Z)(v);return f.push(["L",b,T],["L",0,T],["Z"]),f}function Jt(v,b,T,f){return v.map(function(E){return Ot(b?Zt(E):_t(E),T,f)})}function $t(v,b,T){for(var f=[],E=v.length-1;E>=0;E-=1){var B=v[E],p=_t(B),P=void 0;if(E===0)P=Ot(p,b,T);else{var $=v[E-1],a=_t($,!0);a[0][0]="L",P=(0,u.ev)((0,u.ev)((0,u.ev)([],(0,u.CR)(p),!1),(0,u.CR)(a),!1),[["Z"]],!1)}f.push(P)}return f}function Qt(v,b,T){for(var f=[],E=v.length-1;E>=0;E-=1){var B=v[E],p=Zt(B),P=void 0;if(E===0)P=Ot(p,b,T);else{var $=v[E-1],a=Zt($,!0),c=B[0];a[0][0]="L",P=(0,u.ev)((0,u.ev)((0,u.ev)([],(0,u.CR)(p),!1),(0,u.CR)(a),!1),[(0,u.ev)(["M"],(0,u.CR)(c),!1),["Z"]],!1)}f.push(P)}return f}var F=y(45481),ae=function(v,b){if((0,j.Z)(v)){for(var T,f=1/0,E=0;E<v.length;E++){var B=v[E],p=(0,xe.Z)(b)?b(B):B[b];p<f&&(T=B,f=p)}return T}},lt=y(16510),Rt=function(v,b){if((0,j.Z)(v)){for(var T,f=-1/0,E=0;E<v.length;E++){var B=v[E],p=(0,xe.Z)(b)?b(B):B[b];p>f&&(T=B,f=p)}return T}};function me(v){return v.length===0?[0,0]:[(0,F.Z)(ae(v,function(b){return(0,F.Z)(b)||0})),(0,lt.Z)(Rt(v,function(b){return(0,lt.Z)(b)||0}))]}function ue(v){for(var b=(0,N.Z)(v),T=b[0].length,f=(0,u.CR)([Array(T).fill(0),Array(T).fill(0)],2),E=f[0],B=f[1],p=0;p<b.length;p+=1)for(var P=b[p],$=0;$<T;$+=1)P[$]>=0?(P[$]+=E[$],E[$]=P[$]):(P[$]+=B[$],B[$]=P[$]);return b}var G=function(v){(0,u.ZT)(b,v);function b(T){return v.call(this,T,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(b.prototype,"rawData",{get:function(){var T=this.attributes.data;if(!T||(T==null?void 0:T.length)===0)return[[]];var f=(0,N.Z)(T);return(0,V.Z)(f[0])?[f]:f},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"data",{get:function(){return this.attributes.isStack?ue(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"baseline",{get:function(){var T=this.scales.y,f=(0,u.CR)(T.getOptions().domain||[0,0],2),E=f[0],B=f[1];return B<0?T.map(B):T.map(E<0?0:E)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"containerShape",{get:function(){var T=this.attributes,f=T.width,E=T.height;return{width:f,height:E}},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"linesStyle",{get:function(){var T=this,f=this.attributes,E=f.type,B=f.isStack,p=f.smooth;if(E!=="line")throw new Error("linesStyle can only be used in line type");var P=(0,X.zs)(this.attributes,"area"),$=(0,X.zs)(this.attributes,"line"),a=this.containerShape.width,c=this.data;if(c[0].length===0)return{lines:[],areas:[]};var L=this.scales,J=L.x,ne=L.y,ye=Pt(c,{type:"line",x:J,y:ne}),De=[];if(P){var _e=this.baseline;B?De=p?Qt(ye,a,_e):$t(ye,a,_e):De=Jt(ye,p,a,_e)}return{lines:ye.map(function(Xe,et){return(0,u.pi)({stroke:T.getColor(et),d:p?Zt(Xe):_t(Xe)},$)}),areas:De.map(function(Xe,et){return(0,u.pi)({d:Xe,fill:T.getColor(et)},P)})}},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"columnsStyle",{get:function(){var T=this,f=(0,X.zs)(this.attributes,"column"),E=this.attributes,B=E.isStack,p=E.type,P=E.scale;if(p!=="column")throw new Error("columnsStyle can only be used in column type");var $=this.containerShape.height,a=this.rawData;if(!a)return{columns:[]};B&&(a=ue(a));var c=this.createScales(a),L=c.x,J=c.y,ne=(0,u.CR)(me(a),2),ye=ne[0],De=ne[1],_e=new k.b({domain:[0,De-(ye>0?0:ye)],range:[0,$*P]}),Xe=L.getBandWidth(),et=this.rawData;return{columns:a.map(function(it,nt){return it.map(function(ie,ce){var be=Xe/a.length,Me=function(){return{x:L.map(ce)+be*nt,y:ie>=0?J.map(ie):J.map(0),width:be,height:_e.map(Math.abs(ie))}},le=function(){return{x:L.map(ce),y:J.map(ie),width:Xe,height:_e.map(et[nt][ce])}};return(0,u.pi)((0,u.pi)({fill:T.getColor(nt)},f),B?le():Me())})})}},enumerable:!1,configurable:!0}),b.prototype.render=function(T,f){(0,Z.OV)(f,".container","rect").attr("className","container").node();var E=T.type,B=T.x,p=T.y,P="spark".concat(E),$=(0,u.pi)({x:B,y:p},E==="line"?this.linesStyle:this.columnsStyle);(0,Z.Ys)(f).selectAll(".spark").data([E]).join(function(a){return a.append(function(c){return c==="line"?new ke({className:P,style:$}):new je({className:P,style:$})}).attr("className","spark ".concat(P))},function(a){return a.update($)},function(a){return a.remove()})},b.prototype.getColor=function(T){var f=this.attributes.color;return(0,j.Z)(f)?f[T%f.length]:(0,xe.Z)(f)?f.call(null,T):f},b.prototype.createScales=function(T){var f,E,B=this.attributes,p=B.type,P=B.scale,$=B.range,a=$===void 0?[]:$,c=B.spacing,L=this.containerShape,J=L.width,ne=L.height,ye=(0,u.CR)(me(T),2),De=ye[0],_e=ye[1],Xe=new k.b({domain:[(f=a[0])!==null&&f!==void 0?f:De,(E=a[1])!==null&&E!==void 0?E:_e],range:[ne,ne*(1-P)]});return p==="line"?{type:p,x:new k.b({domain:[0,T[0].length-1],range:[0,J]}),y:Xe}:{type:p,x:new A.t({domain:T[0].map(function(et,it){return it}),range:[0,J],paddingInner:c,paddingOuter:c/2,align:.5}),y:Xe}},b.tag="sparkline",b}(C.w),R=y(68021),oe=y(72807),x=function(v){(0,u.ZT)(b,v);function b(T){var f=v.call(this,T,(0,u.pi)((0,u.pi)((0,u.pi)({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(E){return E.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},(0,X.dq)(R.fI,"handle")),(0,X.dq)(R.Qi,"handleIcon")),(0,X.dq)(R.b0,"handleLabel")))||this;return f.range=[0,1],f.onDragStart=function(E){return function(B){B.stopPropagation(),f.target=E,f.prevPos=f.getOrientVal((0,de.s)(B));var p=f.availableSpace,P=p.x,$=p.y,a=f.getBBox(),c=a.x,L=a.y;f.selectionStartPos=f.getRatio(f.prevPos-f.getOrientVal([P,$])-f.getOrientVal([+c,+L])),f.selectionWidth=0,document.addEventListener("pointermove",f.onDragging),document.addEventListener("pointerup",f.onDragEnd)}},f.onDragging=function(E){var B=f.attributes,p=B.slidable,P=B.brushable,$=B.type;E.stopPropagation();var a=f.getOrientVal((0,de.s)(E)),c=a-f.prevPos;if(c){var L=f.getRatio(c);switch(f.target){case"start":p&&f.setValuesOffset(L);break;case"end":p&&f.setValuesOffset(0,L);break;case"selection":p&&f.setValuesOffset(L,L);break;case"track":if(!P)return;f.selectionWidth+=L,$==="range"?f.innerSetValues([f.selectionStartPos,f.selectionStartPos+f.selectionWidth].sort(),!0):f.innerSetValues([0,f.selectionStartPos+f.selectionWidth],!0);break;default:break}f.prevPos=a}},f.onDragEnd=function(){document.removeEventListener("pointermove",f.onDragging),document.removeEventListener("pointermove",f.onDragging),document.removeEventListener("pointerup",f.onDragEnd),f.target="",f.updateHandlesPosition(!1)},f.onValueChange=function(E){var B=f.attributes,p=B.onChange,P=B.type,$=P==="range"?E:E[1],a=P==="range"?f.getValues():f.getValues()[1],c=new U.Aw("valuechange",{detail:{oldValue:$,value:a}});f.dispatchEvent(c),p==null||p(a)},f.selectionStartPos=0,f.selectionWidth=0,f.prevPos=0,f.target="",f}return Object.defineProperty(b.prototype,"values",{get:function(){return this.attributes.values},set:function(T){this.attributes.values=this.clampValues(T)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"sparklineStyle",{get:function(){var T=this.attributes.orientation;if(T!=="horizontal")return null;var f=(0,X.zs)(this.attributes,"sparkline");return(0,u.pi)((0,u.pi)({zIndex:0},this.availableSpace),f)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"shape",{get:function(){var T=this.attributes,f=T.trackLength,E=T.trackSize,B=(0,u.CR)(this.getOrientVal([[f,E],[E,f]]),2),p=B[0],P=B[1];return{width:p,height:P}},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"availableSpace",{get:function(){var T=this.attributes,f=T.x,E=T.y,B=T.padding,p=(0,u.CR)((0,m.j)(B),4),P=p[0],$=p[1],a=p[2],c=p[3],L=this.shape,J=L.width,ne=L.height;return{x:c,y:P,width:J-(c+$),height:ne-(P+a)}},enumerable:!1,configurable:!0}),b.prototype.getValues=function(){return this.values},b.prototype.setValues=function(T,f){T===void 0&&(T=[0,0]),f===void 0&&(f=!1),this.attributes.values=T;var E=f===!1?!1:this.attributes.animate;this.updateSelectionArea(E),this.updateHandlesPosition(E)},b.prototype.updateSelectionArea=function(T){var f=this.calcSelectionArea();this.foregroundGroup.selectAll(R.Ec.selection.class).each(function(E,B){(0,q.eR)(this,f[B],T)})},b.prototype.updateHandlesPosition=function(T){this.attributes.showHandle&&(this.startHandle&&(0,q.eR)(this.startHandle,this.getHandleStyle("start"),T),this.endHandle&&(0,q.eR)(this.endHandle,this.getHandleStyle("end"),T))},b.prototype.innerSetValues=function(T,f){T===void 0&&(T=[0,0]),f===void 0&&(f=!1);var E=this.values,B=this.clampValues(T);this.attributes.values=B,this.setValues(B),f&&this.onValueChange(E)},b.prototype.renderTrack=function(T){var f=this.attributes,E=f.x,B=f.y,p=(0,X.zs)(this.attributes,"track");this.trackShape=(0,Z.Ys)(T).maybeAppendByClassName(R.Ec.track,"rect").styles((0,u.pi)((0,u.pi)({x:E,y:B},this.shape),p))},b.prototype.renderBrushArea=function(T){var f=this.attributes,E=f.x,B=f.y,p=f.brushable;this.brushArea=(0,Z.Ys)(T).maybeAppendByClassName(R.Ec.brushArea,"rect").styles((0,u.pi)({x:E,y:B,fill:"transparent",cursor:p?"crosshair":"default"},this.shape))},b.prototype.renderSparkline=function(T){var f=this,E=this.attributes,B=E.x,p=E.y,P=E.orientation,$=(0,Z.Ys)(T).maybeAppendByClassName(R.Ec.sparklineGroup,"g");(0,S.z)(P==="horizontal",$,function(a){var c=(0,u.pi)((0,u.pi)({},f.sparklineStyle),{x:B,y:p});a.maybeAppendByClassName(R.Ec.sparkline,function(){return new G({style:c})}).update(c)})},b.prototype.renderHandles=function(){var T=this,f,E=this.attributes,B=E.showHandle,p=E.type,P=p==="range"?["start","end"]:["end"],$=B?P:[],a=this;(f=this.foregroundGroup)===null||f===void 0||f.selectAll(R.Ec.handle.class).data($.map(function(c){return{type:c}}),function(c){return c.type}).join(function(c){return c.append(function(L){var J=L.type;return new oe.H({style:T.getHandleStyle(J)})}).each(function(L){var J=L.type;this.attr("class","".concat(R.Ec.handle.name," ").concat(J,"-handle"));var ne="".concat(J,"Handle");a[ne]=this,this.addEventListener("pointerdown",a.onDragStart(J))})},function(c){return c.each(function(L){var J=L.type;this.update(a.getHandleStyle(J))})},function(c){return c.each(function(L){var J=L.type,ne="".concat(J,"Handle");a[ne]=void 0}).remove()})},b.prototype.renderSelection=function(T){var f=this.attributes,E=f.x,B=f.y,p=f.type,P=f.selectionType;this.foregroundGroup=(0,Z.Ys)(T).maybeAppendByClassName(R.Ec.foreground,"g");var $=(0,X.zs)(this.attributes,"selection"),a=function(L){return L.style("visibility",function(J){return J.show?"visible":"hidden"}).style("cursor",function(J){return P==="select"?"grab":P==="invert"?"crosshair":"default"}).styles((0,u.pi)((0,u.pi)({},$),{transform:"translate(".concat(E,", ").concat(B,")")}))},c=this;this.foregroundGroup.selectAll(R.Ec.selection.class).data(p==="value"?[]:this.calcSelectionArea().map(function(L,J){return{style:(0,u.pi)({},L),index:J,show:P==="select"?J===1:J!==1}}),function(L){return L.index}).join(function(L){return L.append("rect").attr("className",R.Ec.selection.name).call(a).each(function(J,ne){var ye=this;ne===1?(c.selectionShape=(0,Z.Ys)(this),this.on("pointerdown",function(De){ye.attr("cursor","grabbing"),c.onDragStart("selection")(De)}),c.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),c.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),c.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){ye.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){ye.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){ye.attr("cursor","pointer")})):this.on("pointerdown",c.onDragStart("track"))})},function(L){return L.call(a)},function(L){return L.remove()}),this.updateSelectionArea(!1),this.renderHandles()},b.prototype.render=function(T,f){this.renderTrack(f),this.renderSparkline(f),this.renderBrushArea(f),this.renderSelection(f)},b.prototype.clampValues=function(T,f){var E;f===void 0&&(f=4);var B=(0,u.CR)(this.range,2),p=B[0],P=B[1],$=(0,u.CR)(this.getValues().map(function(_e){return(0,ge.Zd)(_e,f)}),2),a=$[0],c=$[1],L=Array.isArray(T)?T:[a,T!=null?T:c],J=(0,u.CR)((L||[a,c]).map(function(_e){return(0,ge.Zd)(_e,f)}),2),ne=J[0],ye=J[1];if(this.attributes.type==="value")return[0,(0,H.Z)(ye,p,P)];ne>ye&&(E=(0,u.CR)([ye,ne],2),ne=E[0],ye=E[1]);var De=ye-ne;return De>P-p?[p,P]:ne<p?a===p&&c===ye?[p,ye]:[p,De+p]:ye>P?c===P&&a===ne?[ne,P]:[P-De,P]:[ne,ye]},b.prototype.calcSelectionArea=function(T){var f=(0,u.CR)(this.clampValues(T),2),E=f[0],B=f[1],p=this.availableSpace,P=p.x,$=p.y,a=p.width,c=p.height;return this.getOrientVal([[{y:$,height:c,x:P,width:E*a},{y:$,height:c,x:E*a+P,width:(B-E)*a},{y:$,height:c,x:B*a,width:(1-B)*a}],[{x:P,width:a,y:$,height:E*c},{x:P,width:a,y:E*c+$,height:(B-E)*c},{x:P,width:a,y:B*c,height:(1-B)*c}]])},b.prototype.calcHandlePosition=function(T){var f=this.attributes.handleIconOffset,E=this.availableSpace,B=E.x,p=E.y,P=E.width,$=E.height,a=(0,u.CR)(this.clampValues(),2),c=a[0],L=a[1],J=T==="start"?-f:f,ne=(T==="start"?c:L)*this.getOrientVal([P,$])+J;return{x:B+this.getOrientVal([ne,P/2]),y:p+this.getOrientVal([$/2,ne])}},b.prototype.inferTextStyle=function(T){var f=this.attributes.orientation;return f==="horizontal"?{}:T==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:T==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},b.prototype.calcHandleText=function(T){var f,E=this.attributes,B=E.type,p=E.orientation,P=E.formatter,$=E.autoFitLabel,a=(0,X.zs)(this.attributes,"handle"),c=(0,X.zs)(a,"label"),L=a.spacing,J=this.getHandleSize(),ne=this.clampValues(),ye=T==="start"?ne[0]:ne[1],De=P(ye),_e=new ee.x({style:(0,u.pi)((0,u.pi)((0,u.pi)({},c),this.inferTextStyle(T)),{text:De})}),Xe=_e.getBBox(),et=Xe.width,it=Xe.height;if(_e.destroy(),!$){if(B==="value")return{text:De,x:0,y:-it-L};var nt=L+J+(p==="horizontal"?et/2:0);return f={text:De},f[p==="horizontal"?"x":"y"]=T==="start"?-nt:nt,f}var ie=0,ce=0,be=this.availableSpace,Me=be.width,le=be.height,Ze=this.calcSelectionArea()[1],ht=Ze.x,ft=Ze.y,dt=Ze.width,ct=Ze.height,Nt=L+J;if(p==="horizontal"){var Bt=Nt+et/2;if(T==="start"){var en=ht-Nt-et;ie=en>0?-Bt:Bt}else{var tn=Me-ht-dt-Nt>et;ie=tn?Bt:-Bt}}else{var an=Nt,Ht=it+Nt;T==="start"?ce=ft-J>it?-Ht:an:ce=le-(ft+ct)-J>it?Ht:-an}return{x:ie,y:ce,text:De}},b.prototype.getHandleLabelStyle=function(T){var f=(0,X.zs)(this.attributes,"handleLabel");return(0,u.pi)((0,u.pi)((0,u.pi)({},f),this.calcHandleText(T)),this.inferTextStyle(T))},b.prototype.getHandleIconStyle=function(){var T=this.attributes.handleIconShape,f=(0,X.zs)(this.attributes,"handleIcon"),E=this.getOrientVal(["ew-resize","ns-resize"]),B=this.getHandleSize();return(0,u.pi)({cursor:E,shape:T,size:B},f)},b.prototype.getHandleStyle=function(T){var f=this.attributes,E=f.x,B=f.y,p=f.showLabel,P=f.showLabelOnInteraction,$=f.orientation,a=this.calcHandlePosition(T),c=a.x,L=a.y,J=this.calcHandleText(T),ne=p;return!p&&P&&(this.target?ne=!0:ne=!1),(0,u.pi)((0,u.pi)((0,u.pi)({},(0,X.dq)(this.getHandleIconStyle(),"icon")),(0,X.dq)((0,u.pi)((0,u.pi)({},this.getHandleLabelStyle(T)),J),"label")),{transform:"translate(".concat(c+E,", ").concat(L+B,")"),orientation:$,showLabel:ne,type:T,zIndex:3})},b.prototype.getHandleSize=function(){var T=this.attributes,f=T.handleIconSize,E=T.width,B=T.height;return f||Math.floor((this.getOrientVal([+B,+E])+4)/2.4)},b.prototype.getOrientVal=function(T){var f=(0,u.CR)(T,2),E=f[0],B=f[1],p=this.attributes.orientation;return p==="horizontal"?E:B},b.prototype.setValuesOffset=function(T,f,E){f===void 0&&(f=0),E===void 0&&(E=!1);var B=this.attributes.type,p=(0,u.CR)(this.getValues(),2),P=p[0],$=p[1],a=B==="range"?T:0,c=[P+a,$+f].sort();E?this.setValues(c):this.innerSetValues(c,!0)},b.prototype.getRatio=function(T){var f=this.availableSpace,E=f.width,B=f.height;return T/this.getOrientVal([E,B])},b.prototype.dispatchCustomEvent=function(T,f,E){var B=this;T.on(f,function(p){p.stopPropagation(),B.dispatchEvent(new U.Aw(E,{detail:p}))})},b.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var T=this.brushArea;this.dispatchCustomEvent(T,"click","trackClick"),this.dispatchCustomEvent(T,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(T,"pointerleave","trackMouseleave"),T.on("pointerdown",this.onDragStart("track"))},b.prototype.onScroll=function(T){var f=this.attributes.scrollable;if(f){var E=T.deltaX,B=T.deltaY,p=B||E,P=this.getRatio(p);this.setValuesOffset(P,P,!0)}},b.tag="slider",b}(C.w)},2412:function(Ft,qe,y){"use strict";y.d(qe,{Dx:function(){return A},jY:function(){return S},li:function(){return Z}});var u=y(15767),U=y(71350),H=y(58420),q=y(27475),C=y(69210),ee=y(20949),X=y(22397),de=y(50885),m=(0,H.A)({text:"text"},"title");function Z(N){return/\S+-\S+/g.test(N)?N.split("-").map(function(V){return V[0]}):N.length>2?[N[0]]:N.split("")}function S(N,V){var j=N.attributes,xe=j.position,Le=j.spacing,Ge=j.inset,je=j.text,ke=N.getBBox(),Ee=V.getBBox(),ve=Z(xe),Mt=(0,u.CR)((0,q.j)(je?Le:0),4),St=Mt[0],Pt=Mt[1],_t=Mt[2],Zt=Mt[3],Ot=(0,u.CR)((0,q.j)(Ge),4),Jt=Ot[0],$t=Ot[1],Qt=Ot[2],F=Ot[3],ae=(0,u.CR)([Zt+Pt,St+_t],2),lt=ae[0],Rt=ae[1],me=(0,u.CR)([F+$t,Jt+Qt],2),ue=me[0],G=me[1];if(ve[0]==="l")return new C.b(ke.x,ke.y,Ee.width+ke.width+lt+ue,Math.max(Ee.height+G,ke.height));if(ve[0]==="t")return new C.b(ke.x,ke.y,Math.max(Ee.width+ue,ke.width),Ee.height+ke.height+Rt+G);var R=(0,u.CR)([V.attributes.width||Ee.width,V.attributes.height||Ee.height],2),oe=R[0],x=R[1];return new C.b(Ee.x,Ee.y,oe+ke.width+lt+ue,x+ke.height+Rt+G)}function ge(N,V){var j=Object.entries(V).reduce(function(xe,Le){var Ge=(0,u.CR)(Le,2),je=Ge[0],ke=Ge[1],Ee=N.node().attr(je);return Ee||(xe[je]=ke),xe},{});N.styles(j)}function k(N){var V,j,xe,Le,Ge=N,je=Ge.width,ke=Ge.height,Ee=Ge.position,ve=(0,u.CR)([+je/2,+ke/2],2),Mt=ve[0],St=ve[1],Pt=(0,u.CR)([+Mt,+St,"center","middle"],4),_t=Pt[0],Zt=Pt[1],Ot=Pt[2],Jt=Pt[3],$t=Z(Ee);return $t.includes("l")&&(V=(0,u.CR)([0,"start"],2),_t=V[0],Ot=V[1]),$t.includes("r")&&(j=(0,u.CR)([+je,"end"],2),_t=j[0],Ot=j[1]),$t.includes("t")&&(xe=(0,u.CR)([0,"top"],2),Zt=xe[0],Jt=xe[1]),$t.includes("b")&&(Le=(0,u.CR)([+ke,"bottom"],2),Zt=Le[0],Jt=Le[1]),{x:_t,y:Zt,textAlign:Ot,textBaseline:Jt}}var A=function(N){(0,u.ZT)(V,N);function V(j){return N.call(this,j,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return V.prototype.getAvailableSpace=function(){var j=this,xe=this.attributes,Le=xe.width,Ge=xe.height,je=xe.position,ke=xe.spacing,Ee=xe.inset,ve=j.querySelector(m.text.class);if(!ve)return new C.b(0,0,+Le,+Ge);var Mt=ve.getBBox(),St=Mt.width,Pt=Mt.height,_t=(0,u.CR)((0,q.j)(ke),4),Zt=_t[0],Ot=_t[1],Jt=_t[2],$t=_t[3],Qt=(0,u.CR)([0,0,+Le,+Ge],4),F=Qt[0],ae=Qt[1],lt=Qt[2],Rt=Qt[3],me=Z(je);if(me.includes("i"))return new C.b(F,ae,lt,Rt);me.forEach(function(f,E){var B,p,P,$;f==="t"&&(B=(0,u.CR)(E===0?[Pt+Jt,+Ge-Pt-Jt]:[0,+Ge],2),ae=B[0],Rt=B[1]),f==="r"&&(p=(0,u.CR)([+Le-St-$t],1),lt=p[0]),f==="b"&&(P=(0,u.CR)([+Ge-Pt-Zt],1),Rt=P[0]),f==="l"&&($=(0,u.CR)(E===0?[St+Ot,+Le-St-Ot]:[0,+Le],2),F=$[0],lt=$[1])});var ue=(0,u.CR)((0,q.j)(Ee),4),G=ue[0],R=ue[1],oe=ue[2],x=ue[3],v=(0,u.CR)([x+R,G+oe],2),b=v[0],T=v[1];return new C.b(F+x,ae+G,lt-b,Rt-T)},V.prototype.getBBox=function(){return this.title?this.title.getBBox():new C.b(0,0,0,0)},V.prototype.render=function(j,xe){var Le=this,Ge=j.width,je=j.height,ke=j.position,Ee=j.spacing,ve=(0,u._T)(j,["width","height","position","spacing"]),Mt=(0,u.CR)((0,ee.Hm)(ve),1),St=Mt[0],Pt=k(j),_t=Pt.x,Zt=Pt.y,Ot=Pt.textAlign,Jt=Pt.textBaseline;(0,X.z)(!!ve.text,(0,de.Ys)(xe),function($t){Le.title=$t.maybeAppendByClassName(m.text,"text").styles(St).call(ge,{x:_t,y:Zt,textAlign:Ot,textBaseline:Jt}).node()})},V}(U.w)},62229:function(Ft,qe,y){"use strict";y.d(qe,{u:function(){return ge}});var u=y(15767),U=y(30853);function H(k,A){return!k||!A?k:k.replace(/\\?\{([^{}]+)\}/g,function(N,V){return N.charAt(0)==="\\"?N.slice(1):A[V]===void 0?"":A[V]})}var q=H,C=y(71350),ee=function(k,A){if(A==null){k.innerHTML="";return}k.replaceChildren?Array.isArray(A)?k.replaceChildren.apply(k,(0,u.ev)([],(0,u.CR)(A),!1)):k.replaceChildren(A):(k.innerHTML="",Array.isArray(A)?A.forEach(function(N){return k.appendChild(N)}):k.appendChild(A))},X=y(20949),de=y(69210);function m(k){return k===void 0&&(k=""),{CONTAINER:"".concat(k,"tooltip"),TITLE:"".concat(k,"tooltip-title"),LIST:"".concat(k,"tooltip-list"),LIST_ITEM:"".concat(k,"tooltip-list-item"),NAME:"".concat(k,"tooltip-list-item-name"),MARKER:"".concat(k,"tooltip-list-item-marker"),NAME_LABEL:"".concat(k,"tooltip-list-item-name-label"),VALUE:"".concat(k,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(k,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(k,"tooltip-crosshair-y")}}var Z={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function S(k){var A;k===void 0&&(k="");var N=m(k);return A={},A[".".concat(N.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},A[".".concat(N.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},A[".".concat(N.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},A[".".concat(N.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},A[".".concat(N.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},A[".".concat(N.NAME)]={display:"flex","align-items":"center","max-width":"216px"},A[".".concat(N.NAME_LABEL)]=(0,u.pi)({flex:1},Z),A[".".concat(N.VALUE)]=(0,u.pi)({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},Z),A[".".concat(N.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},A[".".concat(N.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},A}var ge=function(k){(0,u.ZT)(A,k);function A(N){var V=this,j,xe,Le=(xe=(j=N.style)===null||j===void 0?void 0:j.template)===null||xe===void 0?void 0:xe.prefixCls,Ge=m(Le);return V=k.call(this,N,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(Ge.CONTAINER,'"></div>'),title:'<div class="'.concat(Ge.TITLE,'"></div>'),item:'<li class="'.concat(Ge.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(Ge.NAME,`">
          <span class="`).concat(Ge.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(Ge.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(Ge.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:S(Le)})||this,V.timestamp=-1,V.prevCustomContentKey=V.attributes.contentKey,V.initShape(),V.render(V.attributes,V),V}return Object.defineProperty(A.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),A.prototype.getContainer=function(){return this.element},Object.defineProperty(A.prototype,"elementSize",{get:function(){var N=this.element.offsetWidth,V=this.element.offsetHeight;return{width:N,height:V}},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"HTMLTooltipItemsElements",{get:function(){var N=this.attributes,V=N.data,j=N.template;return V.map(function(xe,Le){var Ge=xe.name,je=Ge===void 0?"":Ge,ke=xe.color,Ee=ke===void 0?"black":ke,ve=xe.index,Mt=(0,u._T)(xe,["name","color","index"]),St=(0,u.pi)({name:je,color:Ee,index:ve!=null?ve:Le},Mt);return(0,U.L)(q(j.item,St))})},enumerable:!1,configurable:!0}),A.prototype.render=function(N,V){this.renderHTMLTooltipElement(),this.updatePosition()},A.prototype.destroy=function(){var N;(N=this.element)===null||N===void 0||N.remove(),k.prototype.destroy.call(this)},A.prototype.show=function(N,V){var j=this;if(N!==void 0&&V!==void 0){var xe=this.element.style.visibility==="hidden",Le=function(){j.attributes.x=N!=null?N:j.attributes.x,j.attributes.y=V!=null?V:j.attributes.y,j.updatePosition()};xe?this.closeTransition(Le):Le()}this.element.style.visibility="visible"},A.prototype.hide=function(N,V){N===void 0&&(N=0),V===void 0&&(V=0);var j=this.attributes.enterable;j&&this.isCursorEntered(N,V)||(this.element.style.visibility="hidden")},A.prototype.initShape=function(){var N=this.attributes.template;this.element=(0,U.L)(N.container),this.id&&this.element.setAttribute("id",this.id)},A.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var N=this.attributes.content;N&&(typeof N=="string"?this.element.innerHTML=N:ee(this.element,N))}},A.prototype.renderHTMLTooltipElement=function(){var N,V,j=this.attributes,xe=j.template,Le=j.title,Ge=j.enterable,je=j.style,ke=j.content,Ee=m(xe.prefixCls),ve=this.element;if(this.element.style.pointerEvents=Ge?"auto":"none",ke)this.renderCustomContent();else{Le?(ve.innerHTML=xe.title,ve.getElementsByClassName(Ee.TITLE)[0].innerHTML=Le):(V=(N=ve.getElementsByClassName(Ee.TITLE))===null||N===void 0?void 0:N[0])===null||V===void 0||V.remove();var Mt=this.HTMLTooltipItemsElements,St=document.createElement("ul");St.className=Ee.LIST,ee(St,Mt);var Pt=this.element.querySelector(".".concat(Ee.LIST));Pt?Pt.replaceWith(St):ve.appendChild(St)}(0,X.MC)(ve,je)},A.prototype.getRelativeOffsetFromCursor=function(N){var V=this.attributes,j=V.position,xe=V.offset,Le=N||j,Ge=Le.split("-"),je={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},ke=this.elementSize,Ee=ke.width,ve=ke.height,Mt=[-Ee/2,-ve/2];return Ge.forEach(function(St){var Pt=(0,u.CR)(Mt,2),_t=Pt[0],Zt=Pt[1],Ot=(0,u.CR)(je[St],2),Jt=Ot[0],$t=Ot[1];Mt=[_t+(Ee/2+xe[0])*Jt,Zt+(ve/2+xe[1])*$t]}),Mt},A.prototype.setOffsetPosition=function(N){var V=(0,u.CR)(N,2),j=V[0],xe=V[1],Le=this.attributes,Ge=Le.x,je=Ge===void 0?0:Ge,ke=Le.y,Ee=ke===void 0?0:ke,ve=Le.container,Mt=ve.x,St=ve.y;this.element.style.left="".concat(+je+Mt+j,"px"),this.element.style.top="".concat(+Ee+St+xe,"px")},A.prototype.updatePosition=function(){var N=this.attributes.showDelay,V=N===void 0?60:N,j=Date.now();this.timestamp>0&&j-this.timestamp<V||(this.timestamp=j,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},A.prototype.autoPosition=function(N){var V=(0,u.CR)(N,2),j=V[0],xe=V[1],Le=this.attributes,Ge=Le.x,je=Le.y,ke=Le.bounding,Ee=Le.position;if(!ke)return[j,xe];var ve=this.element,Mt=ve.offsetWidth,St=ve.offsetHeight,Pt=(0,u.CR)([+Ge+j,+je+xe],2),_t=Pt[0],Zt=Pt[1],Ot={left:"right",right:"left",top:"bottom",bottom:"top"},Jt=ke.x,$t=ke.y,Qt=ke.width,F=ke.height,ae={left:_t<Jt,right:_t+Mt>Jt+Qt,top:Zt<$t,bottom:Zt+St>$t+F},lt=[];Ee.split("-").forEach(function(me){ae[me]?lt.push(Ot[me]):lt.push(me)});var Rt=lt.join("-");return this.getRelativeOffsetFromCursor(Rt)},A.prototype.isCursorEntered=function(N,V){if(this.element){var j=this.element.getBoundingClientRect(),xe=j.x,Le=j.y,Ge=j.width,je=j.height;return new de.b(xe,Le,Ge,je).isPointIn(N,V)}return!1},A.prototype.closeTransition=function(N){var V=this,j=this.element.style.transition;this.element.style.transition="none",N(),setTimeout(function(){V.element.style.transition=j},10)},A.tag="tooltip",A}(C.w)},69210:function(Ft,qe,y){"use strict";y.d(qe,{b:function(){return u}});var u=function(){function H(q,C,ee,X){q===void 0&&(q=0),C===void 0&&(C=0),ee===void 0&&(ee=0),X===void 0&&(X=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=q,this.y=C,this.width=ee,this.height=X}return Object.defineProperty(H.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),H.fromRect=function(q){return new H(q.x,q.y,q.width,q.height)},H.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},H.prototype.isPointIn=function(q,C){return q>=this.left&&q<=this.right&&C>=this.top&&C<=this.bottom},H}();function U(H){var q=H.getRenderBounds(),C=__read(q.min,2),ee=C[0],X=C[1],de=__read(q.max,2),m=de[0],Z=de[1],S=m-ee,ge=Z-X;return new u(ee,X,S,ge)}},88021:function(Ft,qe,y){"use strict";y.d(qe,{S:function(){return H}});var u=y(15767),U=y(90079);function H(q,C){return(0,U.Z)(q)?q.apply(void 0,(0,u.ev)([],(0,u.CR)(C),!1)):q}},58420:function(Ft,qe,y){"use strict";y.d(qe,{A:function(){return U}});var u=y(15767),U=function(H,q){var C=function(X){return"".concat(q,"-").concat(X)},ee=Object.fromEntries(Object.entries(H).map(function(X){var de=(0,u.CR)(X,2),m=de[0],Z=de[1],S=C(Z);return[m,{name:S,class:".".concat(S),id:"#".concat(S),toString:function(){return S}}]}));return Object.assign(ee,{prefix:C}),ee}},97289:function(Ft,qe,y){"use strict";y.d(qe,{n:function(){return ee}});var u=y(15767),U=y(37090),H=y(18814),q=5,C=function(X,de,m,Z){m===void 0&&(m=0),Z===void 0&&(Z=q),Object.entries(de).forEach(function(S){var ge=(0,u.CR)(S,2),k=ge[0],A=ge[1],N=X;Object.prototype.hasOwnProperty.call(de,k)&&(A?(0,U.Z)(A)?((0,U.Z)(X[k])||(N[k]={}),m<Z?C(X[k],A,m+1,Z):N[k]=de[k]):(0,H.Z)(A)?(N[k]=[],N[k]=N[k].concat(A)):N[k]=A:N[k]=A)})},ee=function(X){for(var de=[],m=1;m<arguments.length;m++)de[m-1]=arguments[m];for(var Z=0;Z<de.length;Z+=1)C(X,de[Z]);return X}},28915:function(Ft,qe,y){"use strict";y.d(qe,{O:function(){return U}});var u=y(50611);function U(H,q,C){C===void 0&&(C="..."),(0,u.Rm)(H,{wordWrap:!0,wordWrapWidth:q,maxLines:1,textOverflow:C})}},25889:function(Ft,qe,y){"use strict";y.d(qe,{s:function(){return u}});function u(U){var H=U.canvas,q=U.touches,C=U.offsetX,ee=U.offsetY;if(H){var X=H.x,de=H.y;return[X,de]}if(q){var m=q[0],Z=m.clientX,S=m.clientY;return[Z,S]}return C&&ee?[C,ee]:[0,0]}},27872:function(Ft,qe,y){"use strict";y.d(qe,{S:function(){return q}});var u=y(43706),U=y(22355),H=y(83016);function q(C){return typeof C=="function"?C():(0,u.Z)(C)||(0,U.Z)(C)?new H.x({style:{text:String(C)}}):C}},22397:function(Ft,qe,y){"use strict";y.d(qe,{z:function(){return u}});function u(U,H,q,C,ee){return C===void 0&&(C=!0),ee===void 0&&(ee=function(X){X.node().removeChildren()}),U?q(H):(C&&ee(H),null)}},88803:function(Ft,qe,y){"use strict";y.d(qe,{Fp:function(){return C},Fv:function(){return X},IH:function(){return U},KR:function(){return m},TE:function(){return ee},VV:function(){return q},bA:function(){return u},lu:function(){return H}});function u(Z,S){return[Z[0]*S,Z[1]*S]}function U(Z,S){return[Z[0]+S[0],Z[1]+S[1]]}function H(Z,S){return[Z[0]-S[0],Z[1]-S[1]]}function q(Z,S){return[Math.min(Z[0],S[0]),Math.min(Z[1],S[1])]}function C(Z,S){return[Math.max(Z[0],S[0]),Math.max(Z[1],S[1])]}function ee(Z,S){return Math.sqrt(Math.pow(Z[0]-S[0],2)+Math.pow(Z[1]-S[1],2))}function X(Z){if(Z[0]===0&&Z[1]===0)return[0,0];var S=Math.sqrt(Math.pow(Z[0],2)+Math.pow(Z[1],2));return[Z[0]/S,Z[1]/S]}function de(Z,S,ge){var k=__read(Z,2),A=k[0],N=k[1],V=__read(S,2),j=V[0],xe=V[1],Le=A-j,Ge=N-xe,je=Math.sin(ge),ke=Math.cos(ge);return[Le*ke-Ge*je+j,Le*je+Ge*ke+xe]}function m(Z,S){return S?[Z[1],-Z[0]]:[-Z[1],Z[0]]}},27604:function(Ft,qe,y){"use strict";y.d(qe,{Zd:function(){return u}});function u(m,Z){return+m.toPrecision(Z)}function U(m){return m.toLocaleString()}function H(m){return m.toExponential()}function q(m,Z){return Z===void 0&&(Z=0),Math.abs(m)<1e3?String(m):"".concat(u(m/1e3,Z).toLocaleString(),"K")}var C=function(m,Z,S){return m<0&&Number.isFinite(m)?Z:S},ee=function(m,Z,S){return m>0&&Number.isFinite(m)?Z:S},X=function(m,Z){return m*Z},de=function(m,Z){return m/2+(Z||0)/2}},59697:function(Ft,qe,y){"use strict";y.d(qe,{X:function(){return ee},g:function(){return C}});var u=y(15767),U=y(1478),H=y(64820),q=function(X){(0,u.ZT)(de,X);function de(){for(var m=[],Z=0;Z<arguments.length;Z++)m[Z]=arguments[Z];var S=X.apply(this,(0,u.ev)([],(0,u.CR)(m),!1))||this;return S.isMutationObserved=!0,S.addEventListener(U.Dk.INSERTED,function(){(0,H.Cp)(S)}),S}return de}(U.ZA);function C(X){var de=X.appendChild(new q({class:"offscreen"}));return(0,H.Cp)(de),de}function ee(X){for(var de=X;de;){if(de.className==="offscreen")return!0;de=de.parent}return!1}},64575:function(Ft,qe,y){"use strict";y.d(qe,{b:function(){return u}});function u(U,H,q){q===void 0&&(q=!1);var C=U.getBBox(),ee=C.width,X=C.height,de=H/Math.max(ee,X);return q&&(U.style.transform="scale(".concat(de,")")),de}},50885:function(Ft,qe,y){"use strict";y.d(qe,{OV:function(){return de},Ys:function(){return X}});var u=y(15767),U=y(1478),H=y(83016);function q(m,Z){var S=new Map;return m.forEach(function(ge){var k=Z(ge);S.has(k)||S.set(k,[]),S.get(k).push(ge)}),S}function C(m){throw new Error(m)}var ee=function(){function m(k,A,N,V,j,xe,Le){k===void 0&&(k=null),A===void 0&&(A=null),N===void 0&&(N=null),V===void 0&&(V=null),j===void 0&&(j=[null,null,null,null,null]),xe===void 0&&(xe=[]),Le===void 0&&(Le=[]),Z.add(this),this._elements=Array.from(k),this._data=A,this._parent=N,this._document=V,this._enter=j[0],this._update=j[1],this._exit=j[2],this._merge=j[3],this._split=j[4],this._transitions=xe,this._facetElements=Le}m.prototype.selectAll=function(k){var A=typeof k=="string"?this._parent.querySelectorAll(k):k;return new S(A,null,this._elements[0],this._document)},m.prototype.selectFacetAll=function(k){var A=typeof k=="string"?this._parent.querySelectorAll(k):k;return new S(this._elements,null,this._parent,this._document,void 0,void 0,A)},m.prototype.select=function(k){var A=typeof k=="string"?this._parent.querySelectorAll(k)[0]||null:k;return new S([A],null,A,this._document)},m.prototype.append=function(k){var A=this,N=typeof k=="function"?k:function(){return A.createElement(k)},V=[];if(this._data!==null){for(var j=0;j<this._data.length;j++){var xe=this._data[j],Le=(0,u.CR)(Array.isArray(xe)?xe:[xe,null],2),Ge=Le[0],je=Le[1],ke=N(Ge,j);ke.__data__=Ge,je!==null&&(ke.__fromElements__=je),this._parent.appendChild(ke),V.push(ke)}return new S(V,null,this._parent,this._document)}for(var j=0;j<this._elements.length;j++){var Ee=this._elements[j],Ge=Ee.__data__,ke=N(Ge,j);Ee.appendChild(ke),V.push(ke)}return new S(V,null,V[0],this._document)},m.prototype.maybeAppend=function(k,A){var N=(0,u.Q_)(this,Z,"m",ge).call(this,k[0]==="#"?k:"#".concat(k),A);return N.attr("id",k),N},m.prototype.maybeAppendByClassName=function(k,A){var N=k.toString(),V=(0,u.Q_)(this,Z,"m",ge).call(this,N[0]==="."?N:".".concat(N),A);return V.attr("className",N),V},m.prototype.maybeAppendByName=function(k,A){var N=(0,u.Q_)(this,Z,"m",ge).call(this,'[name="'.concat(k,'"]'),A);return N.attr("name",k),N},m.prototype.data=function(k,A,N){var V,j;A===void 0&&(A=function(ae){return ae}),N===void 0&&(N=function(){return null});for(var xe=[],Le=[],Ge=new Set(this._elements),je=[],ke=new Set,Ee=new Map(this._elements.map(function(ae,lt){return[A(ae.__data__,lt),ae]})),ve=new Map(this._facetElements.map(function(ae,lt){return[A(ae.__data__,lt),ae]})),Mt=q(this._elements,function(ae){return N(ae.__data__)}),St=0;St<k.length;St++){var Pt=k[St],_t=A(Pt,St),Zt=N(Pt,St);if(Ee.has(_t)){var Ot=Ee.get(_t);Ot.__data__=Pt,Ot.__facet__=!1,Le.push(Ot),Ge.delete(Ot),Ee.delete(_t)}else if(ve.has(_t)){var Ot=ve.get(_t);Ot.__data__=Pt,Ot.__facet__=!0,Le.push(Ot),ve.delete(_t)}else if(Mt.has(_t)){var Jt=Mt.get(_t);je.push([Pt,Jt]);try{for(var $t=(V=void 0,(0,u.XA)(Jt)),Qt=$t.next();!Qt.done;Qt=$t.next()){var Ot=Qt.value;Ge.delete(Ot)}}catch(ae){V={error:ae}}finally{try{Qt&&!Qt.done&&(j=$t.return)&&j.call($t)}finally{if(V)throw V.error}}Mt.delete(_t)}else if(Ee.has(Zt)){var Ot=Ee.get(Zt);Ot.__toData__?Ot.__toData__.push(Pt):Ot.__toData__=[Pt],ke.add(Ot),Ge.delete(Ot)}else xe.push(Pt)}var F=[new S([],xe,this._parent,this._document),new S(Le,null,this._parent,this._document),new S(Ge,null,this._parent,this._document),new S([],je,this._parent,this._document),new S(ke,null,this._parent,this._document)];return new S(this._elements,null,this._parent,this._document,F)},m.prototype.merge=function(k){var A=(0,u.ev)((0,u.ev)([],(0,u.CR)(this._elements),!1),(0,u.CR)(k._elements),!1),N=(0,u.ev)((0,u.ev)([],(0,u.CR)(this._transitions),!1),(0,u.CR)(k._transitions),!1);return new S(A,null,this._parent,this._document,void 0,N)},m.prototype.createElement=function(k){if(this._document)return this._document.createElement(k,{});var A=S.registry[k];return A?new A:C("Unknown node type: ".concat(k))},m.prototype.join=function(k,A,N,V,j){k===void 0&&(k=function(Ee){return Ee}),A===void 0&&(A=function(Ee){return Ee}),N===void 0&&(N=function(Ee){return Ee.remove()}),V===void 0&&(V=function(Ee){return Ee}),j===void 0&&(j=function(Ee){return Ee.remove()});var xe=k(this._enter),Le=A(this._update),Ge=N(this._exit),je=V(this._merge),ke=j(this._split);return Le.merge(xe).merge(Ge).merge(je).merge(ke)},m.prototype.remove=function(){for(var k=function(V){var j=A._elements[V],xe=A._transitions[V];xe?xe.then(function(){return j.remove()}):j.remove()},A=this,N=0;N<this._elements.length;N++)k(N);return new S([],null,this._parent,this._document,void 0,this._transitions)},m.prototype.each=function(k){for(var A=0;A<this._elements.length;A++){var N=this._elements[A],V=N.__data__;k.call(N,V,A)}return this},m.prototype.attr=function(k,A){var N=typeof A!="function"?function(){return A}:A;return this.each(function(V,j){A!==void 0&&(this[k]=N.call(this,V,j))})},m.prototype.style=function(k,A,N){N===void 0&&(N=!0);var V=typeof A!="function"||!N?function(){return A}:A;return this.each(function(j,xe){A!==void 0&&(this.style[k]=V.call(this,j,xe))})},m.prototype.styles=function(k,A){return k===void 0&&(k={}),A===void 0&&(A=!0),this.each(function(N,V){var j=this;Object.entries(k).forEach(function(xe){var Le=(0,u.CR)(xe,2),Ge=Le[0],je=Le[1],ke=typeof je!="function"||!A?function(){return je}:je;je!==void 0&&j.attr(Ge,ke.call(j,N,V))})})},m.prototype.update=function(k,A){A===void 0&&(A=!0);var N=typeof k!="function"||!A?function(){return k}:k;return this.each(function(V,j){k&&this.update&&this.update(N.call(this,V,j))})},m.prototype.maybeUpdate=function(k,A){A===void 0&&(A=!0);var N=typeof k!="function"||!A?function(){return k}:k;return this.each(function(V,j){k&&this.update&&this.update(N.call(this,V,j))})},m.prototype.transition=function(k){var A=this._transitions;return this.each(function(N,V){A[V]=k.call(this,N,V)})},m.prototype.on=function(k,A){return this.each(function(){this.addEventListener(k,A)}),this},m.prototype.call=function(k){for(var A=[],N=1;N<arguments.length;N++)A[N-1]=arguments[N];return k.call.apply(k,(0,u.ev)([this._parent,this],(0,u.CR)(A),!1)),this},m.prototype.node=function(){return this._elements[0]},m.prototype.nodes=function(){return this._elements},m.prototype.transitions=function(){return this._transitions.filter(function(k){return!!k})},m.prototype.parent=function(){return this._parent};var Z,S,ge;return S=m,Z=new WeakSet,ge=function(A,N){var V=this._elements[0],j=V.querySelector(A);if(j)return new S([j],null,this._parent,this._document);var xe=typeof N=="string"?this.createElement(N):N();return V.appendChild(xe),new S([xe],null,this._parent,this._document)},m.registry={g:U.ZA,rect:U.UL,circle:U.Cd,path:U.y$,text:H.x,ellipse:U.Pj,image:U.Ee,line:U.x1,polygon:U.mg,polyline:U.aH,html:U.k9},m}();function X(m){return new ee([m],null,m,m.ownerDocument)}function de(m,Z,S){return m.querySelector(Z)?X(m).select(Z):X(m).append(S)}},27475:function(Ft,qe,y){"use strict";y.d(qe,{j:function(){return H}});var u=y(22355),U=y(18814);function H(q){if((0,u.Z)(q))return[q,q,q,q];if((0,U.Z)(q)){var C=q.length;if(C===1)return[q[0],q[0],q[0],q[0]];if(C===2)return[q[0],q[1],q[0],q[1]];if(C===3)return[q[0],q[1],q[2],q[1]];if(C===4)return q}return[0,0,0,0]}},5796:function(Ft,qe,y){"use strict";y.d(qe,{DM:function(){return X},_v:function(){return H},wE:function(){return C}});var u=y(15767);function U(de){var m=de&&de.getRenderBounds();if(!m)return{width:0,height:0};var Z=m.getMax(),S=m.getMin();return{width:Z[0]-S[0],height:Z[1]-S[1]}}function H(de){var m=de.getLocalBounds(),Z=m.min,S=m.max,ge=(0,u.CR)([Z,S],2),k=(0,u.CR)(ge[0],2),A=k[0],N=k[1],V=(0,u.CR)(ge[1],2),j=V[0],xe=V[1];return{x:A,y:N,width:j-A,height:xe-N,left:A,bottom:xe,top:N,right:j}}function q(de,m){var Z=select(de).append("text").node();return Z.attr(__assign(__assign({},m),{visibility:"hidden"})),Z}function C(de,m){var Z=(0,u.CR)(de,2),S=Z[0],ge=Z[1],k=(0,u.CR)(m,2),A=k[0],N=k[1];return S!==A&&ge===N}function ee(de,m){var Z=__read(de,2),S=Z[0],ge=Z[1],k=__read(m,2),A=k[0],N=k[1];return S===A&&ge!==N}function X(de,m){var Z,S,ge=m.attributes;try{for(var k=(0,u.XA)(Object.entries(ge)),A=k.next();!A.done;A=k.next()){var N=(0,u.CR)(A.value,2),V=N[0],j=N[1];V!=="id"&&V!=="className"&&de.attr(V,j)}}catch(xe){Z={error:xe}}finally{try{A&&!A.done&&(S=k.return)&&S.call(k)}finally{if(Z)throw Z.error}}}},20949:function(Ft,qe,y){"use strict";y.d(qe,{MC:function(){return ee},Hm:function(){return Z},zs:function(){return de},dq:function(){return m}});var u=y(15767);function U(S){return S.toString().charAt(0).toUpperCase()+S.toString().slice(1)}function H(S){return S.toString().charAt(0).toLowerCase()+S.toString().slice(1)}function q(S,ge){return"".concat(ge).concat(U(S))}function C(S,ge,k){var A;k===void 0&&(k=!0);var N=ge||((A=S.match(/^([a-z][a-z0-9]+)/))===null||A===void 0?void 0:A[0])||"",V=S.replace(new RegExp("^(".concat(N,")")),"");return k?H(V):V}function ee(S,ge){Object.entries(ge).forEach(function(k){var A=(0,u.CR)(k,2),N=A[0],V=A[1];(0,u.ev)([S],(0,u.CR)(S.querySelectorAll(N)),!1).filter(function(j){return j.matches(N)}).forEach(function(j){if(j){var xe=j;xe.style.cssText+=Object.entries(V).reduce(function(Le,Ge){return"".concat(Le).concat(Ge.join(":"),";")},"")}})})}var X=function(S,ge){if(!(S!=null&&S.startsWith(ge)))return!1;var k=S[ge.length];return k>="A"&&k<="Z"};function de(S,ge,k){k===void 0&&(k=!1);var A={};return Object.entries(S).forEach(function(N){var V=(0,u.CR)(N,2),j=V[0],xe=V[1];if(!(j==="className"||j==="class")){if(X(j,"show")&&X(C(j,"show"),ge)!==k)j===q(ge,"show")?A[j]=xe:A[j.replace(new RegExp(U(ge)),"")]=xe;else if(!X(j,"show")&&X(j,ge)!==k){var Le=C(j,ge);Le==="filter"&&typeof xe=="function"||(A[Le]=xe)}}}),A}function m(S,ge){return Object.entries(S).reduce(function(k,A){var N=(0,u.CR)(A,2),V=N[0],j=N[1];return V.startsWith("show")?k["show".concat(ge).concat(V.slice(4))]=j:k["".concat(ge).concat(U(V))]=j,k},{})}function Z(S,ge){ge===void 0&&(ge=["x","y","class","className"]);var k=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],A={},N={};return Object.entries(S).forEach(function(V){var j=(0,u.CR)(V,2),xe=j[0],Le=j[1];ge.includes(xe)||(k.indexOf(xe)!==-1?N[xe]=Le:A[xe]=Le)}),[A,N]}},50611:function(Ft,qe,y){"use strict";y.d(qe,{Rm:function(){return m},U4:function(){return de},Ux:function(){return ee},qT:function(){return X}});var u=y(1478),U=y(91391),H,q;function C(Z){q=Z}var ee=(0,U.Z)(function(Z,S){var ge=S.fontSize,k=S.fontFamily,A=S.fontWeight,N=S.fontStyle,V=S.fontVariant;return q?q(Z,ge):(H||(H=u.GZ.offscreenCanvasCreator.getOrCreateContext(void 0)),H.font=[N,V,A,"".concat(ge,"px"),k].join(" "),H.measureText(Z).width)},function(Z,S){return[Z,Object.values(S||X(Z)).join()].join("")},4096),X=function(Z){var S=Z.style.fontFamily||"sans-serif",ge=Z.style.fontWeight||"normal",k=Z.style.fontStyle||"normal",A=Z.style.fontVariant,N=Z.style.fontSize;return N=typeof N=="object"?N.value:N,{fontSize:N,fontFamily:S,fontWeight:ge,fontStyle:k,fontVariant:A}};function de(Z){return Z.nodeName==="text"?Z:Z.nodeName==="g"&&Z.children.length===1&&Z.children[0].nodeName==="text"?Z.children[0]:null}function m(Z,S){var ge=de(Z);ge&&ge.attr(S)}},64820:function(Ft,qe,y){"use strict";y.d(qe,{Cp:function(){return H},$Z:function(){return U},WD:function(){return q}});function u(C,ee){ee(C),C.children&&C.children.forEach(function(X){X&&u(X,ee)})}function U(C){q(C,!0)}function H(C){q(C,!1)}function q(C,ee){var X=ee?"visible":"hidden";u(C,function(de){de.attr("visibility",X)})}},31211:function(Ft,qe,y){"use strict";y.d(qe,{Th:function(){return dr}});var u=y(76920),U=y(59129),H=y(87670),q=y(74063),C=y(71561),ee=y(35576),X=y(52521),de=y(63777);function m(pe,te){var w=te.cx,g=w===void 0?0:w,M=te.cy,z=M===void 0?0:M,se=te.r;pe.arc(g,z,se,0,Math.PI*2,!1)}function Z(pe,te){var w=te.cx,g=w===void 0?0:w,M=te.cy,z=M===void 0?0:M,se=te.rx,fe=te.ry;if(pe.ellipse)pe.ellipse(g,z,se,fe,0,0,Math.PI*2,!1);else{var Ce=se>fe?se:fe,Ae=se>fe?1:se/fe,Ke=se>fe?fe/se:1;pe.save(),pe.scale(Ae,Ke),pe.arc(g,z,Ce,0,Math.PI*2)}}function S(pe,te){var w=te.x1,g=te.y1,M=te.x2,z=te.y2,se=te.markerStart,fe=te.markerEnd,Ce=te.markerStartOffset,Ae=te.markerEndOffset,Ke=0,We=0,Ve=0,Qe=0,ut=0,gt,Et;se&&(0,C.RV)(se)&&Ce&&(gt=M-w,Et=z-g,ut=Math.atan2(Et,gt),Ke=Math.cos(ut)*(Ce||0),We=Math.sin(ut)*(Ce||0)),fe&&(0,C.RV)(fe)&&Ae&&(gt=w-M,Et=g-z,ut=Math.atan2(Et,gt),Ve=Math.cos(ut)*(Ae||0),Qe=Math.sin(ut)*(Ae||0)),pe.moveTo(w+Ke,g+We),pe.lineTo(M+Ve,z+Qe)}function ge(pe,te){var w=te.markerStart,g=te.markerEnd,M=te.markerStartOffset,z=te.markerEndOffset,se=te.d,fe=se.absolutePath,Ce=se.segments,Ae=0,Ke=0,We=0,Ve=0,Qe=0,ut,gt;if(w&&(0,C.RV)(w)&&M){var Et=w.parentNode.getStartTangent(),mt=(0,X.Z)(Et,2),K=mt[0],W=mt[1];ut=K[0]-W[0],gt=K[1]-W[1],Qe=Math.atan2(gt,ut),Ae=Math.cos(Qe)*(M||0),Ke=Math.sin(Qe)*(M||0)}if(g&&(0,C.RV)(g)&&z){var O=g.parentNode.getEndTangent(),re=(0,X.Z)(O,2),Ne=re[0],Be=re[1];ut=Ne[0]-Be[0],gt=Ne[1]-Be[1],Qe=Math.atan2(gt,ut),We=Math.cos(Qe)*(z||0),Ve=Math.sin(Qe)*(z||0)}for(var Ie=0;Ie<fe.length;Ie++){var vt=fe[Ie],wt=vt[0],Gt=fe[Ie+1],Xt=Ie===0&&(Ae!==0||Ke!==0),Yt=(Ie===fe.length-1||Gt&&(Gt[0]==="M"||Gt[0]==="Z"))&&We!==0&&Ve!==0,rn=Xt?[Ae,Ke]:[0,0],hn=(0,X.Z)(rn,2),_=hn[0],I=hn[1],Q=Yt?[We,Ve]:[0,0],Te=(0,X.Z)(Q,2),Re=Te[0],we=Te[1];switch(wt){case"M":pe.moveTo(vt[1]+_,vt[2]+I);break;case"L":pe.lineTo(vt[1]+Re,vt[2]+we);break;case"Q":pe.quadraticCurveTo(vt[1],vt[2],vt[3]+Re,vt[4]+we);break;case"C":pe.bezierCurveTo(vt[1],vt[2],vt[3],vt[4],vt[5]+Re,vt[6]+we);break;case"A":{var Fe=Ce[Ie].arcParams,$e=Fe.cx,Je=Fe.cy,st=Fe.rx,yt=Fe.ry,xt=Fe.startAngle,Dt=Fe.endAngle,Ct=Fe.xRotation,zt=Fe.sweepFlag;if(pe.ellipse)pe.ellipse($e,Je,st,yt,Ct,xt,Dt,!!(1-zt));else{var qt=st>yt?st:yt,Kt=st>yt?1:st/yt,nn=st>yt?yt/st:1;pe.translate($e,Je),pe.rotate(Ct),pe.scale(Kt,nn),pe.arc(0,0,qt,xt,Dt,!!(1-zt)),pe.scale(1/Kt,1/nn),pe.rotate(-Ct),pe.translate(-$e,-Je)}Yt&&pe.lineTo(vt[6]+We,vt[7]+Ve);break}case"Z":pe.closePath();break}}}function k(pe,te){var w=te.markerStart,g=te.markerEnd,M=te.markerStartOffset,z=te.markerEndOffset,se=te.points.points,fe=se.length,Ce=se[0][0],Ae=se[0][1],Ke=se[fe-1][0],We=se[fe-1][1],Ve=0,Qe=0,ut=0,gt=0,Et=0,mt,K;w&&(0,C.RV)(w)&&M&&(mt=se[1][0]-se[0][0],K=se[1][1]-se[0][1],Et=Math.atan2(K,mt),Ve=Math.cos(Et)*(M||0),Qe=Math.sin(Et)*(M||0)),g&&(0,C.RV)(g)&&z&&(mt=se[fe-1][0]-se[0][0],K=se[fe-1][1]-se[0][1],Et=Math.atan2(K,mt),ut=Math.cos(Et)*(z||0),gt=Math.sin(Et)*(z||0)),pe.moveTo(Ce+(Ve||ut),Ae+(Qe||gt));for(var W=1;W<fe-1;W++){var O=se[W];pe.lineTo(O[0],O[1])}pe.lineTo(Ke,We)}function A(pe,te){var w=te.markerStart,g=te.markerEnd,M=te.markerStartOffset,z=te.markerEndOffset,se=te.points.points,fe=se.length,Ce=se[0][0],Ae=se[0][1],Ke=se[fe-1][0],We=se[fe-1][1],Ve=0,Qe=0,ut=0,gt=0,Et=0,mt,K;w&&(0,C.RV)(w)&&M&&(mt=se[1][0]-se[0][0],K=se[1][1]-se[0][1],Et=Math.atan2(K,mt),Ve=Math.cos(Et)*(M||0),Qe=Math.sin(Et)*(M||0)),g&&(0,C.RV)(g)&&z&&(mt=se[fe-2][0]-se[fe-1][0],K=se[fe-2][1]-se[fe-1][1],Et=Math.atan2(K,mt),ut=Math.cos(Et)*(z||0),gt=Math.sin(Et)*(z||0)),pe.moveTo(Ce+Ve,Ae+Qe);for(var W=1;W<fe-1;W++){var O=se[W];pe.lineTo(O[0],O[1])}pe.lineTo(Ke+ut,We+gt)}function N(pe,te){var w=te.x,g=w===void 0?0:w,M=te.y,z=M===void 0?0:M,se=te.radius,fe=te.width,Ce=te.height,Ae=fe,Ke=Ce,We=se&&se.some(function(re){return re!==0});if(!We)pe.rect(g,z,Ae,Ke);else{var Ve=fe>0?1:-1,Qe=Ce>0?1:-1,ut=Ve+Qe===0,gt=se.map(function(re){return(0,de.Z)(re,0,Math.min(Math.abs(Ae)/2,Math.abs(Ke)/2))}),Et=(0,X.Z)(gt,4),mt=Et[0],K=Et[1],W=Et[2],O=Et[3];pe.moveTo(Ve*mt+g,z),pe.lineTo(Ae-Ve*K+g,z),K!==0&&pe.arc(Ae-Ve*K+g,Qe*K+z,K,-Qe*Math.PI/2,Ve>0?0:Math.PI,ut),pe.lineTo(Ae+g,Ke-Qe*W+z),W!==0&&pe.arc(Ae-Ve*W+g,Ke-Qe*W+z,W,Ve>0?0:Math.PI,Qe>0?Math.PI/2:1.5*Math.PI,ut),pe.lineTo(Ve*O+g,Ke+z),O!==0&&pe.arc(Ve*O+g,Ke-Qe*O+z,O,Qe>0?Math.PI/2:-Math.PI/2,Ve>0?Math.PI:0,ut),pe.lineTo(g,Qe*mt+z),mt!==0&&pe.arc(Ve*mt+g,Qe*mt+z,mt,Ve>0?Math.PI:0,Qe>0?Math.PI*1.5:Math.PI/2,ut)}}var V=function(pe){function te(){var w;(0,U.Z)(this,te);for(var g=arguments.length,M=new Array(g),z=0;z<g;z++)M[z]=arguments[z];return w=(0,H.Z)(this,te,[].concat(M)),w.name="canvas-path-generator",w}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"init",value:function(){var g,M=(g={},(0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)(g,C.bn.CIRCLE,m),C.bn.ELLIPSE,Z),C.bn.RECT,N),C.bn.LINE,S),C.bn.POLYLINE,A),C.bn.POLYGON,k),C.bn.PATH,ge),C.bn.TEXT,void 0),C.bn.GROUP,void 0),C.bn.IMAGE,void 0),(0,ee.Z)((0,ee.Z)((0,ee.Z)(g,C.bn.HTML,void 0),C.bn.MESH,void 0),C.bn.FRAGMENT,void 0));this.context.pathGeneratorFactory=M}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(C.F6),j=y(92175),xe=y(94162),Le=y(84964),Ge=y(54442),je=y(39536),ke=y(17457),Ee=y(40044),ve=y(55443);var Mt=Ge.Ue(),St=Ge.Ue(),Pt=Ge.Ue(),_t=je.create(),Zt=function(){function pe(){var te=this;(0,U.Z)(this,pe),this.isHit=function(w,g,M,z){var se=te.context.pointInPathPickerFactory[w.nodeName];if(se){var fe=je.invert(_t,M),Ce=Ge.fF(St,Ge.t8(Pt,g[0],g[1],0),fe);if(se(w,new C.E9(Ce[0],Ce[1]),z,te.isPointInPath,te.context,te.runtime))return!0}return!1},this.isPointInPath=function(w,g){var M=te.runtime.offscreenCanvasCreator.getOrCreateContext(te.context.config.offscreenCanvas),z=te.context.pathGeneratorFactory[w.nodeName];return z&&(M.beginPath(),z(M,w.parsedStyle),M.closePath()),M.isPointInPath(g.x,g.y)}}return(0,u.Z)(pe,[{key:"apply",value:function(w,g){var M,z=this,se=w.renderingService,fe=w.renderingContext;this.context=w,this.runtime=g;var Ce=(M=fe.root)===null||M===void 0?void 0:M.ownerDocument;se.hooks.pick.tapPromise(pe.tag,function(){var Ae=(0,Le.Z)((0,xe.Z)().mark(function Ke(We){return(0,xe.Z)().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return Qe.abrupt("return",z.pick(Ce,We));case 1:case"end":return Qe.stop()}},Ke)}));return function(Ke){return Ae.apply(this,arguments)}}()),se.hooks.pickSync.tap(pe.tag,function(Ae){return z.pick(Ce,Ae)})}},{key:"pick",value:function(w,g){var M=g.topmost,z=g.position,se=z.x,fe=z.y,Ce=Ge.t8(Mt,se,fe,0),Ae=w.elementsFromBBox(Ce[0],Ce[1],Ce[0],Ce[1]),Ke=[],We=(0,j.Z)(Ae),Ve;try{for(We.s();!(Ve=We.n()).done;){var Qe=Ve.value,ut=Qe.getWorldTransform(),gt=this.isHit(Qe,Ce,ut,!1);if(gt){var Et=(0,C.Oi)(Qe);if(Et){var mt=Et.parsedStyle.clipPath,K=this.isHit(mt,Ce,mt.getWorldTransform(),!0);if(K){if(M)return g.picked=[Qe],g;Ke.push(Qe)}}else{if(M)return g.picked=[Qe],g;Ke.push(Qe)}}}}catch(W){We.e(W)}finally{We.f()}return g.picked=Ke,g}}])}();Zt.tag="CanvasPicker";function Ot(pe,te,w){var g=pe.parsedStyle,M=g.cx,z=M===void 0?0:M,se=g.cy,fe=se===void 0?0:se,Ce=g.r,Ae=g.fill,Ke=g.stroke,We=g.lineWidth,Ve=We===void 0?1:We,Qe=g.increasedLineWidthForHitTesting,ut=Qe===void 0?0:Qe,gt=g.pointerEvents,Et=gt===void 0?"auto":gt,mt=(Ve+ut)/2,K=(0,ke.TE)(z,fe,te.x,te.y),W=(0,C.L1)(Et,Ae,Ke),O=(0,X.Z)(W,2),re=O[0],Ne=O[1];return re&&Ne||w?K<=Ce+mt:re?K<=Ce:Ne?K>=Ce-mt&&K<=Ce+mt:!1}function Jt(pe,te,w,g){return pe/(w*w)+te/(g*g)}function $t(pe,te,w){var g=pe.parsedStyle,M=g.cx,z=M===void 0?0:M,se=g.cy,fe=se===void 0?0:se,Ce=g.rx,Ae=g.ry,Ke=g.fill,We=g.stroke,Ve=g.lineWidth,Qe=Ve===void 0?1:Ve,ut=g.increasedLineWidthForHitTesting,gt=ut===void 0?0:ut,Et=g.pointerEvents,mt=Et===void 0?"auto":Et,K=te.x,W=te.y,O=(0,C.L1)(mt,Ke,We),re=(0,X.Z)(O,2),Ne=re[0],Be=re[1],Ie=(Qe+gt)/2,vt=(K-z)*(K-z),wt=(W-fe)*(W-fe);return Ne&&Be||w?Jt(vt,wt,Ce+Ie,Ae+Ie)<=1:Ne?Jt(vt,wt,Ce,Ae)<=1:Be?Jt(vt,wt,Ce-Ie,Ae-Ie)>=1&&Jt(vt,wt,Ce+Ie,Ae+Ie)<=1:!1}function Qt(pe,te,w,g,M,z){return M>=pe&&M<=pe+w&&z>=te&&z<=te+g}function F(pe,te,w,g,M,z,se){var fe=M/2;return Qt(pe-fe,te-fe,w,M,z,se)||Qt(pe+w-fe,te-fe,M,g,z,se)||Qt(pe+fe,te+g-fe,w,M,z,se)||Qt(pe-fe,te+fe,M,g,z,se)}function ae(pe,te,w,g,M,z,se,fe){var Ce=(Math.atan2(fe-te,se-pe)+Math.PI*2)%(Math.PI*2),Ae={x:pe+w*Math.cos(Ce),y:te+w*Math.sin(Ce)};return(0,ke.TE)(Ae.x,Ae.y,se,fe)<=z/2}function lt(pe,te,w,g,M,z,se){var fe=Math.min(pe,w),Ce=Math.max(pe,w),Ae=Math.min(te,g),Ke=Math.max(te,g),We=M/2;return z>=fe-We&&z<=Ce+We&&se>=Ae-We&&se<=Ke+We?(0,ke._x)(pe,te,w,g,z,se)<=M/2:!1}function Rt(pe,te,w,g,M){var z=pe.length;if(z<2)return!1;for(var se=0;se<z-1;se++){var fe=pe[se][0],Ce=pe[se][1],Ae=pe[se+1][0],Ke=pe[se+1][1];if(lt(fe,Ce,Ae,Ke,te,w,g))return!0}if(M){var We=pe[0],Ve=pe[z-1];if(lt(We[0],We[1],Ve[0],Ve[1],te,w,g))return!0}return!1}var me=1e-6;function ue(pe){return Math.abs(pe)<me?0:pe<0?-1:1}function G(pe,te,w){return(w[0]-pe[0])*(te[1]-pe[1])===(te[0]-pe[0])*(w[1]-pe[1])&&Math.min(pe[0],te[0])<=w[0]&&w[0]<=Math.max(pe[0],te[0])&&Math.min(pe[1],te[1])<=w[1]&&w[1]<=Math.max(pe[1],te[1])}function R(pe,te,w){var g=!1,M=pe.length;if(M<=2)return!1;for(var z=0;z<M;z++){var se=pe[z],fe=pe[(z+1)%M];if(G(se,fe,[te,w]))return!0;ue(se[1]-w)>0!=ue(fe[1]-w)>0&&ue(te-(w-se[1])*(se[0]-fe[0])/(se[1]-fe[1])-se[0])<0&&(g=!g)}return g}function oe(pe,te,w){for(var g=!1,M=0;M<pe.length;M++){var z=pe[M];if(g=R(z,te,w),g)break}return g}function x(pe,te,w){var g=pe.parsedStyle,M=g.x1,z=g.y1,se=g.x2,fe=g.y2,Ce=g.lineWidth,Ae=Ce===void 0?1:Ce,Ke=g.increasedLineWidthForHitTesting,We=Ke===void 0?0:Ke,Ve=g.pointerEvents,Qe=Ve===void 0?"auto":Ve,ut=g.fill,gt=g.stroke,Et=(0,C.L1)(Qe,ut,gt),mt=(0,X.Z)(Et,2),K=mt[1];return!K&&!w||!Ae?!1:lt(M,z,se,fe,Ae+We,te.x,te.y)}function v(pe,te,w,g,M){for(var z=!1,se=te/2,fe=0;fe<pe.length;fe++){var Ce=pe[fe],Ae=Ce.currentPoint,Ke=Ce.params,We=Ce.prePoint,Ve=Ce.box;if(!(Ve&&!Qt(Ve.x-se,Ve.y-se,Ve.width+te,Ve.height+te,w,g)))switch(Ce.command){case"L":case"Z":if(z=lt(We[0],We[1],Ae[0],Ae[1],te,w,g),z)return!0;break;case"Q":var Qe=(0,ke.Y1)(We[0],We[1],Ke[1],Ke[2],Ke[3],Ke[4],w,g);if(z=Qe<=te/2,z)return!0;break;case"C":var ut=(0,ke.ph)(We[0],We[1],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5],Ke[6],w,g,M);if(z=ut<=te/2,z)return!0;break;case"A":Ce.cubicParams||(Ce.cubicParams=(0,Ee.W)(We[0],We[1],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5],Ke[6],Ke[7],void 0));for(var gt=Ce.cubicParams,Et=We,mt=0;mt<gt.length;mt+=6){var K=(0,ke.ph)(Et[0],Et[1],gt[mt],gt[mt+1],gt[mt+2],gt[mt+3],gt[mt+4],gt[mt+5],w,g,M);if(Et=[gt[mt+4],gt[mt+5]],z=K<=te/2,z)return!0}break}}return z}function b(pe,te,w,g,M,z){var se=pe.parsedStyle,fe=se.lineWidth,Ce=fe===void 0?1:fe,Ae=se.increasedLineWidthForHitTesting,Ke=Ae===void 0?0:Ae,We=se.stroke,Ve=se.fill,Qe=se.d,ut=se.pointerEvents,gt=ut===void 0?"auto":ut,Et=Qe.segments,mt=Qe.hasArc,K=Qe.polylines,W=Qe.polygons,O=(0,C.L1)(gt,(W==null?void 0:W.length)&&Ve,We),re=(0,X.Z)(O,2),Ne=re[0],Be=re[1],Ie=(0,C.gz)(pe),vt=!1;return Ne||w?(mt?vt=g(pe,te):vt=oe(W,te.x,te.y)||oe(K,te.x,te.y),vt):((Be||w)&&(vt=v(Et,Ce+Ke,te.x,te.y,Ie)),vt)}function T(pe,te,w){var g=pe.parsedStyle,M=g.stroke,z=g.fill,se=g.lineWidth,fe=se===void 0?1:se,Ce=g.increasedLineWidthForHitTesting,Ae=Ce===void 0?0:Ce,Ke=g.points,We=g.pointerEvents,Ve=We===void 0?"auto":We,Qe=(0,C.L1)(Ve,z,M),ut=(0,X.Z)(Qe,2),gt=ut[0],Et=ut[1],mt=!1;return(Et||w)&&(mt=Rt(Ke.points,fe+Ae,te.x,te.y,!0)),!mt&&(gt||w)&&(mt=R(Ke.points,te.x,te.y)),mt}function f(pe,te,w){var g=pe.parsedStyle,M=g.lineWidth,z=M===void 0?1:M,se=g.increasedLineWidthForHitTesting,fe=se===void 0?0:se,Ce=g.points,Ae=g.pointerEvents,Ke=Ae===void 0?"auto":Ae,We=g.fill,Ve=g.stroke,Qe=(0,C.L1)(Ke,We,Ve),ut=(0,X.Z)(Qe,2),gt=ut[1];return!gt&&!w||!z?!1:Rt(Ce.points,z+fe,te.x,te.y,!1)}function E(pe,te,w,g,M){var z=pe.parsedStyle,se=z.radius,fe=z.fill,Ce=z.stroke,Ae=z.lineWidth,Ke=Ae===void 0?1:Ae,We=z.increasedLineWidthForHitTesting,Ve=We===void 0?0:We,Qe=z.x,ut=Qe===void 0?0:Qe,gt=z.y,Et=gt===void 0?0:gt,mt=z.width,K=z.height,W=z.pointerEvents,O=W===void 0?"auto":W,re=(0,C.L1)(O,fe,Ce),Ne=(0,X.Z)(re,2),Be=Ne[0],Ie=Ne[1],vt=se&&se.some(function(Yt){return Yt!==0}),wt=Ke+Ve;if(vt){var Xt=!1;return(Ie||w)&&(Xt=B(ut,Et,mt,K,se.map(function(Yt){return(0,de.Z)(Yt,0,Math.min(Math.abs(mt)/2,Math.abs(K)/2))}),wt,te.x,te.y)),!Xt&&(Be||w)&&(Xt=g(pe,te)),Xt}else{var Gt=wt/2;if(Be&&Ie||w)return Qt(ut-Gt,Et-Gt,mt+Gt,K+Gt,te.x,te.y);if(Be)return Qt(ut,Et,mt,K,te.x,te.y);if(Ie)return F(ut,Et,mt,K,wt,te.x,te.y)}return!1}function B(pe,te,w,g,M,z,se,fe){var Ce=(0,X.Z)(M,4),Ae=Ce[0],Ke=Ce[1],We=Ce[2],Ve=Ce[3];return lt(pe+Ae,te,pe+w-Ke,te,z,se,fe)||lt(pe+w,te+Ke,pe+w,te+g-We,z,se,fe)||lt(pe+w-We,te+g,pe+Ve,te+g,z,se,fe)||lt(pe,te+g-Ve,pe,te+Ae,z,se,fe)||ae(pe+w-Ke,te+Ke,Ke,1.5*Math.PI,2*Math.PI,z,se,fe)||ae(pe+w-We,te+g-We,We,0,.5*Math.PI,z,se,fe)||ae(pe+Ve,te+g-Ve,Ve,.5*Math.PI,Math.PI,z,se,fe)||ae(pe+Ae,te+Ae,Ae,Math.PI,1.5*Math.PI,z,se,fe)}function p(pe,te,w,g,M,z){var se=pe.parsedStyle,fe=se.pointerEvents,Ce=fe===void 0?"auto":fe,Ae=se.x,Ke=Ae===void 0?0:Ae,We=se.y,Ve=We===void 0?0:We,Qe=se.width,ut=se.height;if(Ce==="non-transparent-pixel"){var gt=M.config.offscreenCanvas,Et=z.offscreenCanvasCreator.getOrCreateCanvas(gt),mt=z.offscreenCanvasCreator.getOrCreateContext(gt,{willReadFrequently:!0});Et.width=Qe,Et.height=ut,M.defaultStyleRendererFactory[C.bn.IMAGE].render(mt,(0,ve.Z)((0,ve.Z)({},pe.parsedStyle),{},{x:0,y:0}),pe,void 0,void 0,void 0);var K=mt.getImageData(te.x-Ke,te.y-Ve,1,1).data;return K.every(function(W){return W!==0})}return!0}function P(pe,te,w,g){var M=pe.getGeometryBounds();return te.x>=M.min[0]&&te.y>=M.min[1]&&te.x<=M.max[0]&&te.y<=M.max[1]}var $=function(pe){function te(){var w;(0,U.Z)(this,te);for(var g=arguments.length,M=new Array(g),z=0;z<g;z++)M[z]=arguments[z];return w=(0,H.Z)(this,te,[].concat(M)),w.name="canvas-picker",w}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"init",value:function(){var g,M=(g={},(0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)(g,C.bn.CIRCLE,Ot),C.bn.ELLIPSE,$t),C.bn.RECT,E),C.bn.LINE,x),C.bn.POLYLINE,f),C.bn.POLYGON,T),C.bn.PATH,b),C.bn.TEXT,P),C.bn.GROUP,null),C.bn.IMAGE,p),(0,ee.Z)((0,ee.Z)(g,C.bn.HTML,null),C.bn.MESH,null));this.context.pointInPathPickerFactory=M,this.addRenderingPlugin(new Zt)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(C.F6),a=y(35979);function c(pe,te){if(!{}.hasOwnProperty.call(pe,te))throw new TypeError("attempted to use private field on non-instance");return pe}var L=0;function J(pe){return"__private_"+L+++"_"+pe}var ne=y(54663),ye=y(43706);var De=function(){function pe(){(0,U.Z)(this,pe),this.cacheStore=new Map}return(0,u.Z)(pe,[{key:"onRefAdded",value:function(w){}},{key:"has",value:function(w){return this.cacheStore.has(w)}},{key:"put",value:function(w,g,M){return this.cacheStore.has(w)?!1:(this.cacheStore.set(w,{value:g,counter:new Set([M])}),this.onRefAdded(M),!0)}},{key:"get",value:function(w,g){var M=this.cacheStore.get(w);return M?(M.counter.has(g)||(M.counter.add(g),this.onRefAdded(g)),M.value):null}},{key:"update",value:function(w,g,M){var z=this.cacheStore.get(w);return z?(z.value=(0,ve.Z)((0,ve.Z)({},z.value),g),z.counter.has(M)||(z.counter.add(M),this.onRefAdded(M)),!0):!1}},{key:"release",value:function(w,g){var M=this.cacheStore.get(w);return M?(M.counter.delete(g),M.counter.size<=0&&this.cacheStore.delete(w),!0):!1}},{key:"releaseRef",value:function(w){var g=this;Array.from(this.cacheStore.keys()).forEach(function(M){g.release(M,w)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),_e=[],Xe=[],et=function(){function pe(){(0,U.Z)(this,pe)}return(0,u.Z)(pe,null,[{key:"stop",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pe.api;pe.rafId&&(w.cancelAnimationFrame(pe.rafId),pe.rafId=null)}},{key:"executeTask",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pe.api;_e.length<=0&&Xe.length<=0||(Xe.forEach(function(g){return g()}),Xe=_e.splice(0,pe.TASK_NUM_PER_FRAME),pe.rafId=w.requestAnimationFrame(function(){pe.executeTask(w)}))}},{key:"sliceImage",value:function(w,g,M,z){for(var se=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,fe=arguments.length>5&&arguments[5]!==void 0?arguments[5]:pe.api,Ce=w.naturalWidth||w.width,Ae=w.naturalHeight||w.height,Ke=g-se,We=M-se,Ve=Math.ceil(Ce/Ke),Qe=Math.ceil(Ae/We),ut={tileSize:[g,M],gridSize:[Qe,Ve],tiles:Array(Qe).fill(null).map(function(){return Array(Ve).fill(null)})},gt=function(K){for(var W=function(Ne){_e.push(function(){var Be=Ne*Ke,Ie=K*We,vt=[Math.min(g,Ce-Be),Math.min(M,Ae-Ie)],wt=vt[0],Gt=vt[1],Xt=fe.createCanvas();Xt.width=g,Xt.height=M;var Yt=Xt.getContext("2d");Yt.drawImage(w,Be,Ie,wt,Gt,0,0,wt,Gt),ut.tiles[K][Ne]={x:Be,y:Ie,tileX:Ne,tileY:K,data:Xt},z()})},O=0;O<Ve;O++)W(O)},Et=0;Et<Qe;Et++)gt(Et);return pe.stop(),pe.executeTask(),ut}}])}();et.TASK_NUM_PER_FRAME=10;var it=new De;it.onRefAdded=function(te){var w=this;te.addEventListener(C.Dk.DESTROY,function(){w.releaseRef(te)},{once:!0})};var nt=function(){function pe(te,w){(0,U.Z)(this,pe),this.gradientCache={},this.patternCache={},this.context=te,this.runtime=w}return(0,u.Z)(pe,[{key:"getImageSync",value:function(w,g,M){var z=(0,ye.Z)(w)?w:w.src;if(it.has(z)){var se=it.get(z,g);if(se.img.complete)return M==null||M(se),se}return this.getOrCreateImage(w,g).then(function(fe){M==null||M(fe)}).catch(function(fe){console.error(fe)}),null}},{key:"getOrCreateImage",value:function(w,g){var M=this,z=(0,ye.Z)(w)?w:w.src;if(!(0,ye.Z)(w)&&!it.has(z)){var se={img:w,size:[w.naturalWidth||w.width,w.naturalHeight||w.height],tileSize:ie(w)};it.put(z,se,g)}if(it.has(z)){var fe=it.get(z,g);return fe.img.complete?Promise.resolve(fe):new Promise(function(Ce,Ae){fe.img.addEventListener("load",function(){fe.size=[fe.img.naturalWidth||fe.img.width,fe.img.naturalHeight||fe.img.height],fe.tileSize=ie(fe.img),Ce(fe)}),fe.img.addEventListener("error",function(Ke){Ae(Ke)})})}return new Promise(function(Ce,Ae){var Ke=M.context.config.createImage();if(Ke){var We={img:Ke,size:[0,0],tileSize:ie(Ke)};it.put(z,We,g),Ke.onload=function(){We.size=[Ke.naturalWidth||Ke.width,Ke.naturalHeight||Ke.height],We.tileSize=ie(We.img),Ce(We)},Ke.onerror=function(Ve){Ae(Ve)},Ke.crossOrigin="Anonymous",Ke.src=z}})}},{key:"createDownSampledImage",value:function(){var te=(0,Le.Z)((0,xe.Z)().mark(function g(M,z){var se,fe,Ce,Ae,Ke,We,Ve,Qe,ut,gt,Et,mt,K,W;return(0,xe.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,this.getOrCreateImage(M,z);case 2:if(se=re.sent,typeof se.downSamplingRate=="undefined"){re.next=5;break}return re.abrupt("return",se);case 5:if(fe=this.context.config.enableLargeImageOptimization,Ce=typeof fe=="boolean"?{}:fe,Ae=Ce.maxDownSampledImageSize,Ke=Ae===void 0?2048:Ae,We=Ce.downSamplingRateThreshold,Ve=We===void 0?.5:We,Qe=this.runtime.globalThis.createImageBitmap,ut=(0,X.Z)(se.size,2),gt=ut[0],Et=ut[1],mt=se.img,K=Math.min((Ke+Ke)/(gt+Et),Math.max(.01,Math.min(Ve,.5))),W=(0,ve.Z)((0,ve.Z)({},se),{},{downSamplingRate:K}),it.update(se.img.src,W,z),!Qe){re.next=25;break}return re.prev=14,re.next=17,Qe(se.img,{resizeWidth:gt*K,resizeHeight:Et*K});case 17:mt=re.sent,re.next=23;break;case 20:re.prev=20,re.t0=re.catch(14),K=1;case 23:re.next=26;break;case 25:K=1;case 26:return W=(0,ve.Z)((0,ve.Z)({},this.getImageSync(M,z)),{},{downSampled:mt,downSamplingRate:K}),it.update(se.img.src,W,z),re.abrupt("return",W);case 29:case"end":return re.stop()}},g,this,[[14,20]])}));function w(g,M){return te.apply(this,arguments)}return w}()},{key:"createImageTiles",value:function(){var te=(0,Le.Z)((0,xe.Z)().mark(function g(M,z,se,fe){var Ce,Ae,Ke,We,Ve;return(0,xe.Z)().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:return ut.next=2,this.getOrCreateImage(M,fe);case 2:return Ce=ut.sent,Ae=fe.ownerDocument.defaultView,Ke=Ae.requestAnimationFrame,We=Ae.cancelAnimationFrame,et.api={requestAnimationFrame:Ke,cancelAnimationFrame:We,createCanvas:function(){return C.jB.createCanvas()}},Ve=(0,ve.Z)((0,ve.Z)({},Ce),et.sliceImage(Ce.img,Ce.tileSize[0],Ce.tileSize[0],se)),it.update(Ce.img.src,Ve,fe),ut.abrupt("return",Ve);case 8:case"end":return ut.stop()}},g,this)}));function w(g,M,z,se){return te.apply(this,arguments)}return w}()},{key:"releaseImage",value:function(w,g){it.release((0,ye.Z)(w)?w:w.src,g)}},{key:"releaseImageRef",value:function(w){it.releaseRef(w)}},{key:"getOrCreatePatternSync",value:function(w,g,M,z,se,fe,Ce){var Ae=this.generatePatternKey(g);if(Ae&&this.patternCache[Ae])return this.patternCache[Ae];var Ke=g.image,We=g.repetition,Ve=g.transform,Qe,ut=!1;if((0,ye.Z)(Ke)){var gt=this.getImageSync(Ke,w,Ce);Qe=gt==null?void 0:gt.img}else z?(Qe=z,ut=!0):Qe=Ke;var Et=Qe&&M.createPattern(Qe,We);if(Et){var mt;Ve?mt=(0,C.G0)((0,C.G$)(Ve),new C.s$({})):mt=je.identity(je.create()),ut&&je.scale(mt,mt,[1/se,1/se,1]),Et.setTransform({a:mt[0],b:mt[1],c:mt[4],d:mt[5],e:mt[12]+fe[0],f:mt[13]+fe[1]})}return Ae&&Et&&(this.patternCache[Ae]=Et),Et}},{key:"getOrCreateGradient",value:function(w,g){var M=this.generateGradientKey(w),z=w.type,se=w.steps,fe=w.min,Ce=w.width,Ae=w.height,Ke=w.angle,We=w.cx,Ve=w.cy,Qe=w.size;if(this.gradientCache[M])return this.gradientCache[M];var ut=null;if(z===C.GL.LinearGradient){var gt=(0,C.Rx)(fe,Ce,Ae,Ke),Et=gt.x1,mt=gt.y1,K=gt.x2,W=gt.y2;ut=g.createLinearGradient(Et,mt,K,W)}else if(z===C.GL.RadialGradient){var O=(0,C.o6)(fe,Ce,Ae,We,Ve,Qe),re=O.x,Ne=O.y,Be=O.r;ut=g.createRadialGradient(re,Ne,0,re,Ne,Be)}return ut&&(se.forEach(function(Ie){var vt=Ie.offset,wt=Ie.color;if(vt.unit===C.Cm.kPercentage){var Gt;(Gt=ut)===null||Gt===void 0||Gt.addColorStop(vt.value/100,wt.toString())}}),this.gradientCache[M]=ut),this.gradientCache[M]}},{key:"generateGradientKey",value:function(w){var g=w.type,M=w.min,z=w.width,se=w.height,fe=w.steps,Ce=w.angle,Ae=w.cx,Ke=w.cy,We=w.size;return"gradient-".concat(g,"-").concat((Ce==null?void 0:Ce.toString())||0,"-").concat((Ae==null?void 0:Ae.toString())||0,"-").concat((Ke==null?void 0:Ke.toString())||0,"-").concat((We==null?void 0:We.toString())||0,"-").concat(M[0],"-").concat(M[1],"-").concat(z,"-").concat(se,"-").concat(fe.map(function(Ve){var Qe=Ve.offset,ut=Ve.color;return"".concat(Qe).concat(ut)}).join("-"))}},{key:"generatePatternKey",value:function(w){var g=w.image,M=w.repetition;if((0,ye.Z)(g))return"pattern-".concat(g,"-").concat(M);if(g.nodeName==="rect")return"pattern-".concat(g.entity,"-").concat(M)}}])}();nt.isSupportTile=!!C.jB.createCanvas();function ie(pe){if(!pe.complete)return[0,0];var te=pe.naturalWidth||pe.width,w=pe.naturalHeight||pe.height,g=256;return[256,512].forEach(function(M){var z=Math.ceil(w/M),se=Math.ceil(te/M);z*se<1e3&&(g=M)}),[g,g]}var ce=function(){function pe(){(0,U.Z)(this,pe)}return(0,u.Z)(pe,[{key:"apply",value:function(w){var g=w.renderingService,M=w.renderingContext,z=w.imagePool,se=M.root.ownerDocument.defaultView,fe=function(We,Ve,Qe){var ut=We.parsedStyle,gt=ut.width,Et=ut.height;gt&&!Et?We.setAttribute("height",Qe/Ve*gt):!gt&&Et&&We.setAttribute("width",Ve/Qe*Et)},Ce=function(We){var Ve=We.target,Qe=Ve.nodeName,ut=Ve.attributes;if(Qe===C.bn.IMAGE){var gt=ut.src,Et=ut.keepAspectRatio;z.getImageSync(gt,Ve,function(mt){var K=mt.img,W=K.width,O=K.height;Et&&fe(Ve,W,O),Ve.renderable.dirty=!0,g.dirtify()})}},Ae=function(We){var Ve=We.target,Qe=We.attrName,ut=We.prevValue,gt=We.newValue;Ve.nodeName!==C.bn.IMAGE||Qe!=="src"||(ut!==gt&&z.releaseImage(ut,Ve),(0,ye.Z)(gt)&&z.getOrCreateImage(gt,Ve).then(function(Et){var mt=Et.img,K=mt.width,W=mt.height;Ve.attributes.keepAspectRatio&&fe(Ve,K,W),Ve.renderable.dirty=!0,g.dirtify()}).catch(function(){}))};g.hooks.init.tap(pe.tag,function(){se.addEventListener(C.Dk.MOUNTED,Ce),se.addEventListener(C.Dk.ATTR_MODIFIED,Ae)}),g.hooks.destroy.tap(pe.tag,function(){se.removeEventListener(C.Dk.MOUNTED,Ce),se.removeEventListener(C.Dk.ATTR_MODIFIED,Ae)})}}])}();ce.tag="LoadImage";var be=function(pe){function te(){var w;(0,U.Z)(this,te);for(var g=arguments.length,M=new Array(g),z=0;z<g;z++)M[z]=arguments[z];return w=(0,H.Z)(this,te,[].concat(M)),w.name="image-loader",w}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"init",value:function(g){this.context.imagePool=new nt(this.context,g),this.addRenderingPlugin(new ce)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(C.F6);var Me=J("renderState"),le=function(){function pe(te){(0,U.Z)(this,pe),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,Me,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=je.create(),this.dprMatrix=je.create(),this.tmpMat4=je.create(),this.vec3a=Ge.Ue(),this.vec3b=Ge.Ue(),this.vec3c=Ge.Ue(),this.vec3d=Ge.Ue(),this.canvasRendererPluginOptions=te}return(0,u.Z)(pe,[{key:"apply",value:function(w,g){var M=this;this.context=w;var z=this.context,se=z.config,fe=z.camera,Ce=z.renderingService,Ae=z.renderingContext,Ke=z.rBushRoot,We=z.pathGeneratorFactory,Ve=se.renderer.getConfig().enableRenderingOptimization;se.renderer.getConfig().enableDirtyCheck=!1,se.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=Ke,this.pathGeneratorFactory=We;var Qe=w.contextService,ut=Ae.root.ownerDocument.defaultView,gt=function(W){var O=W.target,re=O.rBushNode;re.aabb&&M.removedRBushNodeAABBs.push(re.aabb)},Et=function(W){var O=W.target,re=O.rBushNode;re.aabb&&M.removedRBushNodeAABBs.push(re.aabb)};Ce.hooks.init.tap(pe.tag,function(){ut.addEventListener(C.Dk.UNMOUNTED,gt),ut.addEventListener(C.Dk.CULLED,Et);var K=Qe.getDPR(),W=se.width,O=se.height,re=Qe.getContext();M.clearRect(re,0,0,W*K,O*K,se.background)}),Ce.hooks.destroy.tap(pe.tag,function(){ut.removeEventListener(C.Dk.UNMOUNTED,gt),ut.removeEventListener(C.Dk.CULLED,Et),M.renderQueue=[],M.removedRBushNodeAABBs=[],c(M,Me)[Me]={restoreStack:[],prevObject:null,currentContext:null}}),Ce.hooks.beginFrame.tap(pe.tag,function(){var K,W=Qe.getContext(),O=Qe.getDPR(),re=se.width,Ne=se.height,Be=M.canvasRendererPluginOptions,Ie=Be.dirtyObjectNumThreshold,vt=Be.dirtyObjectRatioThreshold,wt=Ce.getStats(),Gt=wt.total,Xt=wt.rendered,Yt=Xt/Gt;M.clearFullScreen=M.clearFullScreenLastFrame||!((K=ut.context.renderingPlugins[1])!==null&&K!==void 0&&K.isFirstTimeRenderingFinished)||Ce.disableDirtyRectangleRendering()||Xt>Ie&&Yt>vt,W&&(typeof W.resetTransform=="function"?W.resetTransform():W.setTransform(1,0,0,1,0,0),M.clearFullScreen&&M.clearRect(W,0,0,re*O,Ne*O,se.background))});var mt=function(W,O){for(var re=[W];re.length>0;){var Ne,Be=re.pop();Be.isVisible()&&!Be.isCulled()&&(Ve?M.renderDisplayObjectOptimized(Be,O,M.context,c(M,Me)[Me],g):M.renderDisplayObject(Be,O,M.context,c(M,Me)[Me],g));for(var Ie=((Ne=Be.sortable)===null||Ne===void 0||(Ne=Ne.sorted)===null||Ne===void 0?void 0:Ne.length)>0?Be.sortable.sorted:Be.childNodes,vt=Ie.length-1;vt>=0;vt--)re.push(Ie[vt])}};Ce.hooks.endFrame.tap(pe.tag,function(){if(Ae.root.childNodes.length===0){M.clearFullScreenLastFrame=!0;return}Ve=se.renderer.getConfig().enableRenderingOptimization,c(M,Me)[Me]={restoreStack:[],prevObject:null,currentContext:c(M,Me)[Me].currentContext},c(M,Me)[Me].currentContext.clear(),M.clearFullScreenLastFrame=!1;var K=Qe.getContext(),W=Qe.getDPR();if(je.fromScaling(M.dprMatrix,[W,W,1]),je.multiply(M.vpMatrix,M.dprMatrix,fe.getOrthoMatrix()),M.clearFullScreen)Ve?(K.save(),mt(Ae.root,K),K.restore()):mt(Ae.root,K),M.removedRBushNodeAABBs=[];else{var O=M.safeMergeAABB.apply(M,[M.mergeDirtyAABBs(M.renderQueue)].concat((0,a.Z)(M.removedRBushNodeAABBs.map(function(st){var yt=st.minX,xt=st.minY,Dt=st.maxX,Ct=st.maxY,zt=new C.mN;return zt.setMinMax([yt,xt,0],[Dt,Ct,0]),zt}))));if(M.removedRBushNodeAABBs=[],C.mN.isEmpty(O)){M.renderQueue=[];return}var re=M.convertAABB2Rect(O),Ne=re.x,Be=re.y,Ie=re.width,vt=re.height,wt=Ge.fF(M.vec3a,[Ne,Be,0],M.vpMatrix),Gt=Ge.fF(M.vec3b,[Ne+Ie,Be,0],M.vpMatrix),Xt=Ge.fF(M.vec3c,[Ne,Be+vt,0],M.vpMatrix),Yt=Ge.fF(M.vec3d,[Ne+Ie,Be+vt,0],M.vpMatrix),rn=Math.min(wt[0],Gt[0],Yt[0],Xt[0]),hn=Math.min(wt[1],Gt[1],Yt[1],Xt[1]),_=Math.max(wt[0],Gt[0],Yt[0],Xt[0]),I=Math.max(wt[1],Gt[1],Yt[1],Xt[1]),Q=Math.floor(rn),Te=Math.floor(hn),Re=Math.ceil(_-rn),we=Math.ceil(I-hn);K.save(),M.clearRect(K,Q,Te,Re,we,se.background),K.beginPath(),K.rect(Q,Te,Re,we),K.clip(),K.setTransform(M.vpMatrix[0],M.vpMatrix[1],M.vpMatrix[4],M.vpMatrix[5],M.vpMatrix[12],M.vpMatrix[13]);var Fe=se.renderer.getConfig(),$e=Fe.enableDirtyRectangleRenderingDebug;$e&&ut.dispatchEvent(new C.Aw(C.$6.DIRTY_RECTANGLE,{dirtyRect:{x:Q,y:Te,width:Re,height:we}}));var Je=M.searchDirtyObjects(O);Je.sort(function(st,yt){return st.sortable.renderOrder-yt.sortable.renderOrder}).forEach(function(st){st&&st.isVisible()&&!st.isCulled()&&M.renderDisplayObject(st,K,M.context,c(M,Me)[Me],g)}),K.restore(),M.renderQueue.forEach(function(st){M.saveDirtyAABB(st)}),M.renderQueue=[]}c(M,Me)[Me].restoreStack.forEach(function(){K.restore()}),c(M,Me)[Me].restoreStack=[]}),Ce.hooks.render.tap(pe.tag,function(K){M.clearFullScreen||M.renderQueue.push(K)})}},{key:"clearRect",value:function(w,g,M,z,se,fe){w.clearRect(g,M,z,se),fe&&(w.fillStyle=fe,w.fillRect(g,M,z,se))}},{key:"renderDisplayObjectOptimized",value:function(w,g,M,z,se){var fe=w.nodeName,Ce=!1,Ae=!1,Ke=this.context.styleRendererFactory[fe],We=this.pathGeneratorFactory[fe],Ve=w.parsedStyle.clipPath;if(Ve){Ce=!z.prevObject||!je.exactEquals(Ve.getWorldTransform(),z.prevObject.getWorldTransform()),Ce&&(this.applyWorldTransform(g,Ve),z.prevObject=null);var Qe=this.pathGeneratorFactory[Ve.nodeName];Qe&&(g.save(),Ae=!0,g.beginPath(),Qe(g,Ve.parsedStyle),g.closePath(),g.clip())}if(Ke){Ce=!z.prevObject||!je.exactEquals(w.getWorldTransform(),z.prevObject.getWorldTransform()),Ce&&this.applyWorldTransform(g,w);var ut=!z.prevObject;if(!ut){var gt=z.prevObject.nodeName;fe===C.bn.TEXT?ut=gt!==C.bn.TEXT:fe===C.bn.IMAGE?ut=gt!==C.bn.IMAGE:ut=gt===C.bn.TEXT||gt===C.bn.IMAGE}Ke.applyStyleToContext(g,w,ut,z),z.prevObject=w}We&&(g.beginPath(),We(g,w.parsedStyle),fe!==C.bn.LINE&&fe!==C.bn.PATH&&fe!==C.bn.POLYLINE&&g.closePath()),Ke&&Ke.drawToContext(g,w,c(this,Me)[Me],this,se),Ae&&g.restore(),w.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(w,g,M,z,se){var fe=w.nodeName,Ce=z.restoreStack[z.restoreStack.length-1];Ce&&!(w.compareDocumentPosition(Ce)&C.NB.DOCUMENT_POSITION_CONTAINS)&&(g.restore(),z.restoreStack.pop());var Ae=this.context.styleRendererFactory[fe],Ke=this.pathGeneratorFactory[fe],We=w.parsedStyle.clipPath;if(We){this.applyWorldTransform(g,We);var Ve=this.pathGeneratorFactory[We.nodeName];Ve&&(g.save(),z.restoreStack.push(w),g.beginPath(),Ve(g,We.parsedStyle),g.closePath(),g.clip())}Ae&&(this.applyWorldTransform(g,w),g.save(),this.applyAttributesToContext(g,w)),Ke&&(g.beginPath(),Ke(g,w.parsedStyle),fe!==C.bn.LINE&&fe!==C.bn.PATH&&fe!==C.bn.POLYLINE&&g.closePath()),Ae&&(Ae.render(g,w.parsedStyle,w,M,this,se),g.restore()),w.renderable.dirty=!1}},{key:"applyAttributesToContext",value:function(w,g){var M=g.parsedStyle,z=M.stroke,se=M.fill,fe=M.opacity,Ce=M.lineDash,Ae=M.lineDashOffset;Ce&&w.setLineDash(Ce),(0,ne.Z)(Ae)||(w.lineDashOffset=Ae),(0,ne.Z)(fe)||(w.globalAlpha*=fe),!(0,ne.Z)(z)&&!Array.isArray(z)&&!z.isNone&&(w.strokeStyle=g.attributes.stroke),!(0,ne.Z)(se)&&!Array.isArray(se)&&!se.isNone&&(w.fillStyle=g.attributes.fill)}},{key:"convertAABB2Rect",value:function(w){var g=w.getMin(),M=w.getMax(),z=Math.floor(g[0]),se=Math.floor(g[1]),fe=Math.ceil(M[0]),Ce=Math.ceil(M[1]),Ae=fe-z,Ke=Ce-se;return{x:z,y:se,width:Ae,height:Ke}}},{key:"mergeDirtyAABBs",value:function(w){var g=new C.mN;return w.forEach(function(M){var z=M.getRenderBounds();g.add(z);var se=M.renderable.dirtyRenderBounds;se&&g.add(se)}),g}},{key:"searchDirtyObjects",value:function(w){var g=w.getMin(),M=(0,X.Z)(g,2),z=M[0],se=M[1],fe=w.getMax(),Ce=(0,X.Z)(fe,2),Ae=Ce[0],Ke=Ce[1],We=this.rBush.search({minX:z,minY:se,maxX:Ae,maxY:Ke});return We.map(function(Ve){var Qe=Ve.displayObject;return Qe})}},{key:"saveDirtyAABB",value:function(w){var g=w.renderable;g.dirtyRenderBounds||(g.dirtyRenderBounds=new C.mN);var M=w.getRenderBounds();M&&g.dirtyRenderBounds.update(M.center,M.halfExtents)}},{key:"applyWorldTransform",value:function(w,g,M){M?(je.copy(this.tmpMat4,g.getLocalTransform()),je.multiply(this.tmpMat4,M,this.tmpMat4),je.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(je.copy(this.tmpMat4,g.getWorldTransform()),je.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4)),w.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var w=new C.mN,g=arguments.length,M=new Array(g),z=0;z<g;z++)M[z]=arguments[z];return M.forEach(function(se){w.add(se)}),w}}])}();le.tag="CanvasRenderer";function Ze(pe,te,w,g,M,z,se){var fe,Ce;if(pe.image.nodeName==="rect"){var Ae=pe.image.parsedStyle,Ke=Ae.width,We=Ae.height;Ce=g.contextService.getDPR();var Ve=g.config.offscreenCanvas;fe=z.offscreenCanvasCreator.getOrCreateCanvas(Ve),fe.width=Ke*Ce,fe.height=We*Ce;var Qe=z.offscreenCanvasCreator.getOrCreateContext(Ve),ut={restoreStack:[],prevObject:null,currentContext:new Map};pe.image.forEach(function(Et){M.renderDisplayObject(Et,Qe,g,ut,z)}),ut.restoreStack.forEach(function(){Qe.restore()})}var gt=se.getOrCreatePatternSync(te,pe,w,fe,Ce,te.getGeometryBounds().min,function(){te.renderable.dirty=!0,g.renderingService.dirtify()});return gt}function ht(pe,te,w,g){var M;if(pe.type===C.GL.LinearGradient||pe.type===C.GL.RadialGradient){var z=te.getGeometryBounds(),se=z&&z.halfExtents[0]*2||1,fe=z&&z.halfExtents[1]*2||1,Ce=z&&z.min||[0,0];M=g.getOrCreateGradient((0,ve.Z)((0,ve.Z)({type:pe.type},pe.value),{},{min:Ce,width:se,height:fe}),w)}return M}var ft=["shadowBlur","shadowOffsetX","shadowOffsetY"],dt=["lineCap","lineJoin","miterLimit"],ct={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},Nt={};function Bt(pe,te,w,g){var M=g.has(te)?g.get(te):ct[te];return M!==w&&(te==="lineDash"?pe.setLineDash(w):pe[te]=w,g.set(te,w)),M}var en=function(){function pe(te){(0,U.Z)(this,pe),this.imagePool=te}return(0,u.Z)(pe,[{key:"applyAttributesToContext",value:function(w,g){}},{key:"render",value:function(w,g,M,z,se,fe){}},{key:"applyCommonStyleToContext",value:function(w,g,M,z){var se=M?Nt:z.prevObject.parsedStyle,fe=g.parsedStyle;(M||fe.opacity!==se.opacity)&&Bt(w,"globalAlpha",(0,ne.Z)(fe.opacity)?ct.globalAlpha:fe.opacity,z.currentContext),(M||fe.blend!==se.blend)&&Bt(w,"globalCompositeOperation",(0,ne.Z)(fe.blend)?ct.globalCompositeOperation:fe.blend,z.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(w,g,M,z){var se=M?Nt:z.prevObject.parsedStyle,fe=g.parsedStyle,Ce=fe.lineWidth,Ae=Ce===void 0?ct.lineWidth:Ce,Ke=fe.fill&&!fe.fill.isNone,We=fe.stroke&&!fe.stroke.isNone&&Ae>0;if(We){if(M||g.attributes.stroke!==z.prevObject.attributes.stroke){var Ve=!(0,ne.Z)(fe.stroke)&&!Array.isArray(fe.stroke)&&!fe.stroke.isNone?g.attributes.stroke:ct.strokeStyle;Bt(w,"strokeStyle",Ve,z.currentContext)}(M||fe.lineWidth!==se.lineWidth)&&Bt(w,"lineWidth",(0,ne.Z)(fe.lineWidth)?ct.lineWidth:fe.lineWidth,z.currentContext),(M||fe.lineDash!==se.lineDash)&&Bt(w,"lineDash",fe.lineDash||ct.lineDash,z.currentContext),(M||fe.lineDashOffset!==se.lineDashOffset)&&Bt(w,"lineDashOffset",(0,ne.Z)(fe.lineDashOffset)?ct.lineDashOffset:fe.lineDashOffset,z.currentContext);for(var Qe=0;Qe<dt.length;Qe++){var ut=dt[Qe];(M||fe[ut]!==se[ut])&&Bt(w,ut,(0,ne.Z)(fe[ut])?ct[ut]:fe[ut],z.currentContext)}}if(Ke&&(M||g.attributes.fill!==z.prevObject.attributes.fill)){var gt=!(0,ne.Z)(fe.fill)&&!Array.isArray(fe.fill)&&!fe.fill.isNone?g.attributes.fill:ct.fillStyle;Bt(w,"fillStyle",gt,z.currentContext)}}},{key:"applyStyleToContext",value:function(w,g,M,z){var se=g.nodeName;this.applyCommonStyleToContext(w,g,M,z),se===C.bn.IMAGE||this.applyStrokeFillStyleToContext(w,g,M,z)}},{key:"applyShadowAndFilterStyleToContext",value:function(w,g,M,z){var se=g.parsedStyle;if(M){Bt(w,"shadowColor",se.shadowColor.toString(),z.currentContext);for(var fe=0;fe<ft.length;fe++){var Ce=ft[fe];Bt(w,Ce,se[Ce]||ct[Ce],z.currentContext)}}se.filter&&se.filter.length&&Bt(w,"filter",g.attributes.filter,z.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(w,g,M,z){var se=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g){Bt(w,"shadowColor",ct.shadowColor,z.currentContext);for(var fe=0;fe<ft.length;fe++){var Ce=ft[fe];Bt(w,Ce,ct[Ce],z.currentContext)}}if(M)if(g&&se){var Ae=w.filter;!(0,ne.Z)(Ae)&&Ae.indexOf("drop-shadow")>-1&&Bt(w,"filter",Ae.replace(/drop-shadow\([^)]*\)/,"").trim()||ct.filter,z.currentContext)}else Bt(w,"filter",ct.filter,z.currentContext)}},{key:"fillToContext",value:function(w,g,M,z,se){var fe=this,Ce=g.parsedStyle,Ae=Ce.fill,Ke=Ce.fillRule,We=null;if(Array.isArray(Ae)&&Ae.length>0)Ae.forEach(function(Qe){var ut=Bt(w,"fillStyle",ht(Qe,g,w,fe.imagePool),M.currentContext);We=We!=null?We:ut,Ke?w.fill(Ke):w.fill()});else{if((0,C.R)(Ae)){var Ve=Ze(Ae,g,w,g.ownerDocument.defaultView.context,z,se,this.imagePool);Ve&&(w.fillStyle=Ve,We=!0)}Ke?w.fill(Ke):w.fill()}We!==null&&Bt(w,"fillStyle",We,M.currentContext)}},{key:"strokeToContext",value:function(w,g,M,z,se){var fe=this,Ce=g.parsedStyle.stroke,Ae=null;if(Array.isArray(Ce)&&Ce.length>0)Ce.forEach(function(Ve){var Qe=Bt(w,"strokeStyle",ht(Ve,g,w,fe.imagePool),M.currentContext);Ae=Ae!=null?Ae:Qe,w.stroke()});else{if((0,C.R)(Ce)){var Ke=Ze(Ce,g,w,g.ownerDocument.defaultView.context,z,se,this.imagePool);if(Ke){var We=Bt(w,"strokeStyle",Ke,M.currentContext);Ae=Ae!=null?Ae:We}}w.stroke()}Ae!==null&&Bt(w,"strokeStyle",Ae,M.currentContext)}},{key:"drawToContext",value:function(w,g,M,z,se){var fe,Ce=g.nodeName,Ae=g.parsedStyle,Ke=Ae.opacity,We=Ke===void 0?ct.globalAlpha:Ke,Ve=Ae.fillOpacity,Qe=Ve===void 0?ct.fillOpacity:Ve,ut=Ae.strokeOpacity,gt=ut===void 0?ct.strokeOpacity:ut,Et=Ae.lineWidth,mt=Et===void 0?ct.lineWidth:Et,K=Ae.fill&&!Ae.fill.isNone,W=Ae.stroke&&!Ae.stroke.isNone&&mt>0;if(!(!K&&!W)){var O=!(0,ne.Z)(Ae.shadowColor)&&Ae.shadowBlur>0,re=Ae.shadowType==="inner",Ne=((fe=Ae.fill)===null||fe===void 0?void 0:fe.alpha)===0,Be=!!(Ae.filter&&Ae.filter.length),Ie=O&&W&&(Ce===C.bn.PATH||Ce===C.bn.LINE||Ce===C.bn.POLYLINE||Ne||re),vt=null;if(K){Ie||this.applyShadowAndFilterStyleToContext(w,g,O,M);var wt=We*Qe;vt=Bt(w,"globalAlpha",wt,M.currentContext),this.fillToContext(w,g,M,z,se),Ie||this.clearShadowAndFilterStyleForContext(w,O,Be,M)}if(W){var Gt=!1,Xt=We*gt,Yt=Bt(w,"globalAlpha",Xt,M.currentContext);if(vt=K?vt:Yt,Ie&&(this.applyShadowAndFilterStyleToContext(w,g,O,M),Gt=!0,re)){var rn=w.globalCompositeOperation;w.globalCompositeOperation="source-atop",this.strokeToContext(w,g,M,z,se),w.globalCompositeOperation=rn,this.clearShadowAndFilterStyleForContext(w,O,Be,M,!0)}this.strokeToContext(w,g,M,z,se),Gt&&this.clearShadowAndFilterStyleForContext(w,O,Be,M)}vt!==null&&Bt(w,"globalAlpha",vt,M.currentContext)}}}])}(),tn=function(pe){function te(){return(0,U.Z)(this,te),(0,H.Z)(this,te,arguments)}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"render",value:function(g,M,z,se,fe,Ce){var Ae=M.fill,Ke=M.fillRule,We=M.opacity,Ve=We===void 0?1:We,Qe=M.fillOpacity,ut=Qe===void 0?1:Qe,gt=M.stroke,Et=M.strokeOpacity,mt=Et===void 0?1:Et,K=M.lineWidth,W=K===void 0?1:K,O=M.lineCap,re=M.lineJoin,Ne=M.shadowType,Be=M.shadowColor,Ie=M.shadowBlur,vt=M.filter,wt=M.miterLimit,Gt=Ae&&!Ae.isNone,Xt=gt&&!gt.isNone&&W>0,Yt=(Ae==null?void 0:Ae.alpha)===0,rn=!!(vt&&vt.length),hn=!(0,ne.Z)(Be)&&Ie>0,_=z.nodeName,I=Ne==="inner",Q=Xt&&hn&&(_===C.bn.PATH||_===C.bn.LINE||_===C.bn.POLYLINE||Yt||I);Gt&&(g.globalAlpha=Ve*ut,Q||an(z,g,hn),Ht(g,z,Ae,Ke,se,fe,Ce,this.imagePool),Q||this.clearShadowAndFilter(g,rn,hn)),Xt&&(g.globalAlpha=Ve*mt,g.lineWidth=W,(0,ne.Z)(wt)||(g.miterLimit=wt),(0,ne.Z)(O)||(g.lineCap=O),(0,ne.Z)(re)||(g.lineJoin=re),Q&&(I&&(g.globalCompositeOperation="source-atop"),an(z,g,!0),I&&(pn(g,z,gt,se,fe,Ce,this.imagePool),g.globalCompositeOperation=ct.globalCompositeOperation,this.clearShadowAndFilter(g,rn,!0))),pn(g,z,gt,se,fe,Ce,this.imagePool))}},{key:"clearShadowAndFilter",value:function(g,M,z){if(z&&(g.shadowColor="transparent",g.shadowBlur=0),M){var se=g.filter;!(0,ne.Z)(se)&&se.indexOf("drop-shadow")>-1&&(g.filter=se.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(en);function an(pe,te,w){var g=pe.parsedStyle,M=g.filter,z=g.shadowColor,se=g.shadowBlur,fe=g.shadowOffsetX,Ce=g.shadowOffsetY;M&&M.length&&(te.filter=pe.style.filter),w&&(te.shadowColor=z.toString(),te.shadowBlur=se||0,te.shadowOffsetX=fe||0,te.shadowOffsetY=Ce||0)}function Ht(pe,te,w,g,M,z,se,fe){var Ce=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(w)?w.forEach(function(Ae){pe.fillStyle=ht(Ae,te,pe,fe),Ce||(g?pe.fill(g):pe.fill())}):((0,C.R)(w)&&(pe.fillStyle=Ze(w,te,pe,M,z,se,fe)),Ce||(g?pe.fill(g):pe.fill()))}function pn(pe,te,w,g,M,z,se){var fe=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(w)?w.forEach(function(Ce){pe.strokeStyle=ht(Ce,te,pe,se),fe||pe.stroke()}):((0,C.R)(w)&&(pe.strokeStyle=Ze(w,te,pe,g,M,z,se)),fe||pe.stroke())}function mn(pe,te){var w=(0,X.Z)(pe,4),g=w[0],M=w[1],z=w[2],se=w[3],fe=(0,X.Z)(te,4),Ce=fe[0],Ae=fe[1],Ke=fe[2],We=fe[3],Ve=Math.max(g,Ce),Qe=Math.max(M,Ae),ut=Math.min(g+z,Ce+Ke),gt=Math.min(M+se,Ae+We);return ut<=Ve||gt<=Qe?null:[Ve,Qe,ut-Ve,gt-Qe]}function ln(pe,te){var w=Ge.fF(Ge.Ue(),[pe[0],pe[1],0],te),g=Ge.fF(Ge.Ue(),[pe[0]+pe[2],pe[1],0],te),M=Ge.fF(Ge.Ue(),[pe[0],pe[1]+pe[3],0],te),z=Ge.fF(Ge.Ue(),[pe[0]+pe[2],pe[1]+pe[3],0],te);return[Math.min(w[0],g[0],M[0],z[0]),Math.min(w[1],g[1],M[1],z[1]),Math.max(w[0],g[0],M[0],z[0])-Math.min(w[0],g[0],M[0],z[0]),Math.max(w[1],g[1],M[1],z[1])-Math.min(w[1],g[1],M[1],z[1])]}var yn=function(pe){function te(){return(0,U.Z)(this,te),(0,H.Z)(this,te,arguments)}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"renderDownSampled",value:function(g,M,z,se){var fe=se.src,Ce=se.imageCache;if(!Ce.downSampled){this.imagePool.createDownSampledImage(fe,z).then(function(){z.ownerDocument&&(z.renderable.dirty=!0,z.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(Ae){console.error(Ae)});return}g.drawImage(Ce.downSampled,Math.floor(se.drawRect[0]),Math.floor(se.drawRect[1]),Math.ceil(se.drawRect[2]),Math.ceil(se.drawRect[3]))}},{key:"renderTile",value:function(g,M,z,se){var fe=se.src,Ce=se.imageCache,Ae=se.imageRect,Ke=se.drawRect,We=Ce.size,Ve=g.getTransform(),Qe=Ve.a,ut=Ve.b,gt=Ve.c,Et=Ve.d,mt=Ve.e,K=Ve.f;if(g.resetTransform(),!(Ce!=null&&Ce.gridSize)){this.imagePool.createImageTiles(fe,[],function(){z.ownerDocument&&(z.renderable.dirty=!0,z.ownerDocument.defaultView.context.renderingService.dirtify())},z).catch(function(hn){console.error(hn)});return}for(var W=[We[0]/Ae[2],We[1]/Ae[3]],O=[Ce.tileSize[0]/W[0],Ce.tileSize[1]/W[1]],re=[Math.floor((Ke[0]-Ae[0])/O[0]),Math.ceil((Ke[0]+Ke[2]-Ae[0])/O[0])],Ne=re[0],Be=re[1],Ie=[Math.floor((Ke[1]-Ae[1])/O[1]),Math.ceil((Ke[1]+Ke[3]-Ae[1])/O[1])],vt=Ie[0],wt=Ie[1],Gt=vt;Gt<=wt;Gt++)for(var Xt=Ne;Xt<=Be;Xt++){var Yt=Ce.tiles[Gt][Xt];if(Yt){var rn=[Math.floor(Ae[0]+Yt.tileX*O[0]),Math.floor(Ae[1]+Yt.tileY*O[1]),Math.ceil(O[0]),Math.ceil(O[1])];g.drawImage(Yt.data,rn[0],rn[1],rn[2],rn[3])}}g.setTransform(Qe,ut,gt,Et,mt,K)}},{key:"render",value:function(g,M,z){var se=M.x,fe=se===void 0?0:se,Ce=M.y,Ae=Ce===void 0?0:Ce,Ke=M.width,We=M.height,Ve=M.src,Qe=M.shadowColor,ut=M.shadowBlur,gt=this.imagePool.getImageSync(Ve,z),Et=gt==null?void 0:gt.img,mt=Ke,K=We;if(Et){mt||(mt=Et.width),K||(K=Et.height);var W=!(0,ne.Z)(Qe)&&ut>0;an(z,g,W);try{var O=z.ownerDocument.defaultView.getContextService().getDomElement(),re=O.width,Ne=O.height,Be=g.getTransform(),Ie=Be.a,vt=Be.b,wt=Be.c,Gt=Be.d,Xt=Be.e,Yt=Be.f,rn=je.fromValues(Ie,wt,0,0,vt,Gt,0,0,0,0,1,0,Xt,Yt,0,1),hn=ln([fe,Ae,mt,K],rn),_=mn([0,0,re,Ne],hn);if(!_)return;if(!z.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){te.renderFull(g,M,z,{image:Et,drawRect:[fe,Ae,mt,K]});return}var I=hn[2]/gt.size[0];if(I<(gt.downSamplingRate||.5)){this.renderDownSampled(g,M,z,{src:Ve,imageCache:gt,drawRect:[fe,Ae,mt,K]});return}if(!nt.isSupportTile){te.renderFull(g,M,z,{image:Et,drawRect:[fe,Ae,mt,K]});return}this.renderTile(g,M,z,{src:Ve,imageCache:gt,imageRect:hn,drawRect:_})}catch(Q){}}}},{key:"drawToContext",value:function(g,M,z,se,fe){this.render(g,M.parsedStyle,M)}}],[{key:"renderFull",value:function(g,M,z,se){g.drawImage(se.image,Math.floor(se.drawRect[0]),Math.floor(se.drawRect[1]),Math.ceil(se.drawRect[2]),Math.ceil(se.drawRect[3]))}}])}(tn),xn=function(pe){function te(){return(0,U.Z)(this,te),(0,H.Z)(this,te,arguments)}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"render",value:function(g,M,z,se,fe,Ce){z.getBounds();var Ae=M.lineWidth,Ke=Ae===void 0?1:Ae,We=M.textAlign,Ve=We===void 0?"start":We,Qe=M.textBaseline,ut=Qe===void 0?"alphabetic":Qe,gt=M.lineJoin,Et=gt===void 0?"miter":gt,mt=M.miterLimit,K=mt===void 0?10:mt,W=M.letterSpacing,O=W===void 0?0:W,re=M.stroke,Ne=M.fill,Be=M.fillRule,Ie=M.fillOpacity,vt=Ie===void 0?1:Ie,wt=M.strokeOpacity,Gt=wt===void 0?1:wt,Xt=M.opacity,Yt=Xt===void 0?1:Xt,rn=M.metrics,hn=M.x,_=hn===void 0?0:hn,I=M.y,Q=I===void 0?0:I,Te=M.dx,Re=M.dy,we=M.shadowColor,Fe=M.shadowBlur,$e=rn.font,Je=rn.lines,st=rn.height,yt=rn.lineHeight,xt=rn.lineMetrics;g.font=$e,g.lineWidth=Ke,g.textAlign=Ve==="middle"?"center":Ve;var Dt=ut;Dt==="alphabetic"&&(Dt="bottom"),g.lineJoin=Et,(0,ne.Z)(K)||(g.miterLimit=K);var Ct=Q;ut==="middle"?Ct+=-st/2-yt/2:ut==="bottom"||ut==="alphabetic"||ut==="ideographic"?Ct+=-st:(ut==="top"||ut==="hanging")&&(Ct+=-yt);var zt=_+(Te||0);Ct+=Re||0,Je.length===1&&(Dt==="bottom"?(Dt="middle",Ct-=.5*st):Dt==="top"&&(Dt="middle",Ct+=.5*st)),g.textBaseline=Dt;var qt=!(0,ne.Z)(we)&&Fe>0;an(z,g,qt);for(var Kt=0;Kt<Je.length;Kt++){var nn=Ke/2+zt;Ct+=yt,!(0,ne.Z)(re)&&!re.isNone&&Ke&&this.drawLetterSpacing(g,z,Je[Kt],xt[Kt],Ve,nn,Ct,O,Ne,Be,vt,re,Gt,Yt,!0,se,fe,Ce),(0,ne.Z)(Ne)||this.drawLetterSpacing(g,z,Je[Kt],xt[Kt],Ve,nn,Ct,O,Ne,Be,vt,re,Gt,Yt,!1,se,fe,Ce)}}},{key:"drawLetterSpacing",value:function(g,M,z,se,fe,Ce,Ae,Ke,We,Ve,Qe,ut,gt,Et,mt,K,W,O){if(Ke===0){mt?this.strokeText(g,M,z,Ce,Ae,ut,gt,K,W,O):this.fillText(g,M,z,Ce,Ae,We,Ve,Qe,Et,K,W,O);return}var re=g.textAlign;g.textAlign="left";var Ne=Ce;fe==="center"||fe==="middle"?Ne=Ce-se.width/2:(fe==="right"||fe==="end")&&(Ne=Ce-se.width);for(var Be=Array.from(z),Ie=g.measureText(z).width,vt=0,wt=0;wt<Be.length;++wt){var Gt=Be[wt];mt?this.strokeText(g,M,Gt,Ne,Ae,ut,gt,K,W,O):this.fillText(g,M,Gt,Ne,Ae,We,Ve,Qe,Et,K,W,O),vt=g.measureText(z.substring(wt+1)).width,Ne+=Ie-vt+Ke,Ie=vt}g.textAlign=re}},{key:"fillText",value:function(g,M,z,se,fe,Ce,Ae,Ke,We,Ve,Qe,ut){Ht(g,M,Ce,Ae,Ve,Qe,ut,this.imagePool,!0);var gt,Et=!(0,ne.Z)(Ke)&&Ke!==1;Et&&(gt=g.globalAlpha,g.globalAlpha=Ke*We),g.fillText(z,se,fe),Et&&(g.globalAlpha=gt)}},{key:"strokeText",value:function(g,M,z,se,fe,Ce,Ae,Ke,We,Ve){pn(g,M,Ce,Ke,We,Ve,this.imagePool,!0);var Qe,ut=!(0,ne.Z)(Ae)&&Ae!==1;ut&&(Qe=g.globalAlpha,g.globalAlpha=Ae),g.strokeText(z,se,fe),ut&&(g.globalAlpha=Qe)}},{key:"drawToContext",value:function(g,M,z,se,fe){this.render(g,M.parsedStyle,M,M.ownerDocument.defaultView.context,se,fe)}}])}(tn),En=function(pe){function te(){var w,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,U.Z)(this,te),w=(0,H.Z)(this,te),w.name="canvas-renderer",w.options=g,w}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"init",value:function(){var g,M=(0,ve.Z)({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),z=this.context.imagePool,se=new tn(z),fe=(g={},(0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)(g,C.bn.CIRCLE,se),C.bn.ELLIPSE,se),C.bn.RECT,se),C.bn.IMAGE,new yn(z)),C.bn.TEXT,new xn(z)),C.bn.LINE,se),C.bn.POLYLINE,se),C.bn.POLYGON,se),C.bn.PATH,se),C.bn.GROUP,void 0),(0,ee.Z)((0,ee.Z)((0,ee.Z)(g,C.bn.HTML,void 0),C.bn.MESH,void 0),C.bn.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=fe,this.context.styleRendererFactory=fe,this.addRenderingPlugin(new le(M))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(C.F6);var bn=function(){function pe(){(0,U.Z)(this,pe)}return(0,u.Z)(pe,[{key:"apply",value:function(w,g){var M=this,z=w.renderingService,se=w.renderingContext,fe=w.config;this.context=w;var Ce=se.root.ownerDocument.defaultView,Ae=function(Ie){z.hooks.pointerMove.call(Ie)},Ke=function(Ie){z.hooks.pointerUp.call(Ie)},We=function(Ie){z.hooks.pointerDown.call(Ie)},Ve=function(Ie){z.hooks.pointerOver.call(Ie)},Qe=function(Ie){z.hooks.pointerOut.call(Ie)},ut=function(Ie){z.hooks.pointerCancel.call(Ie)},gt=function(Ie){z.hooks.pointerWheel.call(Ie)},Et=function(Ie){z.hooks.click.call(Ie)},mt=function(Ie){g.globalThis.document.addEventListener("pointermove",Ae,!0),Ie.addEventListener("pointerdown",We,!0),Ie.addEventListener("pointerleave",Qe,!0),Ie.addEventListener("pointerover",Ve,!0),g.globalThis.addEventListener("pointerup",Ke,!0),g.globalThis.addEventListener("pointercancel",ut,!0)},K=function(Ie){Ie.addEventListener("touchstart",We,!0),Ie.addEventListener("touchend",Ke,!0),Ie.addEventListener("touchmove",Ae,!0),Ie.addEventListener("touchcancel",ut,!0)},W=function(Ie){g.globalThis.document.addEventListener("mousemove",Ae,!0),Ie.addEventListener("mousedown",We,!0),Ie.addEventListener("mouseout",Qe,!0),Ie.addEventListener("mouseover",Ve,!0),g.globalThis.addEventListener("mouseup",Ke,!0)},O=function(Ie){g.globalThis.document.removeEventListener("pointermove",Ae,!0),Ie.removeEventListener("pointerdown",We,!0),Ie.removeEventListener("pointerleave",Qe,!0),Ie.removeEventListener("pointerover",Ve,!0),g.globalThis.removeEventListener("pointerup",Ke,!0),g.globalThis.removeEventListener("pointercancel",ut,!0)},re=function(Ie){Ie.removeEventListener("touchstart",We,!0),Ie.removeEventListener("touchend",Ke,!0),Ie.removeEventListener("touchmove",Ae,!0),Ie.removeEventListener("touchcancel",ut,!0)},Ne=function(Ie){g.globalThis.document.removeEventListener("mousemove",Ae,!0),Ie.removeEventListener("mousedown",We,!0),Ie.removeEventListener("mouseout",Qe,!0),Ie.removeEventListener("mouseover",Ve,!0),g.globalThis.removeEventListener("mouseup",Ke,!0)};z.hooks.init.tap(pe.tag,function(){var Be=M.context.contextService.getDomElement();g.globalThis.navigator.msPointerEnabled?(Be.style.msContentZooming="none",Be.style.msTouchAction="none"):Ce.supportsPointerEvents&&(Be.style.touchAction="none"),Ce.supportsPointerEvents?mt(Be):W(Be),Ce.supportsTouchEvents&&K(Be),fe.useNativeClickEvent&&Be.addEventListener("click",Et,!0),Be.addEventListener("wheel",gt,{passive:!0,capture:!0})}),z.hooks.destroy.tap(pe.tag,function(){var Be=M.context.contextService.getDomElement();g.globalThis.navigator.msPointerEnabled?(Be.style.msContentZooming="",Be.style.msTouchAction=""):Ce.supportsPointerEvents&&(Be.style.touchAction=""),Ce.supportsPointerEvents?O(Be):Ne(Be),Ce.supportsTouchEvents&&re(Be),fe.useNativeClickEvent&&Be.removeEventListener("click",Et,!0),Be.removeEventListener("wheel",gt,!0)})}}])}();bn.tag="DOMInteraction";var wn=function(pe){function te(){var w;(0,U.Z)(this,te);for(var g=arguments.length,M=new Array(g),z=0;z<g;z++)M[z]=arguments[z];return w=(0,H.Z)(this,te,[].concat(M)),w.name="dom-interaction",w}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"init",value:function(){this.addRenderingPlugin(new bn)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(C.F6),Bn=y(22355);var lr="g-canvas-camera",Jn=function(){function pe(){(0,U.Z)(this,pe),this.displayObjectHTMLElementMap=new WeakMap}return(0,u.Z)(pe,[{key:"joinTransformMatrix",value:function(w){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([w[0],w[1],w[4],w[5],w[12]+g[0],w[13]+g[1]].join(","),")")}},{key:"apply",value:function(w,g){var M=this,z=w.camera,se=w.renderingContext,fe=w.renderingService;this.context=w;var Ce=se.root.ownerDocument.defaultView,Ae=Ce.context.eventService.nativeHTMLMap,Ke=function(mt,K){K.style.transform=M.joinTransformMatrix(mt.getWorldTransform(),mt.getOrigin())},We=function(mt){var K=mt.target;if(K.nodeName===C.bn.HTML){M.$camera||(M.$camera=M.createCamera(z));var W=M.getOrCreateEl(K);M.$camera.appendChild(W),Object.keys(K.attributes).forEach(function(O){M.updateAttribute(O,K)}),Ke(K,W),Ae.set(W,K)}},Ve=function(mt){var K=mt.target;if(K.nodeName===C.bn.HTML&&M.$camera){var W=M.getOrCreateEl(K);W&&(W.remove(),Ae.delete(W))}},Qe=function(mt){var K=mt.target;if(K.nodeName===C.bn.HTML){var W=mt.attrName;M.updateAttribute(W,K)}},ut=function(mt){var K=mt.target,W=K.nodeName===C.bn.FRAGMENT?K.childNodes:[K];W.forEach(function(O){if(O.nodeName===C.bn.HTML){var re=M.getOrCreateEl(O);Ke(O,re)}})},gt=function(){if(M.$camera){var mt=M.context.config,K=mt.width,W=mt.height;M.$camera.parentElement.style.width="".concat(K||0,"px"),M.$camera.parentElement.style.height="".concat(W||0,"px")}};fe.hooks.init.tap(pe.tag,function(){Ce.addEventListener(C.$6.RESIZE,gt),Ce.addEventListener(C.Dk.MOUNTED,We),Ce.addEventListener(C.Dk.UNMOUNTED,Ve),Ce.addEventListener(C.Dk.ATTR_MODIFIED,Qe),Ce.addEventListener(C.Dk.BOUNDS_CHANGED,ut)}),fe.hooks.endFrame.tap(pe.tag,function(){M.$camera&&se.renderReasons.has(C.Rr.CAMERA_CHANGED)&&(M.$camera.style.transform=M.joinTransformMatrix(z.getOrthoMatrix()))}),fe.hooks.destroy.tap(pe.tag,function(){M.$camera&&M.$camera.remove(),Ce.removeEventListener(C.$6.RESIZE,gt),Ce.removeEventListener(C.Dk.MOUNTED,We),Ce.removeEventListener(C.Dk.UNMOUNTED,Ve),Ce.removeEventListener(C.Dk.ATTR_MODIFIED,Qe),Ce.removeEventListener(C.Dk.BOUNDS_CHANGED,ut)})}},{key:"createCamera",value:function(w){var g=this.context.config,M=g.document,z=g.width,se=g.height,fe=this.context.contextService.getDomElement(),Ce=fe.parentNode;if(Ce){var Ae=lr,Ke=Ce.querySelector("#".concat(Ae));if(!Ke){var We=(M||document).createElement("div");We.style.overflow="hidden",We.style.pointerEvents="none",We.style.position="absolute",We.style.left="0px",We.style.top="0px",We.style.width="".concat(z||0,"px"),We.style.height="".concat(se||0,"px");var Ve=(M||document).createElement("div");Ke=Ve,Ve.id=Ae,Ve.style.position="absolute",Ve.style.left="".concat(fe.offsetLeft||0,"px"),Ve.style.top="".concat(fe.offsetTop||0,"px"),Ve.style.transformOrigin="left top",Ve.style.transform=this.joinTransformMatrix(w.getOrthoMatrix()),Ve.style.pointerEvents="none",Ve.style.width="100%",Ve.style.height="100%",We.appendChild(Ve),Ce.appendChild(We)}return Ke}return null}},{key:"getOrCreateEl",value:function(w){var g=this.context.config.document,M=this.displayObjectHTMLElementMap.get(w);return M||(M=(g||document).createElement("div"),w.parsedStyle.$el=M,this.displayObjectHTMLElementMap.set(w,M),w.id&&(M.id=w.id),w.name&&M.setAttribute("name",w.name),w.className&&(M.className=w.className),M.style.position="absolute",M.style["will-change"]="transform",M.style.transform=this.joinTransformMatrix(w.getWorldTransform(),w.getOrigin())),M}},{key:"updateAttribute",value:function(w,g){var M=this.getOrCreateEl(g);switch(w){case"innerHTML":var z=g.parsedStyle.innerHTML;(0,ye.Z)(z)?M.innerHTML=z:(M.innerHTML="",M.appendChild(z));break;case"x":M.style.left="".concat(g.parsedStyle.x,"px");break;case"y":M.style.top="".concat(g.parsedStyle.y,"px");break;case"transformOrigin":var se=g.parsedStyle.transformOrigin;M.style["transform-origin"]="".concat(se[0].buildCSSText(null,null,"")," ").concat(se[1].buildCSSText(null,null,""));break;case"width":var fe=g.parsedStyle.width;M.style.width=(0,Bn.Z)(fe)?"".concat(fe,"px"):fe.toString();break;case"height":var Ce=g.parsedStyle.height;M.style.height=(0,Bn.Z)(Ce)?"".concat(Ce,"px"):Ce.toString();break;case"zIndex":var Ae=g.parsedStyle.zIndex;M.style["z-index"]="".concat(Ae);break;case"visibility":var Ke=g.parsedStyle.visibility;M.style.visibility=Ke;break;case"pointerEvents":var We=g.parsedStyle.pointerEvents,Ve=We===void 0?"auto":We;M.style.pointerEvents=Ve;break;case"opacity":var Qe=g.parsedStyle.opacity;M.style.opacity="".concat(Qe);break;case"fill":var ut=g.parsedStyle.fill,gt="";(0,C.qA)(ut)?ut.isNone?gt="transparent":gt=g.getAttribute("fill"):Array.isArray(ut)?gt=g.getAttribute("fill"):(0,C.R)(ut),M.style.background=gt;break;case"stroke":var Et=g.parsedStyle.stroke,mt="";(0,C.qA)(Et)?Et.isNone?mt="transparent":mt=g.getAttribute("stroke"):Array.isArray(Et)?mt=g.getAttribute("stroke"):(0,C.R)(Et),M.style["border-color"]=mt,M.style["border-style"]="solid";break;case"lineWidth":var K=g.parsedStyle.lineWidth;M.style["border-width"]="".concat(K||0,"px");break;case"lineDash":M.style["border-style"]="dashed";break;case"filter":var W=g.style.filter;M.style.filter=W;break;default:!(0,ne.Z)(g.style[w])&&g.style[w]!==""&&(M.style[w]=g.style[w])}}}])}();Jn.tag="HTMLRendering";var cr=function(pe){function te(){var w;(0,U.Z)(this,te);for(var g=arguments.length,M=new Array(g),z=0;z<g;z++)M[z]=arguments[z];return w=(0,H.Z)(this,te,[].concat(M)),w.name="html-renderer",w}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"init",value:function(){this.addRenderingPlugin(new Jn)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(C.F6);var Vt=function(){function pe(te){(0,U.Z)(this,pe),this.renderingContext=te.renderingContext,this.canvasConfig=te.config}return(0,u.Z)(pe,[{key:"init",value:function(){var w=this.canvasConfig,g=w.container,M=w.canvas;if(M)this.$canvas=M,g&&M.parentElement!==g&&g.appendChild(M),this.$container=M.parentElement,this.canvasConfig.container=this.$container;else if(g&&(this.$container=(0,ye.Z)(g)?document.getElementById(g):g,this.$container)){var z=document.createElement("canvas");this.$container.appendChild(z),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=z}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(w,g){var M=this.canvasConfig.devicePixelRatio;this.dpr=M,this.$canvas&&(this.$canvas.width=this.dpr*w,this.$canvas.height=this.dpr*g,(0,C.$p)(this.$canvas,w,g)),this.renderingContext.renderReasons.add(C.Rr.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(w){this.$container&&this.$container.style&&(this.$container.style.cursor=w)}},{key:"toDataURL",value:function(){var te=(0,Le.Z)((0,xe.Z)().mark(function g(){var M,z,se,fe=arguments;return(0,xe.Z)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return M=fe.length>0&&fe[0]!==void 0?fe[0]:{},z=M.type,se=M.encoderOptions,Ae.abrupt("return",this.context.canvas.toDataURL(z,se));case 3:case"end":return Ae.stop()}},g,this)}));function w(){return te.apply(this,arguments)}return w}()}])}(),rr=function(pe){function te(){var w;(0,U.Z)(this,te);for(var g=arguments.length,M=new Array(g),z=0;z<g;z++)M[z]=arguments[z];return w=(0,H.Z)(this,te,[].concat(M)),w.name="canvas-context-register",w}return(0,q.Z)(te,pe),(0,u.Z)(te,[{key:"init",value:function(){this.context.ContextService=Vt}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(C.F6),dr=function(pe){function te(w){var g;return(0,U.Z)(this,te),g=(0,H.Z)(this,te,[w]),g.registerPlugin(new rr),g.registerPlugin(new be),g.registerPlugin(new V),g.registerPlugin(new En),g.registerPlugin(new wn),g.registerPlugin(new $),g.registerPlugin(new cr),g}return(0,q.Z)(te,pe),(0,u.Z)(te)}(C.I8)},71561:function(Ft,qe,y){"use strict";y.d(qe,{mN:function(){return fe},I8:function(){return pe},F6:function(){return dr},ux:function(){return gl},V1:function(){return Kt},iM:function(){return xt},Xz:function(){return Ml},$6:function(){return ur},Cd:function(){return Di},b_:function(){return Xa},Aw:function(){return zn},s$:function(){return Cn},BB:function(){return ja},jf:function(){return Qe},Dk:function(){return Fn},Pj:function(){return Zi},xA:function(){return Jr},nR:function(){return Qr},GL:function(){return Ar},ZA:function(){return Dr},k9:function(){return Bi},Ee:function(){return Fi},x1:function(){return Gi},NB:function(){return Sn},jB:function(){return Wa},y$:function(){return zi},E9:function(){return We},mg:function(){return Zr},aH:function(){return Wi},h0:function(){return Tt},UL:function(){return Ui},Rr:function(){return Nr},bn:function(){return Vt},xv:function(){return ni},Cm:function(){return Wt},Rx:function(){return Ns},o6:function(){return _s},YR:function(){return co},O4:function(){return K},Vl:function(){return O},Oi:function(){return Ra},_O:function(){return Et},gz:function(){return xi},qA:function(){return di},RV:function(){return kn},L1:function(){return qo},R:function(){return sa},lu:function(){return Tr},G$:function(){return ka},G0:function(){return Ba},N1:function(){return Pa},BV:function(){return Ne},GZ:function(){return It},$p:function(){return Ko}});var u=y(55443),U=y(59129),H=y(76920),q=y(35979),C=y(87670),ee=y(74063),X=y(52521),de=y(73983),m=y(54442),Z=y(49953),S=y(39536),ge=y(73485),k=y(26588),A=y(38015),N=y(22355),V=y(73218),j=y(54663),xe=y(43706),Le=y(63777),Ge=y(15767),je={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function ke(n){return Array.isArray(n)&&n.every(function(r){var e=r[0].toLowerCase();return je[e]===r.length-1&&"achlmqstvz".includes(e)})}function Ee(n){return ke(n)&&n.every(function(r){var e=r[0];return e===e.toUpperCase()})}function ve(n){return Ee(n)&&n.every(function(r){var e=r[0];return"ACLMQZ".includes(e)})}var Mt={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function St(n){for(var r=n.pathValue[n.segmentStart],e=r.toLowerCase(),t=n.data;t.length>=je[e]&&(e==="m"&&t.length>2?(n.segments.push([r].concat(t.splice(0,2))),e="l",r=r==="m"?"l":"L"):n.segments.push([r].concat(t.splice(0,je[e]))),!!je[e]););}function Pt(n){var r=n.index,e=n.pathValue,t=e.charCodeAt(r);if(t===48){n.param=0,n.index+=1;return}if(t===49){n.param=1,n.index+=1;return}n.err='[path-util]: invalid Arc flag "'.concat(e[r],'", expecting 0 or 1 at index ').concat(r)}function _t(n){return n>=48&&n<=57||n===43||n===45||n===46}function Zt(n){return n>=48&&n<=57}function Ot(n){var r=n.max,e=n.pathValue,t=n.index,i=t,o=!1,s=!1,l=!1,h=!1,d;if(i>=r){n.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');return}if(d=e.charCodeAt(i),(d===43||d===45)&&(i+=1,d=e.charCodeAt(i)),!Zt(d)&&d!==46){n.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(e[i],'" is not a number');return}if(d!==46){if(o=d===48,i+=1,d=e.charCodeAt(i),o&&i<r&&d&&Zt(d)){n.err="[path-util]: Invalid path value at index ".concat(t,', "').concat(e[t],'" illegal number');return}for(;i<r&&Zt(e.charCodeAt(i));)i+=1,s=!0;d=e.charCodeAt(i)}if(d===46){for(h=!0,i+=1;Zt(e.charCodeAt(i));)i+=1,l=!0;d=e.charCodeAt(i)}if(d===101||d===69){if(h&&!s&&!l){n.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(e[i],'" invalid float exponent');return}if(i+=1,d=e.charCodeAt(i),(d===43||d===45)&&(i+=1),i<r&&Zt(e.charCodeAt(i)))for(;i<r&&Zt(e.charCodeAt(i));)i+=1;else{n.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(e[i],'" invalid integer exponent');return}}n.index=i,n.param=+n.pathValue.slice(t,i)}function Jt(n){var r=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return n===10||n===13||n===8232||n===8233||n===32||n===9||n===11||n===12||n===160||n>=5760&&r.includes(n)}function $t(n){for(var r=n.pathValue,e=n.max;n.index<e&&Jt(r.charCodeAt(n.index));)n.index+=1}function Qt(n){switch(n|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function F(n){return(n|32)===97}function ae(n){var r=n.max,e=n.pathValue,t=n.index,i=e.charCodeAt(t),o=je[e[t].toLowerCase()];if(n.segmentStart=t,!Qt(i)){n.err='[path-util]: Invalid path value "'.concat(e[t],'" is not a path command');return}if(n.index+=1,$t(n),n.data=[],!o){St(n);return}for(;;){for(var s=o;s>0;s-=1){if(F(i)&&(s===3||s===4)?Pt(n):Ot(n),n.err.length)return;n.data.push(n.param),$t(n),n.index<r&&e.charCodeAt(n.index)===44&&(n.index+=1,$t(n))}if(n.index>=n.max||!_t(e.charCodeAt(n.index)))break}St(n)}var lt=function(){function n(r){this.pathValue=r,this.segments=[],this.max=r.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return n}();function Rt(n){if(ke(n))return[].concat(n);var r=new lt(n);for($t(r);r.index<r.max&&!r.err.length;)ae(r);return r.err?r.err:r.segments}function me(n){if(Ee(n))return[].concat(n);var r=Rt(n),e=0,t=0,i=0,o=0;return r.map(function(s){var l=s.slice(1).map(Number),h=s[0],d=h.toUpperCase();if(h==="M")return e=l[0],t=l[1],i=e,o=t,["M",e,t];var D;if(h!==d)switch(d){case"A":D=[d,l[0],l[1],l[2],l[3],l[4],l[5]+e,l[6]+t];break;case"V":D=[d,l[0]+t];break;case"H":D=[d,l[0]+e];break;default:{var Y=l.map(function(Pe,Se){return Pe+(Se%2?t:e)});D=[d].concat(Y)}}else D=[d].concat(l);var he=D.length;switch(d){case"Z":e=i,t=o;break;case"H":e=D[1];break;case"V":t=D[1];break;default:e=D[he-2],t=D[he-1],d==="M"&&(i=e,o=t)}return D})}function ue(n,r){var e=n[0],t=r.x1,i=r.y1,o=r.x2,s=r.y2,l=n.slice(1).map(Number),h=n;if("TQ".includes(e)||(r.qx=null,r.qy=null),e==="H")h=["L",n[1],i];else if(e==="V")h=["L",t,n[1]];else if(e==="S"){var d=t*2-o,D=i*2-s;r.x1=d,r.y1=D,h=["C",d,D].concat(l)}else if(e==="T"){var Y=t*2-r.qx,he=i*2-r.qy;r.qx=Y,r.qy=he,h=["Q",Y,he].concat(l)}else if(e==="Q"){var Pe=l[0],Se=l[1];r.qx=Pe,r.qy=Se}return h}function G(n){if(ve(n))return[].concat(n);for(var r=me(n),e=(0,Ge.pi)({},Mt),t=0;t<r.length;t+=1){r[t]=ue(r[t],e);var i=r[t],o=i.length;e.x1=+i[o-2],e.y1=+i[o-1],e.x2=+i[o-4]||e.x1,e.y2=+i[o-3]||e.y1}return r}function R(n,r,e){var t=n[0],i=n[1],o=r[0],s=r[1];return[t+(o-t)*e,i+(s-i)*e]}function oe(n,r,e,t,i){var o=(0,V.y)([n,r],[e,t]),s={x:0,y:0};if(typeof i=="number")if(i<=0)s={x:n,y:r};else if(i>=o)s={x:e,y:t};else{var l=R([n,r],[e,t],i/o),h=l[0],d=l[1];s={x:h,y:d}}return{length:o,point:s,min:{x:Math.min(n,e),y:Math.min(r,t)},max:{x:Math.max(n,e),y:Math.max(r,t)}}}function x(n,r){var e=n.x,t=n.y,i=r.x,o=r.y,s=e*i+t*o,l=Math.sqrt((Math.pow(e,2)+Math.pow(t,2))*(Math.pow(i,2)+Math.pow(o,2))),h=e*o-t*i<0?-1:1,d=h*Math.acos(s/l);return d}function v(n,r,e,t,i,o,s,l,h,d){var D=Math.abs,Y=Math.sin,he=Math.cos,Pe=Math.sqrt,Se=Math.PI,He=D(e),ze=D(t),rt=(i%360+360)%360,tt=rt*(Se/180);if(n===l&&r===h)return{x:n,y:r};if(He===0||ze===0)return oe(n,r,l,h,d).point;var ot=(n-l)/2,At=(r-h)/2,Ye={x:he(tt)*ot+Y(tt)*At,y:-Y(tt)*ot+he(tt)*At},Oe=Math.pow(Ye.x,2)/Math.pow(He,2)+Math.pow(Ye.y,2)/Math.pow(ze,2);Oe>1&&(He*=Pe(Oe),ze*=Pe(Oe));var Ue=Math.pow(He,2)*Math.pow(ze,2)-Math.pow(He,2)*Math.pow(Ye.y,2)-Math.pow(ze,2)*Math.pow(Ye.x,2),at=Math.pow(He,2)*Math.pow(Ye.y,2)+Math.pow(ze,2)*Math.pow(Ye.x,2),bt=Ue/at;bt=bt<0?0:bt;var pt=(o!==s?1:-1)*Pe(bt),kt={x:pt*(He*Ye.y/ze),y:pt*(-(ze*Ye.x)/He)},Lt={x:he(tt)*kt.x-Y(tt)*kt.y+(n+l)/2,y:Y(tt)*kt.x+he(tt)*kt.y+(r+h)/2},jt={x:(Ye.x-kt.x)/He,y:(Ye.y-kt.y)/ze},on=x({x:1,y:0},jt),cn={x:(-Ye.x-kt.x)/He,y:(-Ye.y-kt.y)/ze},vn=x(jt,cn);!s&&vn>0?vn-=2*Se:s&&vn<0&&(vn+=2*Se),vn%=2*Se;var Ut=on+vn*d,un=He*he(Ut),fn=ze*Y(Ut),In={x:he(tt)*un-Y(tt)*fn+Lt.x,y:Y(tt)*un+he(tt)*fn+Lt.y};return In}function b(n,r,e,t,i,o,s,l,h,d,D){var Y,he=D.bbox,Pe=he===void 0?!0:he,Se=D.length,He=Se===void 0?!0:Se,ze=D.sampleSize,rt=ze===void 0?30:ze,tt=typeof d=="number",ot=n,At=r,Ye=0,Oe=[ot,At,Ye],Ue=[ot,At],at=0,bt={x:0,y:0},pt=[{x:ot,y:At}];tt&&d<=0&&(bt={x:ot,y:At});for(var kt=0;kt<=rt;kt+=1){if(at=kt/rt,Y=v(n,r,e,t,i,o,s,l,h,at),ot=Y.x,At=Y.y,Pe&&pt.push({x:ot,y:At}),He&&(Ye+=(0,V.y)(Ue,[ot,At])),Ue=[ot,At],tt&&Ye>=d&&d>Oe[2]){var Lt=(Ye-d)/(Ye-Oe[2]);bt={x:Ue[0]*(1-Lt)+Oe[0]*Lt,y:Ue[1]*(1-Lt)+Oe[1]*Lt}}Oe=[ot,At,Ye]}return tt&&d>=Ye&&(bt={x:l,y:h}),{length:Ye,point:bt,min:{x:Math.min.apply(null,pt.map(function(jt){return jt.x})),y:Math.min.apply(null,pt.map(function(jt){return jt.y}))},max:{x:Math.max.apply(null,pt.map(function(jt){return jt.x})),y:Math.max.apply(null,pt.map(function(jt){return jt.y}))}}}function T(n,r,e,t,i,o,s,l,h){var d=1-h;return{x:Math.pow(d,3)*n+3*Math.pow(d,2)*h*e+3*d*Math.pow(h,2)*i+Math.pow(h,3)*s,y:Math.pow(d,3)*r+3*Math.pow(d,2)*h*t+3*d*Math.pow(h,2)*o+Math.pow(h,3)*l}}function f(n,r,e,t,i,o,s,l,h,d){var D,Y=d.bbox,he=Y===void 0?!0:Y,Pe=d.length,Se=Pe===void 0?!0:Pe,He=d.sampleSize,ze=He===void 0?10:He,rt=typeof h=="number",tt=n,ot=r,At=0,Ye=[tt,ot,At],Oe=[tt,ot],Ue=0,at={x:0,y:0},bt=[{x:tt,y:ot}];rt&&h<=0&&(at={x:tt,y:ot});for(var pt=0;pt<=ze;pt+=1){if(Ue=pt/ze,D=T(n,r,e,t,i,o,s,l,Ue),tt=D.x,ot=D.y,he&&bt.push({x:tt,y:ot}),Se&&(At+=(0,V.y)(Oe,[tt,ot])),Oe=[tt,ot],rt&&At>=h&&h>Ye[2]){var kt=(At-h)/(At-Ye[2]);at={x:Oe[0]*(1-kt)+Ye[0]*kt,y:Oe[1]*(1-kt)+Ye[1]*kt}}Ye=[tt,ot,At]}return rt&&h>=At&&(at={x:s,y:l}),{length:At,point:at,min:{x:Math.min.apply(null,bt.map(function(Lt){return Lt.x})),y:Math.min.apply(null,bt.map(function(Lt){return Lt.y}))},max:{x:Math.max.apply(null,bt.map(function(Lt){return Lt.x})),y:Math.max.apply(null,bt.map(function(Lt){return Lt.y}))}}}function E(n,r,e,t,i,o,s){var l=1-s;return{x:Math.pow(l,2)*n+2*l*s*e+Math.pow(s,2)*i,y:Math.pow(l,2)*r+2*l*s*t+Math.pow(s,2)*o}}function B(n,r,e,t,i,o,s,l){var h,d=l.bbox,D=d===void 0?!0:d,Y=l.length,he=Y===void 0?!0:Y,Pe=l.sampleSize,Se=Pe===void 0?10:Pe,He=typeof s=="number",ze=n,rt=r,tt=0,ot=[ze,rt,tt],At=[ze,rt],Ye=0,Oe={x:0,y:0},Ue=[{x:ze,y:rt}];He&&s<=0&&(Oe={x:ze,y:rt});for(var at=0;at<=Se;at+=1){if(Ye=at/Se,h=E(n,r,e,t,i,o,Ye),ze=h.x,rt=h.y,D&&Ue.push({x:ze,y:rt}),he&&(tt+=(0,V.y)(At,[ze,rt])),At=[ze,rt],He&&tt>=s&&s>ot[2]){var bt=(tt-s)/(tt-ot[2]);Oe={x:At[0]*(1-bt)+ot[0]*bt,y:At[1]*(1-bt)+ot[1]*bt}}ot=[ze,rt,tt]}return He&&s>=tt&&(Oe={x:i,y:o}),{length:tt,point:Oe,min:{x:Math.min.apply(null,Ue.map(function(pt){return pt.x})),y:Math.min.apply(null,Ue.map(function(pt){return pt.y}))},max:{x:Math.max.apply(null,Ue.map(function(pt){return pt.x})),y:Math.max.apply(null,Ue.map(function(pt){return pt.y}))}}}function p(n,r,e){for(var t,i,o,s,l,h,d=G(n),D=typeof r=="number",Y,he=[],Pe,Se=0,He=0,ze=0,rt=0,tt,ot=[],At=[],Ye=0,Oe={x:0,y:0},Ue=Oe,at=Oe,bt=Oe,pt=0,kt=0,Lt=d.length;kt<Lt;kt+=1)tt=d[kt],Pe=tt[0],Y=Pe==="M",he=Y?he:[Se,He].concat(tt.slice(1)),Y?(ze=tt[1],rt=tt[2],Oe={x:ze,y:rt},Ue=Oe,Ye=0,D&&r<.001&&(bt=Oe)):Pe==="L"?(t=oe(he[0],he[1],he[2],he[3],(r||0)-pt),Ye=t.length,Oe=t.min,Ue=t.max,at=t.point):Pe==="A"?(i=b(he[0],he[1],he[2],he[3],he[4],he[5],he[6],he[7],he[8],(r||0)-pt,e||{}),Ye=i.length,Oe=i.min,Ue=i.max,at=i.point):Pe==="C"?(o=f(he[0],he[1],he[2],he[3],he[4],he[5],he[6],he[7],(r||0)-pt,e||{}),Ye=o.length,Oe=o.min,Ue=o.max,at=o.point):Pe==="Q"?(s=B(he[0],he[1],he[2],he[3],he[4],he[5],(r||0)-pt,e||{}),Ye=s.length,Oe=s.min,Ue=s.max,at=s.point):Pe==="Z"&&(he=[Se,He,ze,rt],l=oe(he[0],he[1],he[2],he[3],(r||0)-pt),Ye=l.length,Oe=l.min,Ue=l.max,at=l.point),D&&pt<r&&pt+Ye>=r&&(bt=at),At.push(Ue),ot.push(Oe),pt+=Ye,h=Pe!=="Z"?tt.slice(-2):[ze,rt],Se=h[0],He=h[1];return D&&r>=pt&&(bt={x:Se,y:He}),{length:pt,point:bt,min:{x:Math.min.apply(null,ot.map(function(jt){return jt.x})),y:Math.min.apply(null,ot.map(function(jt){return jt.y}))},max:{x:Math.max.apply(null,At.map(function(jt){return jt.x})),y:Math.max.apply(null,At.map(function(jt){return jt.y}))}}}function P(n,r){return p(n,void 0,(0,Ge.pi)((0,Ge.pi)({},r),{bbox:!1,length:!0})).length}var $=y(45481),a=y(16510),c=y(95177),L=function(n,r){return(n%r+r)%r},J=L;function ne(n,r,e){if(n[e].length>7){n[e].shift();for(var t=n[e],i=e;t.length;)r[e]="A",n.splice(i+=1,0,["C"].concat(t.splice(0,6)));n.splice(e,1)}}function ye(n){return ve(n)&&n.every(function(r){var e=r[0];return"MC".includes(e)})}var De=y(40044);function _e(n,r,e,t,i,o){var s=.3333333333333333,l=2/3;return[s*n+l*e,s*r+l*t,s*i+l*e,s*o+l*t,i,o]}var Xe=function(n,r,e,t){var i=.5,o=R([n,r],[e,t],i);return(0,Ge.ev)((0,Ge.ev)([],o,!0),[e,t,e,t],!1)};function et(n,r){var e=n[0],t=n.slice(1).map(Number),i=t[0],o=t[1],s,l=r.x1,h=r.y1,d=r.x,D=r.y;switch("TQ".includes(e)||(r.qx=null,r.qy=null),e){case"M":return r.x=i,r.y=o,n;case"A":return s=[l,h].concat(t),["C"].concat((0,De.W)(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]));case"Q":return r.qx=i,r.qy=o,s=[l,h].concat(t),["C"].concat(_e(s[0],s[1],s[2],s[3],s[4],s[5]));case"L":return["C"].concat(Xe(l,h,i,o));case"Z":return l===d&&h===D?["C",l,h,d,D,d,D]:["C"].concat(Xe(l,h,d,D));default:}return n}function it(n,r){if(r===void 0&&(r=!1),ye(n)){var e=[].concat(n);return r?[e,[]]:e}for(var t=G(n),i=(0,Ge.pi)({},Mt),o=[],s="",l=t.length,h,d,D=[],Y=0;Y<l;Y+=1){t[Y]&&(s=t[Y][0]),o[Y]=s;var he=et(t[Y],i);t[Y]=he,ne(t,o,Y),l=t.length,s==="Z"&&D.push(Y),h=t[Y],d=h.length,i.x1=+h[d-2],i.y1=+h[d-1],i.x2=+h[d-4]||i.x1,i.y2=+h[d-3]||i.y1}return r?[t,D]:t}function nt(n,r){r===void 0&&(r=.5);var e=n.slice(0,2),t=n.slice(2,4),i=n.slice(4,6),o=n.slice(6,8),s=R(e,t,r),l=R(t,i,r),h=R(i,o,r),d=R(s,l,r),D=R(l,h,r),Y=R(d,D,r);return[["C"].concat(s,d,Y),["C"].concat(D,h,o)]}function ie(n){return n.map(function(r,e,t){var i=e&&t[e-1].slice(-2).concat(r.slice(1)),o=e?f(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,s;return e?s=o?nt(i):[r,r]:s=[r],{s:r,ss:s,l:o}})}function ce(n,r,e){var t=ie(n),i=ie(r),o=t.length,s=i.length,l=t.filter(function(ze){return ze.l}).length,h=i.filter(function(ze){return ze.l}).length,d=t.filter(function(ze){return ze.l}).reduce(function(ze,rt){var tt=rt.l;return ze+tt},0)/l||0,D=i.filter(function(ze){return ze.l}).reduce(function(ze,rt){var tt=rt.l;return ze+tt},0)/h||0,Y=e||Math.max(o,s),he=[d,D],Pe=[Y-o,Y-s],Se=0,He=[t,i].map(function(ze,rt){return ze.l===Y?ze.map(function(tt){return tt.s}):ze.map(function(tt,ot){return Se=ot&&Pe[rt]&&tt.l>=he[rt],Pe[rt]-=Se?1:0,Se?tt.ss:[tt.s]}).flat()});return He[0].length===He[1].length?He:ce(He[0],He[1],Y)}function be(n,r,e,t,i,o,s,l){return 3*((l-r)*(e+i)-(s-n)*(t+o)+t*(n-i)-e*(r-o)+l*(i+n/3)-s*(o+r/3))/20}function Me(n){var r=0,e=0,t=0;return it(n).map(function(i){var o;switch(i[0]){case"M":return r=i[1],e=i[2],0;default:var s=i.slice(1),l=s[0],h=s[1],d=s[2],D=s[3],Y=s[4],he=s[5];return t=be(r,e,l,h,d,D,Y,he),o=i.slice(-2),r=o[0],e=o[1],t}}).reduce(function(i,o){return i+o},0)}function le(n){return Me(n)>=0}function Ze(n){var r=n.slice(1).map(function(e,t,i){return t?i[t-1].slice(-2).concat(e.slice(1)):n[0].slice(1).concat(e.slice(1))}).map(function(e){return e.map(function(t,i){return e[e.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(r[0].slice(0,2))].concat(r.map(function(e){return["C"].concat(e.slice(2))}))}function ht(n){return n.map(function(r){return Array.isArray(r)?[].concat(r):r})}function ft(n){var r=n.length,e=r-1;return n.map(function(t,i){return n.map(function(o,s){var l=i+s,h;return s===0||n[l]&&n[l][0]==="M"?(h=n[l],["M"].concat(h.slice(-2))):(l>=r&&(l-=e),n[l])})})}function dt(n,r){var e=n.length-1,t=[],i=0,o=0,s=ft(n);return s.forEach(function(l,h){n.slice(1).forEach(function(d,D){o+=(0,V.y)(n[(h+D)%e].slice(-2),r[D%e].slice(-2))}),t[h]=o,o=0}),i=t.indexOf(Math.min.apply(null,t)),s[i]}var ct=y(49025),Nt=y(18814),Bt=y(29348),en=y(90079),tn=y(48758);function an(n,r,e){return p(n,r,(0,Ge.pi)((0,Ge.pi)({},e),{bbox:!1,length:!0})).point}var Ht=y(35576),pn=y(37083);function mn(n,r){for(;!{}.hasOwnProperty.call(n,r)&&(n=(0,pn.Z)(n))!==null;);return n}function ln(){return ln=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(n,r,e){var t=mn(n,r);if(t){var i=Object.getOwnPropertyDescriptor(t,r);return i.get?i.get.call(arguments.length<3?n:e):i.value}},ln.apply(null,arguments)}function yn(n,r,e,t){var i=ln((0,pn.Z)(1&t?n.prototype:n),r,e);return 2&t&&typeof i=="function"?function(o){return i.apply(e,o)}:i}var xn=y(17457),En=y(94162),bn=y(84964),wn=y(92175),Bn=y(38334);var lr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof y.g!="undefined"?y.g:typeof self!="undefined"?self:{},Jn={exports:{}};(function(n,r){(function(e,t){n.exports=t()})(lr,function(){function e(Ye,Oe,Ue,at,bt){t(Ye,Oe,Ue||0,at||Ye.length-1,bt||o)}function t(Ye,Oe,Ue,at,bt){for(;at>Ue;){if(at-Ue>600){var pt=at-Ue+1,kt=Oe-Ue+1,Lt=Math.log(pt),jt=.5*Math.exp(2*Lt/3),on=.5*Math.sqrt(Lt*jt*(pt-jt)/pt)*(kt-pt/2<0?-1:1),cn=Math.max(Ue,Math.floor(Oe-kt*jt/pt+on)),vn=Math.min(at,Math.floor(Oe+(pt-kt)*jt/pt+on));t(Ye,Oe,cn,vn,bt)}var Ut=Ye[Oe],un=Ue,fn=at;for(i(Ye,Ue,Oe),bt(Ye[at],Ut)>0&&i(Ye,Ue,at);un<fn;){for(i(Ye,un,fn),un++,fn--;bt(Ye[un],Ut)<0;)un++;for(;bt(Ye[fn],Ut)>0;)fn--}bt(Ye[Ue],Ut)===0?i(Ye,Ue,fn):(fn++,i(Ye,fn,at)),fn<=Oe&&(Ue=fn+1),Oe<=fn&&(at=fn-1)}}function i(Ye,Oe,Ue){var at=Ye[Oe];Ye[Oe]=Ye[Ue],Ye[Ue]=at}function o(Ye,Oe){return Ye<Oe?-1:Ye>Oe?1:0}var s=function(Oe){Oe===void 0&&(Oe=9),this._maxEntries=Math.max(4,Oe),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(Oe){var Ue=this.data,at=[];if(!tt(Oe,Ue))return at;for(var bt=this.toBBox,pt=[];Ue;){for(var kt=0;kt<Ue.children.length;kt++){var Lt=Ue.children[kt],jt=Ue.leaf?bt(Lt):Lt;tt(Oe,jt)&&(Ue.leaf?at.push(Lt):rt(Oe,jt)?this._all(Lt,at):pt.push(Lt))}Ue=pt.pop()}return at},s.prototype.collides=function(Oe){var Ue=this.data;if(!tt(Oe,Ue))return!1;for(var at=[];Ue;){for(var bt=0;bt<Ue.children.length;bt++){var pt=Ue.children[bt],kt=Ue.leaf?this.toBBox(pt):pt;if(tt(Oe,kt)){if(Ue.leaf||rt(Oe,kt))return!0;at.push(pt)}}Ue=at.pop()}return!1},s.prototype.load=function(Oe){if(!(Oe&&Oe.length))return this;if(Oe.length<this._minEntries){for(var Ue=0;Ue<Oe.length;Ue++)this.insert(Oe[Ue]);return this}var at=this._build(Oe.slice(),0,Oe.length-1,0);if(!this.data.children.length)this.data=at;else if(this.data.height===at.height)this._splitRoot(this.data,at);else{if(this.data.height<at.height){var bt=this.data;this.data=at,at=bt}this._insert(at,this.data.height-at.height-1,!0)}return this},s.prototype.insert=function(Oe){return Oe&&this._insert(Oe,this.data.height-1),this},s.prototype.clear=function(){return this.data=ot([]),this},s.prototype.remove=function(Oe,Ue){if(!Oe)return this;for(var at=this.data,bt=this.toBBox(Oe),pt=[],kt=[],Lt,jt,on;at||pt.length;){if(at||(at=pt.pop(),jt=pt[pt.length-1],Lt=kt.pop(),on=!0),at.leaf){var cn=l(Oe,at.children,Ue);if(cn!==-1)return at.children.splice(cn,1),pt.push(at),this._condense(pt),this}!on&&!at.leaf&&rt(at,bt)?(pt.push(at),kt.push(Lt),Lt=0,jt=at,at=at.children[0]):jt?(Lt++,at=jt.children[Lt],on=!1):at=null}return this},s.prototype.toBBox=function(Oe){return Oe},s.prototype.compareMinX=function(Oe,Ue){return Oe.minX-Ue.minX},s.prototype.compareMinY=function(Oe,Ue){return Oe.minY-Ue.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(Oe){return this.data=Oe,this},s.prototype._all=function(Oe,Ue){for(var at=[];Oe;)Oe.leaf?Ue.push.apply(Ue,Oe.children):at.push.apply(at,Oe.children),Oe=at.pop();return Ue},s.prototype._build=function(Oe,Ue,at,bt){var pt=at-Ue+1,kt=this._maxEntries,Lt;if(pt<=kt)return Lt=ot(Oe.slice(Ue,at+1)),h(Lt,this.toBBox),Lt;bt||(bt=Math.ceil(Math.log(pt)/Math.log(kt)),kt=Math.ceil(pt/Math.pow(kt,bt-1))),Lt=ot([]),Lt.leaf=!1,Lt.height=bt;var jt=Math.ceil(pt/kt),on=jt*Math.ceil(Math.sqrt(kt));At(Oe,Ue,at,on,this.compareMinX);for(var cn=Ue;cn<=at;cn+=on){var vn=Math.min(cn+on-1,at);At(Oe,cn,vn,jt,this.compareMinY);for(var Ut=cn;Ut<=vn;Ut+=jt){var un=Math.min(Ut+jt-1,vn);Lt.children.push(this._build(Oe,Ut,un,bt-1))}}return h(Lt,this.toBBox),Lt},s.prototype._chooseSubtree=function(Oe,Ue,at,bt){for(;bt.push(Ue),!(Ue.leaf||bt.length-1===at);){for(var pt=1/0,kt=1/0,Lt=void 0,jt=0;jt<Ue.children.length;jt++){var on=Ue.children[jt],cn=Pe(on),vn=He(Oe,on)-cn;vn<kt?(kt=vn,pt=cn<pt?cn:pt,Lt=on):vn===kt&&cn<pt&&(pt=cn,Lt=on)}Ue=Lt||Ue.children[0]}return Ue},s.prototype._insert=function(Oe,Ue,at){var bt=at?Oe:this.toBBox(Oe),pt=[],kt=this._chooseSubtree(bt,this.data,Ue,pt);for(kt.children.push(Oe),D(kt,bt);Ue>=0&&pt[Ue].children.length>this._maxEntries;)this._split(pt,Ue),Ue--;this._adjustParentBBoxes(bt,pt,Ue)},s.prototype._split=function(Oe,Ue){var at=Oe[Ue],bt=at.children.length,pt=this._minEntries;this._chooseSplitAxis(at,pt,bt);var kt=this._chooseSplitIndex(at,pt,bt),Lt=ot(at.children.splice(kt,at.children.length-kt));Lt.height=at.height,Lt.leaf=at.leaf,h(at,this.toBBox),h(Lt,this.toBBox),Ue?Oe[Ue-1].children.push(Lt):this._splitRoot(at,Lt)},s.prototype._splitRoot=function(Oe,Ue){this.data=ot([Oe,Ue]),this.data.height=Oe.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(Oe,Ue,at){for(var bt,pt=1/0,kt=1/0,Lt=Ue;Lt<=at-Ue;Lt++){var jt=d(Oe,0,Lt,this.toBBox),on=d(Oe,Lt,at,this.toBBox),cn=ze(jt,on),vn=Pe(jt)+Pe(on);cn<pt?(pt=cn,bt=Lt,kt=vn<kt?vn:kt):cn===pt&&vn<kt&&(kt=vn,bt=Lt)}return bt||at-Ue},s.prototype._chooseSplitAxis=function(Oe,Ue,at){var bt=Oe.leaf?this.compareMinX:Y,pt=Oe.leaf?this.compareMinY:he,kt=this._allDistMargin(Oe,Ue,at,bt),Lt=this._allDistMargin(Oe,Ue,at,pt);kt<Lt&&Oe.children.sort(bt)},s.prototype._allDistMargin=function(Oe,Ue,at,bt){Oe.children.sort(bt);for(var pt=this.toBBox,kt=d(Oe,0,Ue,pt),Lt=d(Oe,at-Ue,at,pt),jt=Se(kt)+Se(Lt),on=Ue;on<at-Ue;on++){var cn=Oe.children[on];D(kt,Oe.leaf?pt(cn):cn),jt+=Se(kt)}for(var vn=at-Ue-1;vn>=Ue;vn--){var Ut=Oe.children[vn];D(Lt,Oe.leaf?pt(Ut):Ut),jt+=Se(Lt)}return jt},s.prototype._adjustParentBBoxes=function(Oe,Ue,at){for(var bt=at;bt>=0;bt--)D(Ue[bt],Oe)},s.prototype._condense=function(Oe){for(var Ue=Oe.length-1,at=void 0;Ue>=0;Ue--)Oe[Ue].children.length===0?Ue>0?(at=Oe[Ue-1].children,at.splice(at.indexOf(Oe[Ue]),1)):this.clear():h(Oe[Ue],this.toBBox)};function l(Ye,Oe,Ue){if(!Ue)return Oe.indexOf(Ye);for(var at=0;at<Oe.length;at++)if(Ue(Ye,Oe[at]))return at;return-1}function h(Ye,Oe){d(Ye,0,Ye.children.length,Oe,Ye)}function d(Ye,Oe,Ue,at,bt){bt||(bt=ot(null)),bt.minX=1/0,bt.minY=1/0,bt.maxX=-1/0,bt.maxY=-1/0;for(var pt=Oe;pt<Ue;pt++){var kt=Ye.children[pt];D(bt,Ye.leaf?at(kt):kt)}return bt}function D(Ye,Oe){return Ye.minX=Math.min(Ye.minX,Oe.minX),Ye.minY=Math.min(Ye.minY,Oe.minY),Ye.maxX=Math.max(Ye.maxX,Oe.maxX),Ye.maxY=Math.max(Ye.maxY,Oe.maxY),Ye}function Y(Ye,Oe){return Ye.minX-Oe.minX}function he(Ye,Oe){return Ye.minY-Oe.minY}function Pe(Ye){return(Ye.maxX-Ye.minX)*(Ye.maxY-Ye.minY)}function Se(Ye){return Ye.maxX-Ye.minX+(Ye.maxY-Ye.minY)}function He(Ye,Oe){return(Math.max(Oe.maxX,Ye.maxX)-Math.min(Oe.minX,Ye.minX))*(Math.max(Oe.maxY,Ye.maxY)-Math.min(Oe.minY,Ye.minY))}function ze(Ye,Oe){var Ue=Math.max(Ye.minX,Oe.minX),at=Math.max(Ye.minY,Oe.minY),bt=Math.min(Ye.maxX,Oe.maxX),pt=Math.min(Ye.maxY,Oe.maxY);return Math.max(0,bt-Ue)*Math.max(0,pt-at)}function rt(Ye,Oe){return Ye.minX<=Oe.minX&&Ye.minY<=Oe.minY&&Oe.maxX<=Ye.maxX&&Oe.maxY<=Ye.maxY}function tt(Ye,Oe){return Oe.minX<=Ye.maxX&&Oe.minY<=Ye.maxY&&Oe.maxX>=Ye.minX&&Oe.maxY>=Ye.minY}function ot(Ye){return{children:Ye,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function At(Ye,Oe,Ue,at,bt){for(var pt=[Oe,Ue];pt.length;)if(Ue=pt.pop(),Oe=pt.pop(),!(Ue-Oe<=at)){var kt=Oe+Math.ceil((Ue-Oe)/at/2)*at;e(Ye,kt,Oe,Ue,bt),pt.push(Oe,kt,kt,Ue)}}return s})})(Jn);var cr=Jn.exports,Vt=function(n){return n.GROUP="g",n.FRAGMENT="fragment",n.CIRCLE="circle",n.ELLIPSE="ellipse",n.IMAGE="image",n.RECT="rect",n.LINE="line",n.POLYLINE="polyline",n.POLYGON="polygon",n.TEXT="text",n.PATH="path",n.HTML="html",n.MESH="mesh",n}({}),rr=function(n){return n[n.ZERO=0]="ZERO",n[n.NEGATIVE_ONE=1]="NEGATIVE_ONE",n}({}),dr=function(){function n(){(0,U.Z)(this,n),this.plugins=[]}return(0,H.Z)(n,[{key:"addRenderingPlugin",value:function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)}},{key:"removeAllRenderingPlugins",value:function(){var e=this;this.plugins.forEach(function(t){var i=e.context.renderingPlugins.indexOf(t);i>=0&&e.context.renderingPlugins.splice(i,1)})}}])}(),pe=function(){function n(r){(0,U.Z)(this,n),this.clipSpaceNearZ=rr.NEGATIVE_ONE,this.plugins=[],this.config=(0,u.Z)({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},r)}return(0,H.Z)(n,[{key:"registerPlugin",value:function(e){var t=this.plugins.findIndex(function(i){return i===e});t===-1&&this.plugins.push(e)}},{key:"unregisterPlugin",value:function(e){var t=this.plugins.findIndex(function(i){return i===e});t>-1&&this.plugins.splice(t,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(e){return this.plugins.find(function(t){return t.name===e})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(e){Object.assign(this.config,e)}}])}(),te=m.IH,w=m.JG,g=m.Fp,M=m.VV,z=m.bA,se=m.lu,fe=function(){function n(){(0,U.Z)(this,n),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return(0,H.Z)(n,[{key:"update",value:function(e,t){w(this.center,e),w(this.halfExtents,t),se(this.min,this.center,this.halfExtents),te(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){te(this.center,t,e),z(this.center,this.center,.5),se(this.halfExtents,t,e),z(this.halfExtents,this.halfExtents,.5),w(this.min,e),w(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){if(!n.isEmpty(e)){if(n.isEmpty(this)){this.setMinMax(e.getMin(),e.getMax());return}var t=this.center,i=t[0],o=t[1],s=t[2],l=this.halfExtents,h=l[0],d=l[1],D=l[2],Y=i-h,he=i+h,Pe=o-d,Se=o+d,He=s-D,ze=s+D,rt=e.center,tt=rt[0],ot=rt[1],At=rt[2],Ye=e.halfExtents,Oe=Ye[0],Ue=Ye[1],at=Ye[2],bt=tt-Oe,pt=tt+Oe,kt=ot-Ue,Lt=ot+Ue,jt=At-at,on=At+at;bt<Y&&(Y=bt),pt>he&&(he=pt),kt<Pe&&(Pe=kt),Lt>Se&&(Se=Lt),jt<He&&(He=jt),on>ze&&(ze=on),t[0]=(Y+he)*.5,t[1]=(Pe+Se)*.5,t[2]=(He+ze)*.5,l[0]=(he-Y)*.5,l[1]=(Se-Pe)*.5,l[2]=(ze-He)*.5,this.min[0]=Y,this.min[1]=Pe,this.min[2]=He,this.max[0]=he,this.max[1]=Se,this.max[2]=ze}}},{key:"setFromTransformedAABB",value:function(e,t){var i=this.center,o=this.halfExtents,s=e.center,l=e.halfExtents,h=t[0],d=t[4],D=t[8],Y=t[1],he=t[5],Pe=t[9],Se=t[2],He=t[6],ze=t[10],rt=Math.abs(h),tt=Math.abs(d),ot=Math.abs(D),At=Math.abs(Y),Ye=Math.abs(he),Oe=Math.abs(Pe),Ue=Math.abs(Se),at=Math.abs(He),bt=Math.abs(ze);i[0]=t[12]+h*s[0]+d*s[1]+D*s[2],i[1]=t[13]+Y*s[0]+he*s[1]+Pe*s[2],i[2]=t[14]+Se*s[0]+He*s[1]+ze*s[2],o[0]=rt*l[0]+tt*l[1]+ot*l[2],o[1]=At*l[0]+Ye*l[1]+Oe*l[2],o[2]=Ue*l[0]+at*l[1]+bt*l[2],se(this.min,i,o),te(this.max,i,o)}},{key:"intersects",value:function(e){var t=this.getMax(),i=this.getMin(),o=e.getMax(),s=e.getMin();return i[0]<=o[0]&&t[0]>=s[0]&&i[1]<=o[1]&&t[1]>=s[1]&&i[2]<=o[2]&&t[2]>=s[2]}},{key:"intersection",value:function(e){if(!this.intersects(e))return null;var t=new n,i=g([0,0,0],this.getMin(),e.getMin()),o=M([0,0,0],this.getMax(),e.getMax());return t.setMinMax(i,o),t}},{key:"getNegativeFarPoint",value:function(e){return e.pnVertexFlag===273?w([0,0,0],this.min):e.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:e.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(e){return e.pnVertexFlag===273?w([0,0,0],this.max):e.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:e.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(e){return!e||e.halfExtents[0]===0&&e.halfExtents[1]===0&&e.halfExtents[2]===0}}])}(),Ce=function(){function n(r,e){(0,U.Z)(this,n),this.distance=r||0,this.normal=e||m.al(0,1,0),this.updatePNVertexFlag()}return(0,H.Z)(n,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return m.AK(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/m.Zh(this.normal);m.bA(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,i){var o=this.distanceToPoint(e),s=this.distanceToPoint(t),l=o/(o-s),h=l>=0&&l<=1;return h&&i&&m.t7(i,e,t,l),h}}])}(),Ae=function(n){return n[n.OUTSIDE=4294967295]="OUTSIDE",n[n.INSIDE=0]="INSIDE",n[n.INDETERMINATE=2147483647]="INDETERMINATE",n}({}),Ke=function(){function n(r){if((0,U.Z)(this,n),this.planes=[],r)this.planes=r;else for(var e=0;e<6;e++)this.planes.push(new Ce)}return(0,H.Z)(n,[{key:"extractFromVPMatrix",value:function(e){var t=(0,X.Z)(e,16),i=t[0],o=t[1],s=t[2],l=t[3],h=t[4],d=t[5],D=t[6],Y=t[7],he=t[8],Pe=t[9],Se=t[10],He=t[11],ze=t[12],rt=t[13],tt=t[14],ot=t[15];m.t8(this.planes[0].normal,l-i,Y-h,He-he),this.planes[0].distance=ot-ze,m.t8(this.planes[1].normal,l+i,Y+h,He+he),this.planes[1].distance=ot+ze,m.t8(this.planes[2].normal,l+o,Y+d,He+Pe),this.planes[2].distance=ot+rt,m.t8(this.planes[3].normal,l-o,Y-d,He-Pe),this.planes[3].distance=ot-rt,m.t8(this.planes[4].normal,l-s,Y-D,He-Se),this.planes[4].distance=ot-tt,m.t8(this.planes[5].normal,l+s,Y+D,He+Se),this.planes[5].distance=ot+tt,this.planes.forEach(function(At){At.normalize(),At.updatePNVertexFlag()})}}])}(),We=function(){function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(0,U.Z)(this,n),this.x=0,this.y=0,this.x=r,this.y=e}return(0,H.Z)(n,[{key:"clone",value:function(){return new n(this.x,this.y)}},{key:"copyFrom",value:function(e){this.x=e.x,this.y=e.y}}])}(),Ve=function(){function n(r,e,t,i){(0,U.Z)(this,n),this.x=r,this.y=e,this.width=t,this.height=i,this.left=r,this.right=r+t,this.top=e,this.bottom=e+i}return(0,H.Z)(n,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(e){return new n(e.x,e.y,e.width,e.height)}},{key:"applyTransform",value:function(e,t){var i=Z.al(e.x,e.y,0,1),o=Z.al(e.x+e.width,e.y,0,1),s=Z.al(e.x,e.y+e.height,0,1),l=Z.al(e.x+e.width,e.y+e.height,0,1),h=Z.Ue(),d=Z.Ue(),D=Z.Ue(),Y=Z.Ue();Z.fF(h,i,t),Z.fF(d,o,t),Z.fF(D,s,t),Z.fF(Y,l,t);var he=Math.min(h[0],d[0],D[0],Y[0]),Pe=Math.min(h[1],d[1],D[1],Y[1]),Se=Math.max(h[0],d[0],D[0],Y[0]),He=Math.max(h[1],d[1],D[1],Y[1]);return n.fromRect({x:he,y:Pe,width:Se-he,height:He-Pe})}}])}(),Qe="Method not implemented.",ut="Use document.documentElement instead.",gt="Cannot append a destroyed element.";function Et(n){return n===void 0?0:n>360||n<-360?n%360:n}var mt=m.Ue();function K(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(n)&&n.length===3?t?m.d9(n):m.JG(mt,n):(0,N.Z)(n)?t?m.al(n,r,e):m.t8(mt,n,r,e):t?m.al(n[0],n[1]||r,n[2]||e):m.t8(mt,n[0],n[1]||r,n[2]||e)}var W=Math.PI/180;function O(n){return n*W}var re=180/Math.PI;function Ne(n){return n*re}var Be=.9;function Ie(n){return n%=400,n<0&&(n+=400),n*Be}function vt(n){return n/360}function wt(n){return 360*n}var Gt=Math.PI/2;function Xt(n,r){var e=r[0],t=r[1],i=r[2],o=r[3],s=e*e,l=t*t,h=i*i,d=o*o,D=s+l+h+d,Y=e*o-t*i;return Y>.499995*D?(n[0]=Gt,n[1]=2*Math.atan2(t,e),n[2]=0):Y<-.499995*D?(n[0]=-Gt,n[1]=2*Math.atan2(t,e),n[2]=0):(n[0]=Math.asin(2*(e*i-o*t)),n[1]=Math.atan2(2*(e*o+t*i),1-2*(h+d)),n[2]=Math.atan2(2*(e*t+i*o),1-2*(l+h))),n}function Yt(n,r){var e,t,i=S.getScaling(m.Ue(),r),o=(0,X.Z)(i,3),s=o[0],l=o[1],h=o[2],d=Math.asin(-r[2]/s);return d<Gt?d>-Gt?(e=Math.atan2(r[6]/l,r[10]/h),t=Math.atan2(r[1]/s,r[0]/s)):(t=0,e=-Math.atan2(r[4]/l,r[5]/l)):(t=0,e=Math.atan2(r[4]/l,r[5]/l)),n[0]=e,n[1]=d,n[2]=t,n}function rn(n,r){return r.length===16?Yt(n,r):Xt(n,r)}function hn(n,r,e,t,i){var o=Math.cos(n),s=Math.sin(n);return ge.al(t*o,i*s,0,-t*s,i*o,0,r,e,1)}function _(n,r,e,t,i,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,h=2*o,d=e-r,D=t-i,Y=h/d,he=h/D,Pe=(e+r)/d,Se=(t+i)/D,He,ze,rt=s-o,tt=s*o;return l?(He=-s/rt,ze=-tt/rt):(He=-(s+o)/rt,ze=-2*tt/rt),n[0]=Y,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=he,n[6]=0,n[7]=0,n[8]=Pe,n[9]=Se,n[10]=He,n[11]=-1,n[12]=0,n[13]=0,n[14]=ze,n[15]=0,n}function I(n){var r=n[0],e=n[1],t=n[3],i=n[4],o=Math.sqrt(r*r+e*e),s=Math.sqrt(t*t+i*i),l=r*i-e*t;if(l<0&&(r<i?o=-o:s=-s),o){var h=1/o;r*=h,e*=h}if(s){var d=1/s;t*=d,i*=d}var D=Math.atan2(e,r),Y=Ne(D);return[n[6],n[7],o,s,Y]}var Q=S.create(),Te=S.create(),Re=Z.Ue(),we=[m.Ue(),m.Ue(),m.Ue()],Fe=m.Ue();function $e(n,r,e,t,i,o){if(!Je(Q,n)||(S.copy(Te,Q),Te[3]=0,Te[7]=0,Te[11]=0,Te[15]=1,Math.abs(S.determinant(Te))<1e-8))return!1;var s=Q[3],l=Q[7],h=Q[11],d=Q[12],D=Q[13],Y=Q[14],he=Q[15];if(s!==0||l!==0||h!==0){Re[0]=s,Re[1]=l,Re[2]=h,Re[3]=he;var Pe=S.invert(Te,Te);if(!Pe)return!1;S.transpose(Te,Te),Z.fF(i,Re,Te)}else i[0]=i[1]=i[2]=0,i[3]=1;if(r[0]=d,r[1]=D,r[2]=Y,st(we,Q),e[0]=m.kE(we[0]),m.Fv(we[0],we[0]),t[0]=m.AK(we[0],we[1]),yt(we[1],we[1],we[0],1,-t[0]),e[1]=m.kE(we[1]),m.Fv(we[1],we[1]),t[0]/=e[1],t[1]=m.AK(we[0],we[2]),yt(we[2],we[2],we[0],1,-t[1]),t[2]=m.AK(we[1],we[2]),yt(we[2],we[2],we[1],1,-t[2]),e[2]=m.kE(we[2]),m.Fv(we[2],we[2]),t[1]/=e[2],t[2]/=e[2],m.kC(Fe,we[1],we[2]),m.AK(we[0],Fe)<0)for(var Se=0;Se<3;Se++)e[Se]*=-1,we[Se][0]*=-1,we[Se][1]*=-1,we[Se][2]*=-1;return o[0]=.5*Math.sqrt(Math.max(1+we[0][0]-we[1][1]-we[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-we[0][0]+we[1][1]-we[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-we[0][0]-we[1][1]+we[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+we[0][0]+we[1][1]+we[2][2],0)),we[2][1]>we[1][2]&&(o[0]=-o[0]),we[0][2]>we[2][0]&&(o[1]=-o[1]),we[1][0]>we[0][1]&&(o[2]=-o[2]),!0}function Je(n,r){var e=r[15];if(e===0)return!1;for(var t=1/e,i=0;i<16;i++)n[i]=r[i]*t;return!0}function st(n,r){n[0][0]=r[0],n[0][1]=r[1],n[0][2]=r[2],n[1][0]=r[4],n[1][1]=r[5],n[1][2]=r[6],n[2][0]=r[8],n[2][1]=r[9],n[2][2]=r[10]}function yt(n,r,e,t,i){n[0]=r[0]*t+e[0]*i,n[1]=r[1]*t+e[1]*i,n[2]=r[2]*t+e[2]*i}var xt=function(n){return n[n.ORBITING=0]="ORBITING",n[n.EXPLORING=1]="EXPLORING",n[n.TRACKING=2]="TRACKING",n}({}),Dt=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.ROTATIONAL=1]="ROTATIONAL",n[n.TRANSLATIONAL=2]="TRANSLATIONAL",n[n.CINEMATIC=3]="CINEMATIC",n}({}),Ct=function(n){return n[n.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",n[n.PERSPECTIVE=1]="PERSPECTIVE",n}({}),zt={UPDATED:"updated"},qt=2e-4,Kt=function(){function n(){(0,U.Z)(this,n),this.clipSpaceNearZ=rr.NEGATIVE_ONE,this.eventEmitter=new de.Z,this.matrix=S.create(),this.right=m.al(1,0,0),this.up=m.al(0,1,0),this.forward=m.al(0,0,1),this.position=m.al(0,0,1),this.focalPoint=m.al(0,0,0),this.distanceVector=m.al(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=S.create(),this.projectionMatrixInverse=S.create(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=xt.EXPLORING,this.trackingMode=Dt.DEFAULT,this.projectionMode=Ct.PERSPECTIVE,this.frustum=new Ke,this.orthoMatrix=S.create()}return(0,H.Z)(n,[{key:"isOrtho",value:function(){return this.projectionMode===Ct.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(e){this.enableUpdate=e}},{key:"setType",value:function(e,t){return this.type=e,this.type===xt.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===xt.TRACKING&&t!==void 0&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==xt.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){return this.rotateWorld=e,this._getAngles(),this}},{key:"getViewTransform",value:function(){return S.invert(S.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(e,t){var i=S.fromTranslation(S.create(),[e,t,0]);this.jitteredProjectionMatrix=S.multiply(S.create(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setProjectionMatrix",value:function(e){this.projectionMatrix=e}},{key:"setFov",value:function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setNear",value:function(e){return this.projectionMode===Ct.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this}},{key:"setFar",value:function(e){return this.projectionMode===Ct.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this}},{key:"setViewOffset",value:function(e,t,i,o,s,l){return this.aspect=e/t,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=l,this.projectionMode===Ct.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Ct.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(e){return this.zoom=e,this.projectionMode===Ct.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Ct.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(e,t){var i=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),o=i.x,s=i.y,l=this.roll;this.rotate(0,0,-l),this.setPosition(o,s),this.setFocalPoint(o,s),this.setZoom(e),this.rotate(0,0,l);var h=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),d=h.x,D=h.y,Y=m.al(d-o,D-s,0),he=m.AK(Y,this.right)/m.kE(this.right),Pe=m.AK(Y,this.up)/m.kE(this.up),Se=this.getPosition(),He=(0,X.Z)(Se,2),ze=He[0],rt=He[1],tt=this.getFocalPoint(),ot=(0,X.Z)(tt,2),At=ot[0],Ye=ot[1];return this.setPosition(ze-he,rt-Pe),this.setFocalPoint(At-he,Ye-Pe),this}},{key:"setPerspective",value:function(e,t,i,o){var s;this.projectionMode=Ct.PERSPECTIVE,this.fov=i,this.near=e,this.far=t,this.aspect=o;var l=this.near*Math.tan(O(.5*this.fov))/this.zoom,h=2*l,d=this.aspect*h,D=-.5*d;if((s=this.view)!==null&&s!==void 0&&s.enabled){var Y=this.view.fullWidth,he=this.view.fullHeight;D+=this.view.offsetX*d/Y,l-=this.view.offsetY*h/he,d*=this.view.width/Y,h*=this.view.height/he}return _(this.projectionMatrix,D,D+d,l-h,l,e,this.far,this.clipSpaceNearZ===rr.ZERO),S.invert(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(e,t,i,o,s,l){var h;this.projectionMode=Ct.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=i,this.bottom=o,this.near=s,this.far=l;var d=(this.rright-this.left)/(2*this.zoom),D=(this.top-this.bottom)/(2*this.zoom),Y=(this.rright+this.left)/2,he=(this.top+this.bottom)/2,Pe=Y-d,Se=Y+d,He=he+D,ze=he-D;if((h=this.view)!==null&&h!==void 0&&h.enabled){var rt=(this.rright-this.left)/this.view.fullWidth/this.zoom,tt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;Pe+=rt*this.view.offsetX,Se=Pe+rt*this.view.width,He-=tt*this.view.offsetY,ze=He-tt*this.view.height}return this.clipSpaceNearZ===rr.NEGATIVE_ONE?S.ortho(this.projectionMatrix,Pe,Se,He,ze,s,l):S.orthoZO(this.projectionMatrix,Pe,Se,He,ze,s,l),S.invert(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],o=K(e,t,i);return this._setPosition(o),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],o=m.al(0,1,0);if(this.focalPoint=K(e,t,i),this.trackingMode===Dt.CINEMATIC){var s=m.$X(m.Ue(),this.focalPoint,this.position);e=s[0],t=s[1],i=s[2];var l=m.kE(s),h=Ne(Math.asin(t/l)),d=90+Ne(Math.atan2(i,e)),D=S.create();S.rotateY(D,D,O(d)),S.rotateX(D,D,O(h)),o=m.fF(m.Ue(),[0,1,0],D)}return S.invert(this.matrix,S.lookAt(S.create(),this.position,this.focalPoint,o)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<qt&&(this.distance=qt),this.dollyingStep=this.distance/100;var t=m.Ue();e=this.distance;var i=this.forward,o=this.focalPoint;return t[0]=e*i[0]+o[0],t[1]=e*i[1]+o[1],t[2]=e*i[2]+o[2],this._setPosition(t),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"setAzimuth",value:function(e){return this.azimuth=Et(e),this.computeMatrix(),this._getAxes(),this.type===xt.ORBITING||this.type===xt.EXPLORING?this._getPosition():this.type===xt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Et(e),this.computeMatrix(),this._getAxes(),this.type===xt.ORBITING||this.type===xt.EXPLORING?this._getPosition():this.type===xt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(e){return this.roll=Et(e),this.computeMatrix(),this._getAxes(),this.type===xt.ORBITING||this.type===xt.EXPLORING?this._getPosition():this.type===xt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var e=k.yY(k.Ue(),[0,0,1],O(this.roll));S.identity(this.matrix);var t=k.yY(k.Ue(),[1,0,0],O((this.rotateWorld&&this.type!==xt.TRACKING||this.type===xt.TRACKING?1:-1)*this.elevation)),i=k.yY(k.Ue(),[0,1,0],O((this.rotateWorld&&this.type!==xt.TRACKING||this.type===xt.TRACKING?1:-1)*this.azimuth)),o=k.Jp(k.Ue(),i,t);o=k.Jp(k.Ue(),o,e);var s=S.fromQuat(S.create(),o);this.type===xt.ORBITING||this.type===xt.EXPLORING?(S.translate(this.matrix,this.matrix,this.focalPoint),S.multiply(this.matrix,this.matrix,s),S.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===xt.TRACKING&&(S.translate(this.matrix,this.matrix,this.position),S.multiply(this.matrix,this.matrix,s))}},{key:"_setPosition",value:function(e,t,i){this.position=K(e,t,i);var o=this.matrix;o[12]=this.position[0],o[13]=this.position[1],o[14]=this.position[2],o[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){m.JG(this.right,K(Z.fF(Z.Ue(),[1,0,0,0],this.matrix))),m.JG(this.up,K(Z.fF(Z.Ue(),[0,1,0,0],this.matrix))),m.JG(this.forward,K(Z.fF(Z.Ue(),[0,0,1,0],this.matrix))),m.Fv(this.right,this.right),m.Fv(this.up,this.up),m.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],i=this.distanceVector[2],o=m.kE(this.distanceVector);if(o===0){this.elevation=0,this.azimuth=0;return}this.type===xt.TRACKING?(this.elevation=Ne(Math.asin(t/o)),this.azimuth=Ne(Math.atan2(-e,-i))):this.rotateWorld?(this.elevation=Ne(Math.asin(t/o)),this.azimuth=Ne(Math.atan2(-e,-i))):(this.elevation=-Ne(Math.asin(t/o)),this.azimuth=-Ne(Math.atan2(-e,-i)))}},{key:"_getPosition",value:function(){m.JG(this.position,K(Z.fF(Z.Ue(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){m.kK(this.distanceVector,[0,0,-this.distance],ge.xO(ge.Ue(),this.matrix)),m.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=m.$X(m.Ue(),this.focalPoint,this.position),this.distance=m.kE(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===Ct.ORTHOGRAPHIC){var e=this.position,t=k.yY(k.Ue(),[0,0,1],-this.roll*Math.PI/180);S.fromRotationTranslationScaleOrigin(this.orthoMatrix,t,m.al((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),m.al(this.zoom,this.zoom,1),e)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var e=this.getViewTransform(),t=S.multiply(S.create(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(t),this.eventEmitter.emit(zt.UPDATED)}}},{key:"rotate",value:function(e,t,i){throw new Error(Qe)}},{key:"pan",value:function(e,t){throw new Error(Qe)}},{key:"dolly",value:function(e){throw new Error(Qe)}},{key:"createLandmark",value:function(e,t){throw new Error(Qe)}},{key:"gotoLandmark",value:function(e,t){throw new Error(Qe)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Qe)}}])}(),nn=function(n){return n[n.Standard=0]="Standard",n}({}),sn=function(n){return n[n.ADDED=0]="ADDED",n[n.REMOVED=1]="REMOVED",n[n.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",n}({}),dn={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Ve(0,0,0,0)},Tt=function(n){return n.COORDINATE="<coordinate>",n.COLOR="<color>",n.PAINT="<paint>",n.NUMBER="<number>",n.ANGLE="<angle>",n.OPACITY_VALUE="<opacity-value>",n.SHADOW_BLUR="<shadow-blur>",n.LENGTH="<length>",n.PERCENTAGE="<percentage>",n.LENGTH_PERCENTAGE="<length> | <percentage>",n.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",n.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",n.LIST_OF_POINTS="<list-of-points>",n.PATH="<path>",n.FILTER="<filter>",n.Z_INDEX="<z-index>",n.OFFSET_DISTANCE="<offset-distance>",n.DEFINED_PATH="<defined-path>",n.MARKER="<marker>",n.TRANSFORM="<transform>",n.TRANSFORM_ORIGIN="<transform-origin>",n.TEXT="<text>",n.TEXT_TRANSFORM="<text-transform>",n}({});function gn(n,r,e){n.prototype=r.prototype=e,e.constructor=n}function Ln(n,r){var e=Object.create(n.prototype);for(var t in r)e[t]=r[t];return e}function An(){}var On=.7,Dn=1/On,Nn="\\s*([+-]?\\d+)\\s*",Gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xn=/^#([0-9a-f]{3,8})$/,Un=new RegExp(`^rgb\\(${Nn},${Nn},${Nn}\\)$`),Hn=new RegExp(`^rgb\\(${Tn},${Tn},${Tn}\\)$`),Sr=new RegExp(`^rgba\\(${Nn},${Nn},${Nn},${Gn}\\)$`),Cr=new RegExp(`^rgba\\(${Tn},${Tn},${Tn},${Gn}\\)$`),ui=new RegExp(`^hsl\\(${Gn},${Tn},${Tn}\\)$`),fr=new RegExp(`^hsla\\(${Gn},${Tn},${Tn},${Gn}\\)$`),ir={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gn(An,zr,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Gr,formatHex:Gr,formatHex8:hs,formatHsl:vs,formatRgb:Ki,toString:Ki});function Gr(){return this.rgb().formatHex()}function hs(){return this.rgb().formatHex8()}function vs(){return qi(this).formatHsl()}function Ki(){return this.rgb().formatRgb()}function zr(n){var r,e;return n=(n+"").trim().toLowerCase(),(r=Xn.exec(n))?(e=r[1].length,r=parseInt(r[1],16),e===6?Xi(r):e===3?new Yn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):e===8?Wr(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):e===4?Wr(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Un.exec(n))?new Yn(r[1],r[2],r[3],1):(r=Hn.exec(n))?new Yn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Sr.exec(n))?Wr(r[1],r[2],r[3],r[4]):(r=Cr.exec(n))?Wr(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=ui.exec(n))?Qi(r[1],r[2]/100,r[3]/100,1):(r=fr.exec(n))?Qi(r[1],r[2]/100,r[3]/100,r[4]):ir.hasOwnProperty(n)?Xi(ir[n]):n==="transparent"?new Yn(NaN,NaN,NaN,0):null}function Xi(n){return new Yn(n>>16&255,n>>8&255,n&255,1)}function Wr(n,r,e,t){return t<=0&&(n=r=e=NaN),new Yn(n,r,e,t)}function ds(n){return n instanceof An||(n=zr(n)),n?(n=n.rgb(),new Yn(n.r,n.g,n.b,n.opacity)):new Yn}function ps(n,r,e,t){return arguments.length===1?ds(n):new Yn(n,r,e,t==null?1:t)}function Yn(n,r,e,t){this.r=+n,this.g=+r,this.b=+e,this.opacity=+t}gn(Yn,ps,Ln(An,{brighter(n){return n=n==null?Dn:Math.pow(Dn,n),new Yn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?On:Math.pow(On,n),new Yn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Yn(pr(this.r),pr(this.g),pr(this.b),Ur(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ji,formatHex:ji,formatHex8:gs,formatRgb:Ji,toString:Ji}));function ji(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}`}function gs(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}${gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ji(){const n=Ur(this.opacity);return`${n===1?"rgb(":"rgba("}${pr(this.r)}, ${pr(this.g)}, ${pr(this.b)}${n===1?")":`, ${n})`}`}function Ur(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function pr(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function gr(n){return n=pr(n),(n<16?"0":"")+n.toString(16)}function Qi(n,r,e,t){return t<=0?n=r=e=NaN:e<=0||e>=1?n=r=NaN:r<=0&&(n=NaN),new qn(n,r,e,t)}function qi(n){if(n instanceof qn)return new qn(n.h,n.s,n.l,n.opacity);if(n instanceof An||(n=zr(n)),!n)return new qn;if(n instanceof qn)return n;n=n.rgb();var r=n.r/255,e=n.g/255,t=n.b/255,i=Math.min(r,e,t),o=Math.max(r,e,t),s=NaN,l=o-i,h=(o+i)/2;return l?(r===o?s=(e-t)/l+(e<t)*6:e===o?s=(t-r)/l+2:s=(r-e)/l+4,l/=h<.5?o+i:2-o-i,s*=60):l=h>0&&h<1?0:s,new qn(s,l,h,n.opacity)}function ms(n,r,e,t){return arguments.length===1?qi(n):new qn(n,r,e,t==null?1:t)}function qn(n,r,e,t){this.h=+n,this.s=+r,this.l=+e,this.opacity=+t}gn(qn,ms,Ln(An,{brighter(n){return n=n==null?Dn:Math.pow(Dn,n),new qn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?On:Math.pow(On,n),new qn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,r=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,t=e+(e<.5?e:1-e)*r,i=2*e-t;return new Yn(li(n>=240?n-240:n+120,i,t),li(n,i,t),li(n<120?n+240:n-120,i,t),this.opacity)},clamp(){return new qn(ea(this.h),Vr(this.s),Vr(this.l),Ur(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Ur(this.opacity);return`${n===1?"hsl(":"hsla("}${ea(this.h)}, ${Vr(this.s)*100}%, ${Vr(this.l)*100}%${n===1?")":`, ${n})`}`}}));function ea(n){return n=(n||0)%360,n<0?n+360:n}function Vr(n){return Math.max(0,Math.min(1,n||0))}function li(n,r,e){return(n<60?r+(e-r)*n/60:n<180?e:n<240?r+(e-r)*(240-n)/60:r)*255}function Zn(n,r){if(typeof n!="function"||r!=null&&typeof r!="function")throw new TypeError("Expected a function");var e=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var l=r?r.apply(this,o):o[0],h=e.cache;if(h.has(l))return h.get(l);var d=n.apply(this,o);return e.cache=h.set(l,d)||h,d};return e.cache=new(Zn.Cache||Map),Zn.cacheList.push(e.cache),e}Zn.Cache=Map,Zn.cacheList=[],Zn.clearCache=function(){Zn.cacheList.forEach(function(n){return n.clear()})};var Wt=function(n){return n[n.kUnknown=0]="kUnknown",n[n.kNumber=1]="kNumber",n[n.kPercentage=2]="kPercentage",n[n.kEms=3]="kEms",n[n.kPixels=4]="kPixels",n[n.kRems=5]="kRems",n[n.kDegrees=6]="kDegrees",n[n.kRadians=7]="kRadians",n[n.kGradians=8]="kGradians",n[n.kTurns=9]="kTurns",n[n.kMilliseconds=10]="kMilliseconds",n[n.kSeconds=11]="kSeconds",n[n.kInteger=12]="kInteger",n}({}),er=function(n){return n[n.kUNumber=0]="kUNumber",n[n.kUPercent=1]="kUPercent",n[n.kULength=2]="kULength",n[n.kUAngle=3]="kUAngle",n[n.kUTime=4]="kUTime",n[n.kUOther=5]="kUOther",n}({}),ys=function(n){return n[n.kYes=0]="kYes",n[n.kNo=1]="kNo",n}({}),xs=function(n){return n[n.kYes=0]="kYes",n[n.kNo=1]="kNo",n}({}),Es=[{name:"em",unit_type:Wt.kEms},{name:"px",unit_type:Wt.kPixels},{name:"deg",unit_type:Wt.kDegrees},{name:"rad",unit_type:Wt.kRadians},{name:"grad",unit_type:Wt.kGradians},{name:"ms",unit_type:Wt.kMilliseconds},{name:"s",unit_type:Wt.kSeconds},{name:"rem",unit_type:Wt.kRems},{name:"turn",unit_type:Wt.kTurns}],kr=function(n){return n[n.kUnknownType=0]="kUnknownType",n[n.kUnparsedType=1]="kUnparsedType",n[n.kKeywordType=2]="kKeywordType",n[n.kUnitType=3]="kUnitType",n[n.kSumType=4]="kSumType",n[n.kProductType=5]="kProductType",n[n.kNegateType=6]="kNegateType",n[n.kInvertType=7]="kInvertType",n[n.kMinType=8]="kMinType",n[n.kMaxType=9]="kMaxType",n[n.kClampType=10]="kClampType",n[n.kTransformType=11]="kTransformType",n[n.kPositionType=12]="kPositionType",n[n.kURLImageType=13]="kURLImageType",n[n.kColorType=14]="kColorType",n[n.kUnsupportedColorType=15]="kUnsupportedColorType",n}({}),Ms=function(r){return Es.find(function(e){return e.name===r}).unit_type},bs=function(r){return r?r==="number"?Wt.kNumber:r==="percent"||r==="%"?Wt.kPercentage:Ms(r):Wt.kUnknown},ks=function(r){switch(r){case Wt.kNumber:case Wt.kInteger:return er.kUNumber;case Wt.kPercentage:return er.kUPercent;case Wt.kPixels:return er.kULength;case Wt.kMilliseconds:case Wt.kSeconds:return er.kUTime;case Wt.kDegrees:case Wt.kRadians:case Wt.kGradians:case Wt.kTurns:return er.kUAngle;default:return er.kUOther}},Ts=function(r){switch(r){case er.kUNumber:return Wt.kNumber;case er.kULength:return Wt.kPixels;case er.kUPercent:return Wt.kPercentage;case er.kUTime:return Wt.kSeconds;case er.kUAngle:return Wt.kDegrees;default:return Wt.kUnknown}},ta=function(r){var e=1;switch(r){case Wt.kPixels:case Wt.kDegrees:case Wt.kSeconds:break;case Wt.kMilliseconds:e=.001;break;case Wt.kRadians:e=180/Math.PI;break;case Wt.kGradians:e=.9;break;case Wt.kTurns:e=360;break}return e},ci=function(r){switch(r){case Wt.kNumber:case Wt.kInteger:return"";case Wt.kPercentage:return"%";case Wt.kEms:return"em";case Wt.kRems:return"rem";case Wt.kPixels:return"px";case Wt.kDegrees:return"deg";case Wt.kRadians:return"rad";case Wt.kGradians:return"grad";case Wt.kMilliseconds:return"ms";case Wt.kSeconds:return"s";case Wt.kTurns:return"turn"}return""},Hr=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"toString",value:function(){return this.buildCSSText(ys.kNo,xs.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=kr.kUnitType&&this.getType()<=kr.kClampType}}],[{key:"isAngle",value:function(e){return e===Wt.kDegrees||e===Wt.kRadians||e===Wt.kGradians||e===Wt.kTurns}},{key:"isLength",value:function(e){return e>=Wt.kEms&&e<Wt.kDegrees}},{key:"isRelativeUnit",value:function(e){return e===Wt.kPercentage||e===Wt.kEms||e===Wt.kRems}},{key:"isTime",value:function(e){return e===Wt.kSeconds||e===Wt.kMilliseconds}}])}(),ws=function(n){function r(e){var t;return(0,U.Z)(this,r),t=(0,C.Z)(this,r),t.colorSpace=e,t}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"getType",value:function(){return kr.kColorType}},{key:"to",value:function(t){return this}}])}(Hr),Ar=function(n){return n[n.Constant=0]="Constant",n[n.LinearGradient=1]="LinearGradient",n[n.RadialGradient=2]="RadialGradient",n}({}),Yr=function(n){function r(e,t){var i;return(0,U.Z)(this,r),i=(0,C.Z)(this,r),i.type=e,i.value=t,i}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"clone",value:function(){return new r(this.type,this.value)}},{key:"buildCSSText",value:function(t,i,o){return o}},{key:"getType",value:function(){return kr.kColorType}}])}(Hr),Qn=function(n){function r(e){var t;return(0,U.Z)(this,r),t=(0,C.Z)(this,r),t.value=e,t}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"clone",value:function(){return new r(this.value)}},{key:"getType",value:function(){return kr.kKeywordType}},{key:"buildCSSText",value:function(t,i,o){return o+this.value}}])}(Hr),Ps=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t="";return Number.isFinite(r)?t="NaN":r>0?t="infinity":t="-infinity",t+=e},fi=function(r){return Ts(ks(r))},Mn=function(n){function r(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wt.kNumber;(0,U.Z)(this,r),t=(0,C.Z)(this,r);var o;return typeof i=="string"?o=bs(i):o=i,t.unit=o,t.value=e,t}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"clone",value:function(){return new r(this.value,this.unit)}},{key:"equals",value:function(t){var i=t;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return kr.kUnitType}},{key:"convertTo",value:function(t){if(this.unit===t)return new r(this.value,this.unit);var i=fi(this.unit);if(i!==fi(t)||i===Wt.kUnknown)return null;var o=ta(this.unit)/ta(t);return new r(this.value*o,t)}},{key:"buildCSSText",value:function(t,i,o){var s;switch(this.unit){case Wt.kUnknown:break;case Wt.kInteger:s=Number(this.value).toFixed(0);break;case Wt.kNumber:case Wt.kPercentage:case Wt.kEms:case Wt.kRems:case Wt.kPixels:case Wt.kDegrees:case Wt.kRadians:case Wt.kGradians:case Wt.kMilliseconds:case Wt.kSeconds:case Wt.kTurns:{var l=-999999,h=999999,d=this.value,D=ci(this.unit);if(d<l||d>h){var Y=ci(this.unit);!Number.isFinite(d)||Number.isNaN(d)?s=Ps(d,Y):s=d+(Y||"")}else s="".concat(d).concat(D)}}return o+=s,o}}])}(Hr),tr=new Mn(0,"px");new Mn(1,"px");var mr=new Mn(0,"deg"),hi=function(n){function r(e,t,i){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return(0,U.Z)(this,r),o=(0,C.Z)(this,r,["rgb"]),o.r=e,o.g=t,o.b=i,o.alpha=s,o.isNone=l,o}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"clone",value:function(){return new r(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(t,i,o){return"".concat(o,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(ws),na=new Qn("unset"),Ss=new Qn("initial"),Cs=new Qn("inherit"),vi={"":na,unset:na,initial:Ss,inherit:Cs},As=function(r){return vi[r]||(vi[r]=new Qn(r)),vi[r]},ra=new hi(0,0,0,0,!0),ia=new hi(0,0,0,0),Rs=Zn(function(n,r,e,t){return new hi(n,r,e,t)},function(n,r,e,t){return"rgba(".concat(n,",").concat(r,",").concat(e,",").concat(t,")")}),Pn=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wt.kNumber;return new Mn(r,e)};new Mn(50,"%");function Os(n){var r=n.type,e=n.value;return r==="hex"?"#".concat(e):r==="literal"?e:r==="rgb"?"rgb(".concat(e.join(","),")"):"rgba(".concat(e.join(","),")")}var Ls=function(){var n={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},r="";function e(Ut){throw new Error("".concat(r,": ").concat(Ut))}function t(){var Ut=i();return r.length>0&&e("Invalid input not EOF"),Ut}function i(){return ot(o)}function o(){return s("linear-gradient",n.linearGradient,h)||s("repeating-linear-gradient",n.repeatingLinearGradient,h)||s("radial-gradient",n.radialGradient,Y)||s("repeating-radial-gradient",n.repeatingRadialGradient,Y)||s("conic-gradient",n.conicGradient,Y)}function s(Ut,un,fn){return l(un,function(In){var Wn=fn();return Wn&&(cn(n.comma)||e("Missing comma before color stops")),{type:Ut,orientation:Wn,colorStops:ot(At)}})}function l(Ut,un){var fn=cn(Ut);if(fn){cn(n.startCall)||e("Missing (");var In=un(fn);return cn(n.endCall)||e("Missing )"),In}}function h(){return d()||D()}function d(){return on("directional",n.sideOrCorner,1)}function D(){return on("angular",n.angleValue,1)}function Y(){var Ut,un=he(),fn;return un&&(Ut=[],Ut.push(un),fn=r,cn(n.comma)&&(un=he(),un?Ut.push(un):r=fn)),Ut}function he(){var Ut=Pe()||Se();if(Ut)Ut.at=ze();else{var un=He();if(un){Ut=un;var fn=ze();fn&&(Ut.at=fn)}else{var In=rt();In&&(Ut={type:"default-radial",at:In})}}return Ut}function Pe(){var Ut=on("shape",/^(circle)/i,0);return Ut&&(Ut.style=jt()||He()),Ut}function Se(){var Ut=on("shape",/^(ellipse)/i,0);return Ut&&(Ut.style=kt()||He()),Ut}function He(){return on("extent-keyword",n.extentKeywords,1)}function ze(){if(on("position",/^at/,0)){var Ut=rt();return Ut||e("Missing positioning value"),Ut}}function rt(){var Ut=tt();if(Ut.x||Ut.y)return{type:"position",value:Ut}}function tt(){return{x:kt(),y:kt()}}function ot(Ut){var un=Ut(),fn=[];if(un)for(fn.push(un);cn(n.comma);)un=Ut(),un?fn.push(un):e("One extra comma");return fn}function At(){var Ut=Ye();return Ut||e("Expected color definition"),Ut.length=kt(),Ut}function Ye(){return Ue()||bt()||at()||Oe()}function Oe(){return on("literal",n.literalColor,0)}function Ue(){return on("hex",n.hexColor,1)}function at(){return l(n.rgbColor,function(){return{type:"rgb",value:ot(pt)}})}function bt(){return l(n.rgbaColor,function(){return{type:"rgba",value:ot(pt)}})}function pt(){return cn(n.number)[1]}function kt(){return on("%",n.percentageValue,1)||Lt()||jt()}function Lt(){return on("position-keyword",n.positionKeywords,1)}function jt(){return on("px",n.pixelValue,1)||on("em",n.emValue,1)}function on(Ut,un,fn){var In=cn(un);if(In)return{type:Ut,value:In[fn]}}function cn(Ut){var un=/^[\n\r\t\s]+/.exec(r);un&&vn(un[0].length);var fn=Ut.exec(r);return fn&&vn(fn[0].length),fn}function vn(Ut){r=r.substring(Ut)}return function(Ut){return r=Ut,t()}}();function Ns(n,r,e,t){var i=O(t.value),o=0,s=0,l=o+r/2,h=s+e/2,d=Math.abs(r*Math.cos(i))+Math.abs(e*Math.sin(i)),D=n[0]+l-Math.cos(i)*d/2,Y=n[1]+h-Math.sin(i)*d/2,he=n[0]+l+Math.cos(i)*d/2,Pe=n[1]+h+Math.sin(i)*d/2;return{x1:D,y1:Y,x2:he,y2:Pe}}function _s(n,r,e,t,i,o){var s=t.value,l=i.value;t.unit===Wt.kPercentage&&(s=t.value/100*r),i.unit===Wt.kPercentage&&(l=i.value/100*e);var h=Math.max((0,V.y)([0,0],[s,l]),(0,V.y)([0,e],[s,l]),(0,V.y)([r,e],[s,l]),(0,V.y)([r,0],[s,l]));return o&&(o instanceof Mn?h=o.value:o instanceof Qn&&(o.value==="closest-side"?h=Math.min(s,r-s,l,e-l):o.value==="farthest-side"?h=Math.max(s,r-s,l,e-l):o.value==="closest-corner"&&(h=Math.min((0,V.y)([0,0],[s,l]),(0,V.y)([0,e],[s,l]),(0,V.y)([r,e],[s,l]),(0,V.y)([r,0],[s,l]))))),{x:s+n[0],y:l+n[1],r:h}}var Is=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ds=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Zs=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,aa=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Bs(n){var r,e=n.length;if(n[e-1].length=(r=n[e-1].length)!==null&&r!==void 0?r:{type:"%",value:"100"},e>1){var t;n[0].length=(t=n[0].length)!==null&&t!==void 0?t:{type:"%",value:"0"}}for(var i=0,o=Number(n[0].length.value),s=1;s<e;s++){var l,h=(l=n[s].length)===null||l===void 0?void 0:l.value;if(!(0,j.Z)(h)&&!(0,j.Z)(o)){for(var d=1;d<s-i;d++)n[i+d].length={type:"%",value:"".concat(o+(Number(h)-o)*d/(s-i))};i=s,o=Number(h)}}}var Fs={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},Gs=Zn(function(n){var r;return n.type==="angular"?r=Number(n.value):r=Fs[n.value]||0,Pn(r,"deg")}),zs=Zn(function(n){var r=50,e=50,t="%",i="%";if((n==null?void 0:n.type)==="position"){var o=n.value,s=o.x,l=o.y;(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?r=0:s.value==="center"?r=50:s.value==="right"?r=100:s.value==="top"?e=0:s.value==="bottom"&&(e=100)),(l==null?void 0:l.type)==="position-keyword"&&(l.value==="left"?r=0:l.value==="center"?e=50:l.value==="right"?r=100:l.value==="top"?e=0:l.value==="bottom"&&(e=100)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(t=s==null?void 0:s.type,r=Number(s.value)),((l==null?void 0:l.type)==="px"||(l==null?void 0:l.type)==="%"||(l==null?void 0:l.type)==="em")&&(i=l==null?void 0:l.type,e=Number(l.value))}return{cx:Pn(r,t),cy:Pn(e,i)}}),Ws=Zn(function(n){if(n.indexOf("linear")>-1||n.indexOf("radial")>-1){var r=Ls(n);return r.map(function(l){var h=l.type,d=l.orientation,D=l.colorStops;Bs(D);var Y=D.map(function(ot){return{offset:Pn(Number(ot.length.value),"%"),color:Os(ot)}});if(h==="linear-gradient")return new Yr(Ar.LinearGradient,{angle:d?Gs(d):mr,steps:Y});if(h==="radial-gradient"&&(d||(d=[{type:"shape",value:"circle"}]),d[0].type==="shape"&&d[0].value==="circle")){var he=zs(d[0].at),Pe=he.cx,Se=he.cy,He;if(d[0].style){var ze=d[0].style,rt=ze.type,tt=ze.value;rt==="extent-keyword"?He=As(tt):He=Pn(tt,rt)}return new Yr(Ar.RadialGradient,{cx:Pe,cy:Se,size:He,steps:Y})}})}var e=n[0];if(n[1]==="("||n[2]==="("){if(e==="l"){var t=Is.exec(n);if(t){var i,o=((i=t[2].match(aa))===null||i===void 0?void 0:i.map(function(l){return l.split(":")}))||[];return[new Yr(Ar.LinearGradient,{angle:Pn(parseFloat(t[1]),"deg"),steps:o.map(function(l){var h=(0,X.Z)(l,2),d=h[0],D=h[1];return{offset:Pn(Number(d)*100,"%"),color:D}})})]}}else if(e==="r"){var s=Us(n);if(s)if((0,xe.Z)(s))n=s;else return[new Yr(Ar.RadialGradient,s)]}else if(e==="p")return Vs(n)}});function Us(n){var r=Ds.exec(n);if(r){var e,t=((e=r[4].match(aa))===null||e===void 0?void 0:e.map(function(i){return i.split(":")}))||[];return{cx:Pn(50,"%"),cy:Pn(50,"%"),steps:t.map(function(i){var o=(0,X.Z)(i,2),s=o[0],l=o[1];return{offset:Pn(Number(s)*100,"%"),color:l}})}}return null}function Vs(n){var r=Zs.exec(n);if(r){var e=r[1],t=r[2];switch(e){case"a":e="repeat";break;case"x":e="repeat-x";break;case"y":e="repeat-y";break;case"n":e="no-repeat";break;default:e="no-repeat"}return{image:t,repetition:e}}return null}function Ll(n){return!!n.type&&!!n.value}function sa(n){return n&&!!n.image}function di(n){return n&&!(0,j.Z)(n.r)&&!(0,j.Z)(n.g)&&!(0,j.Z)(n.b)}var Tr=Zn(function(n){if(sa(n))return(0,u.Z)({repetition:"repeat"},n);if((0,j.Z)(n)&&(n=""),n==="transparent")return ia;if(n==="currentColor")n="black";else if(n==="none")return ra;var r=Ws(n);if(r)return r;var e=zr(n),t=[0,0,0,0];return e!==null&&(t[0]=e.r||0,t[1]=e.g||0,t[2]=e.b||0,t[3]=e.opacity),Rs.apply(void 0,t)});function Hs(n,r){if(!(!di(n)||!di(r)))return[[Number(n.r),Number(n.g),Number(n.b),Number(n.alpha)],[Number(r.r),Number(r.g),Number(r.b),Number(r.alpha)],function(e){var t=e.slice();if(t[3])for(var i=0;i<3;i++)t[i]=Math.round((0,Le.Z)(t[i],0,255));return t[3]=(0,Le.Z)(t[3],0,1),"rgba(".concat(t.join(","),")")}]}function Rr(n,r){if((0,j.Z)(r))return Pn(0,"px");if(r="".concat(r).trim().toLowerCase(),isFinite(Number(r))){if("px".search(n)>=0)return Pn(Number(r),"px");if("deg".search(n)>=0)return Pn(Number(r),"deg")}var e=[];r=r.replace(n,function(i){return e.push(i),"U".concat(i)});var t="U(".concat(n.source,")");return e.map(function(i){return Pn(Number(r.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(t,"g"),"*0")),i)})[0]}var oa=function(r){return Rr(new RegExp("px","g"),r)},Ys=Zn(oa),$s=function(r){return Rr(new RegExp("%","g"),r)};Zn($s);var ua=function(r){return(0,N.Z)(r)||isFinite(Number(r))?Pn(Number(r)||0,"px"):Rr(new RegExp("px|%|em|rem","g"),r)},pi=Zn(ua),la=function(r){return Rr(new RegExp("deg|rad|grad|turn","g"),r)},Ks=Zn(la);function Xs(n,r,e,t){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o="",s=n.value||0,l=r.value||0,h=fi(n.unit),d=n.convertTo(h),D=r.convertTo(h);return d&&D?(s=d.value,l=D.value,o=ci(n.unit)):(Mn.isLength(n.unit)||Mn.isLength(r.unit))&&(s=jn(n,i,e),l=jn(r,i,e),o="px"),[s,l,function(Y){return t&&(Y=Math.max(Y,0)),Y+o}]}function $n(n){var r=0;return n.unit===Wt.kDegrees?r=n.value:n.unit===Wt.kRadians?r=Ne(Number(n.value)):n.unit===Wt.kTurns?r=wt(Number(n.value)):n.value&&(r=n.value),r}function ca(n,r){var e;return Array.isArray(n)?e=n.map(function(t){return Number(t)}):(0,xe.Z)(n)?e=n.split(" ").map(function(t){return Number(t)}):(0,N.Z)(n)&&(e=[n]),r===2?e.length===1?[e[0],e[0]]:[e[0],e[1]]:r===4?e.length===1?[e[0],e[0],e[0],e[0]]:e.length===2?[e[0],e[1],e[0],e[1]]:e.length===3?[e[0],e[1],e[2],e[1]]:[e[0],e[1],e[2],e[3]]:r==="even"&&e.length%2===1?[].concat((0,q.Z)(e),(0,q.Z)(e)):e}function jn(n,r,e){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(n.unit===Wt.kPixels)return Number(n.value);if(n.unit===Wt.kPercentage&&e){var i=e.nodeName===Vt.GROUP?e.getLocalBounds():e.getGeometryBounds();return(t?i.min[r]:0)+n.value/100*i.halfExtents[r]*2}return 0}var js=function(r){return Rr(/deg|rad|grad|turn|px|%/g,r)},Js=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Qs(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(n=n.toLowerCase().trim(),n==="none")return[];for(var r=/\s*([\w-]+)\(([^)]*)\)/g,e=[],t,i=0;t=r.exec(n);){if(t.index!==i)return[];if(i=t.index+t[0].length,Js.indexOf(t[1])>-1&&e.push({name:t[1],params:t[2].split(" ").map(function(o){return js(o)||Tr(o)})}),r.lastIndex===n.length)return e}return[]}function fa(n){return n.toString()}var ha=function(r){return typeof r=="number"?Pn(r):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(r)?Pn(Number(r)):Pn(0)},gi=Zn(ha);Zn(function(n){return(0,xe.Z)(n)?n.split(" ").map(gi):n.map(gi)});function mi(n,r){return[n,r,fa]}function yi(n,r){return function(e,t){return[e,t,function(i){return fa((0,Le.Z)(i,n,r))}]}}function va(n,r){if(n.length===r.length)return[n,r,function(e){return e}]}function xi(n){return n.parsedStyle.d.totalLength===0&&(n.parsedStyle.d.totalLength=P(n.parsedStyle.d.absolutePath)),n.parsedStyle.d.totalLength}function qs(n){return n.parsedStyle.points.totalLength===0&&(n.parsedStyle.points.totalLength=(0,xn.hE)(n.parsedStyle.points.points)),n.parsedStyle.points.totalLength}function eo(n){for(var r=0;r<n.length;r++){var e=n[r-1],t=n[r],i=t[0];if(i==="M"&&e){var o=e[0],s=[t[1],t[2]],l=void 0;o==="L"||o==="M"?l=[e[1],e[2]]:(o==="C"||o==="A"||o==="Q")&&(l=[e[e.length-2],e[e.length-1]]),l&&$r(s,l)&&(n.splice(r,1),r--)}}}function to(n){for(var r=!1,e=n.length,t=0;t<e;t++){var i=n[t],o=i[0];if(o==="C"||o==="A"||o==="Q"){r=!0;break}}return r}function no(n){for(var r=[],e=[],t=[],i=0;i<n.length;i++){var o=n[i],s=o[0];s==="M"?(t.length&&(e.push(t),t=[]),t.push([o[1],o[2]])):s==="Z"?t.length&&(r.push(t),t=[]):t.push([o[1],o[2]])}return t.length>0&&e.push(t),{polygons:r,polylines:e}}function $r(n,r){return n[0]===r[0]&&n[1]===r[1]}function ro(n,r){for(var e=[],t=[],i=[],o=0;o<n.length;o++){var s=n[o],l=s.currentPoint,h=s.params,d=s.prePoint,D=void 0;switch(s.command){case"Q":D=(0,xn.x4)(d[0],d[1],h[1],h[2],h[3],h[4]);break;case"C":D=(0,xn.l5)(d[0],d[1],h[1],h[2],h[3],h[4],h[5],h[6]);break;case"A":var Y=s.arcParams;D=(0,xn.vp)(Y.cx,Y.cy,Y.rx,Y.ry,Y.xRotation,Y.startAngle,Y.endAngle);break;default:e.push(l[0]),t.push(l[1]);break}D&&(s.box=D,e.push(D.x,D.x+D.width),t.push(D.y,D.y+D.height)),r&&(s.command==="L"||s.command==="M")&&s.prePoint&&s.nextPoint&&i.push(s)}e=e.filter(function(At){return!Number.isNaN(At)&&At!==1/0&&At!==-1/0}),t=t.filter(function(At){return!Number.isNaN(At)&&At!==1/0&&At!==-1/0});var he=(0,$.Z)(e),Pe=(0,$.Z)(t),Se=(0,a.Z)(e),He=(0,a.Z)(t);if(i.length===0)return{x:he,y:Pe,width:Se-he,height:He-Pe};for(var ze=0;ze<i.length;ze++){var rt=i[ze],tt=rt.currentPoint,ot=void 0;tt[0]===he?(ot=Kr(rt,r),he-=ot.xExtra):tt[0]===Se&&(ot=Kr(rt,r),Se+=ot.xExtra),tt[1]===Pe?(ot=Kr(rt,r),Pe-=ot.yExtra):tt[1]===He&&(ot=Kr(rt,r),He+=ot.yExtra)}return{x:he,y:Pe,width:Se-he,height:He-Pe}}function Kr(n,r){var e=n.prePoint,t=n.currentPoint,i=n.nextPoint,o=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2),s=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),l=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2),h=Math.acos((o+s-l)/(2*Math.sqrt(o)*Math.sqrt(s)));if(!h||Math.sin(h)===0||(0,c.Z)(h,0))return{xExtra:0,yExtra:0};var d=Math.abs(Math.atan2(i[1]-t[1],i[0]-t[0])),D=Math.abs(Math.atan2(i[0]-t[0],i[1]-t[1]));d=d>Math.PI/2?Math.PI-d:d,D=D>Math.PI/2?Math.PI-D:D;var Y={xExtra:Math.cos(h/2-d)*(r/2*(1/Math.sin(h/2)))-r/2||0,yExtra:Math.cos(D-h/2)*(r/2*(1/Math.sin(h/2)))-r/2||0};return Y}function da(n,r){return[r[0]+(r[0]-n[0]),r[1]+(r[1]-n[1])]}var pa=function(r,e){var t=r.x*e.x+r.y*e.y,i=Math.sqrt((Math.pow(r.x,2)+Math.pow(r.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2))),o=r.x*e.y-r.y*e.x<0?-1:1,s=o*Math.acos(t/i);return s},ga=function(r,e,t,i,o,s,l,h){e=Math.abs(e),t=Math.abs(t),i=J(i,360);var d=O(i);if(r.x===l.x&&r.y===l.y)return{x:r.x,y:r.y,ellipticalArcAngle:0};if(e===0||t===0)return{x:0,y:0,ellipticalArcAngle:0};var D=(r.x-l.x)/2,Y=(r.y-l.y)/2,he={x:Math.cos(d)*D+Math.sin(d)*Y,y:-Math.sin(d)*D+Math.cos(d)*Y},Pe=Math.pow(he.x,2)/Math.pow(e,2)+Math.pow(he.y,2)/Math.pow(t,2);Pe>1&&(e*=Math.sqrt(Pe),t*=Math.sqrt(Pe));var Se=Math.pow(e,2)*Math.pow(t,2)-Math.pow(e,2)*Math.pow(he.y,2)-Math.pow(t,2)*Math.pow(he.x,2),He=Math.pow(e,2)*Math.pow(he.y,2)+Math.pow(t,2)*Math.pow(he.x,2),ze=Se/He;ze=ze<0?0:ze;var rt=(o!==s?1:-1)*Math.sqrt(ze),tt={x:rt*(e*he.y/t),y:rt*(-(t*he.x)/e)},ot={x:Math.cos(d)*tt.x-Math.sin(d)*tt.y+(r.x+l.x)/2,y:Math.sin(d)*tt.x+Math.cos(d)*tt.y+(r.y+l.y)/2},At={x:(he.x-tt.x)/e,y:(he.y-tt.y)/t},Ye=pa({x:1,y:0},At),Oe={x:(-he.x-tt.x)/e,y:(-he.y-tt.y)/t},Ue=pa(At,Oe);!s&&Ue>0?Ue-=2*Math.PI:s&&Ue<0&&(Ue+=2*Math.PI),Ue%=2*Math.PI;var at=Ye+Ue*h,bt=e*Math.cos(at),pt=t*Math.sin(at),kt={x:Math.cos(d)*bt-Math.sin(d)*pt+ot.x,y:Math.sin(d)*bt+Math.cos(d)*pt+ot.y,ellipticalArcStartAngle:Ye,ellipticalArcEndAngle:Ye+Ue,ellipticalArcAngle:at,ellipticalArcCenter:ot,resultantRx:e,resultantRy:t};return kt};function io(n){for(var r=[],e=null,t=null,i=null,o=0,s=n.length,l=0;l<s;l++){var h=n[l];t=n[l+1];var d=h[0],D={command:d,prePoint:e,params:h,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(d){case"M":i=[h[1],h[2]],o=l;break;case"A":var Y=ao(e,h);D.arcParams=Y;break}if(d==="Z")e=i,t=n[o+1];else{var he=h.length;e=[h[he-2],h[he-1]]}t&&t[0]==="Z"&&(t=n[o],r[o]&&(r[o].prePoint=e)),D.currentPoint=e,r[o]&&$r(e,r[o].currentPoint)&&(r[o].prePoint=D.prePoint);var Pe=t?[t[t.length-2],t[t.length-1]]:null;D.nextPoint=Pe;var Se=D.prePoint;if(["L","H","V"].includes(d))D.startTangent=[Se[0]-e[0],Se[1]-e[1]],D.endTangent=[e[0]-Se[0],e[1]-Se[1]];else if(d==="Q"){var He=[h[1],h[2]];D.startTangent=[Se[0]-He[0],Se[1]-He[1]],D.endTangent=[e[0]-He[0],e[1]-He[1]]}else if(d==="T"){var ze=r[l-1],rt=da(ze.currentPoint,Se);ze.command==="Q"?(D.command="Q",D.startTangent=[Se[0]-rt[0],Se[1]-rt[1]],D.endTangent=[e[0]-rt[0],e[1]-rt[1]]):(D.command="TL",D.startTangent=[Se[0]-e[0],Se[1]-e[1]],D.endTangent=[e[0]-Se[0],e[1]-Se[1]])}else if(d==="C"){var tt=[h[1],h[2]],ot=[h[3],h[4]];D.startTangent=[Se[0]-tt[0],Se[1]-tt[1]],D.endTangent=[e[0]-ot[0],e[1]-ot[1]],D.startTangent[0]===0&&D.startTangent[1]===0&&(D.startTangent=[tt[0]-ot[0],tt[1]-ot[1]]),D.endTangent[0]===0&&D.endTangent[1]===0&&(D.endTangent=[ot[0]-tt[0],ot[1]-tt[1]])}else if(d==="S"){var At=r[l-1],Ye=da(At.currentPoint,Se),Oe=[h[1],h[2]];At.command==="C"?(D.command="C",D.startTangent=[Se[0]-Ye[0],Se[1]-Ye[1]],D.endTangent=[e[0]-Oe[0],e[1]-Oe[1]]):(D.command="SQ",D.startTangent=[Se[0]-Oe[0],Se[1]-Oe[1]],D.endTangent=[e[0]-Oe[0],e[1]-Oe[1]])}else if(d==="A"){var Ue=ma(D,0),at=Ue.x,bt=Ue.y,pt=ma(D,1,!1),kt=pt.x,Lt=pt.y;D.startTangent=[at,bt],D.endTangent=[kt,Lt]}r.push(D)}return r}function ma(n,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,t=n.arcParams,i=t.rx,o=i===void 0?0:i,s=t.ry,l=s===void 0?0:s,h=t.xRotation,d=t.arcFlag,D=t.sweepFlag,Y=ga({x:n.prePoint[0],y:n.prePoint[1]},o,l,h,!!d,!!D,{x:n.currentPoint[0],y:n.currentPoint[1]},r),he=ga({x:n.prePoint[0],y:n.prePoint[1]},o,l,h,!!d,!!D,{x:n.currentPoint[0],y:n.currentPoint[1]},e?r+.005:r-.005),Pe=he.x-Y.x,Se=he.y-Y.y,He=Math.sqrt(Pe*Pe+Se*Se);return{x:-Pe/He,y:-Se/He}}function Xr(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Ei(n,r){return Xr(n)*Xr(r)?(n[0]*r[0]+n[1]*r[1])/(Xr(n)*Xr(r)):1}function ya(n,r){return(n[0]*r[1]<n[1]*r[0]?-1:1)*Math.acos(Ei(n,r))}function ao(n,r){var e=r[1],t=r[2],i=J(O(r[3]),Math.PI*2),o=r[4],s=r[5],l=n[0],h=n[1],d=r[6],D=r[7],Y=Math.cos(i)*(l-d)/2+Math.sin(i)*(h-D)/2,he=-1*Math.sin(i)*(l-d)/2+Math.cos(i)*(h-D)/2,Pe=Y*Y/(e*e)+he*he/(t*t);Pe>1&&(e*=Math.sqrt(Pe),t*=Math.sqrt(Pe));var Se=e*e*(he*he)+t*t*(Y*Y),He=Se?Math.sqrt((e*e*(t*t)-Se)/Se):1;o===s&&(He*=-1),isNaN(He)&&(He=0);var ze=t?He*e*he/t:0,rt=e?He*-t*Y/e:0,tt=(l+d)/2+Math.cos(i)*ze-Math.sin(i)*rt,ot=(h+D)/2+Math.sin(i)*ze+Math.cos(i)*rt,At=[(Y-ze)/e,(he-rt)/t],Ye=[(-1*Y-ze)/e,(-1*he-rt)/t],Oe=ya([1,0],At),Ue=ya(At,Ye);return Ei(At,Ye)<=-1&&(Ue=Math.PI),Ei(At,Ye)>=1&&(Ue=0),s===0&&Ue>0&&(Ue-=2*Math.PI),s===1&&Ue<0&&(Ue+=2*Math.PI),{cx:tt,cy:ot,rx:$r(n,[d,D])?0:e,ry:$r(n,[d,D])?0:t,startAngle:Oe,endAngle:Oe+Ue,xRotation:i,arcFlag:o,sweepFlag:s}}function so(n,r,e){return n.reduce(function(t,i){var o="";if(i[0]==="M"||i[0]==="L"){var s=m.al(i[1],i[2],0);e&&m.fF(s,s,e),o="".concat(i[0]).concat(s[0],",").concat(s[1])}else if(i[0]==="Z")o=i[0];else if(i[0]==="C"){var l=m.al(i[1],i[2],0),h=m.al(i[3],i[4],0),d=m.al(i[5],i[6],0);e&&(m.fF(l,l,e),m.fF(h,h,e),m.fF(d,d,e)),o="".concat(i[0]).concat(l[0],",").concat(l[1],",").concat(h[0],",").concat(h[1],",").concat(d[0],",").concat(d[1])}else if(i[0]==="A"){var D=m.al(i[6],i[7],0);e&&m.fF(D,D,e),o="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],",").concat(i[5],",").concat(D[0],",").concat(D[1])}else if(i[0]==="Q"){var Y=m.al(i[1],i[2],0),he=m.al(i[3],i[4],0);e&&(m.fF(Y,Y,e),m.fF(he,he,e)),o="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],"}")}return t+=o},"")}function oo(n,r,e,t){return[["M",n,r],["L",e,t]]}function xa(n,r,e,t){var i=(-1+Math.sqrt(2))/3*4,o=n*i,s=r*i,l=e-n,h=e+n,d=t-r,D=t+r;return[["M",l,t],["C",l,t-s,e-o,d,e,d],["C",e+o,d,h,t-s,h,t],["C",h,t+s,e+o,D,e,D],["C",e-o,D,l,t+s,l,t],["Z"]]}function uo(n,r){var e=n.map(function(t,i){return[i===0?"M":"L",t[0],t[1]]});return r&&e.push(["Z"]),e}function lo(n,r,e,t,i){if(i){var o=(0,X.Z)(i,4),s=o[0],l=o[1],h=o[2],d=o[3],D=n>0?1:-1,Y=r>0?1:-1,he=D+Y!==0?1:0;return[["M",D*s+e,t],["L",n-D*l+e,t],l?["A",l,l,0,0,he,n+e,Y*l+t]:null,["L",n+e,r-Y*h+t],h?["A",h,h,0,0,he,n+e-D*h,r+t]:null,["L",e+D*d,r+t],d?["A",d,d,0,0,he,e,r+t-Y*d]:null,["L",e,Y*s+t],s?["A",s,s,0,0,he,D*s+e,t]:null,["Z"]].filter(function(Pe){return Pe})}return[["M",e,t],["L",e+n,t],["L",e+n,t+r],["L",e,t+r],["Z"]]}function co(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.getLocalTransform(),e=[];switch(n.nodeName){case Vt.LINE:var t=n.parsedStyle,i=t.x1,o=i===void 0?0:i,s=t.y1,l=s===void 0?0:s,h=t.x2,d=h===void 0?0:h,D=t.y2,Y=D===void 0?0:D;e=oo(o,l,d,Y);break;case Vt.CIRCLE:{var he=n.parsedStyle,Pe=he.r,Se=Pe===void 0?0:Pe,He=he.cx,ze=He===void 0?0:He,rt=he.cy,tt=rt===void 0?0:rt;e=xa(Se,Se,ze,tt);break}case Vt.ELLIPSE:{var ot=n.parsedStyle,At=ot.rx,Ye=At===void 0?0:At,Oe=ot.ry,Ue=Oe===void 0?0:Oe,at=ot.cx,bt=at===void 0?0:at,pt=ot.cy,kt=pt===void 0?0:pt;e=xa(Ye,Ue,bt,kt);break}case Vt.POLYLINE:case Vt.POLYGON:var Lt=n.parsedStyle.points;e=uo(Lt.points,n.nodeName===Vt.POLYGON);break;case Vt.RECT:var jt=n.parsedStyle,on=jt.width,cn=on===void 0?0:on,vn=jt.height,Ut=vn===void 0?0:vn,un=jt.x,fn=un===void 0?0:un,In=jt.y,Wn=In===void 0?0:In,nr=jt.radius,Yi=nr&&nr.some(function(Br){return Br!==0});e=lo(cn,Ut,fn,Wn,Yi&&nr.map(function(Br){return(0,Le.Z)(Br,0,Math.min(Math.abs(cn)/2,Math.abs(Ut)/2))}));break;case Vt.PATH:var $i=n.parsedStyle.d.absolutePath;e=(0,q.Z)($i);break}if(e.length)return so(e,n,r)}function Nl(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=n.map(function(s,l){var h=s[0],d=n[l+1],D=l===0&&(r!==0||e!==0),Y=(l===n.length-1||d&&(d[0]==="M"||d[0]==="Z"))&&t!==0&&i!==0,he=D?[r,e]:[0,0],Pe=_slicedToArray(he,2),Se=Pe[0],He=Pe[1],ze=Y?[t,i]:[0,0],rt=_slicedToArray(ze,2),tt=rt[0],ot=rt[1];switch(h){case"M":return"M ".concat(s[1]+Se,",").concat(s[2]+He);case"L":return"L ".concat(s[1]+tt,",").concat(s[2]+ot);case"Q":return"Q ".concat(s[1]," ").concat(s[2],",").concat(s[3]+tt," ").concat(s[4]+ot);case"C":return"C ".concat(s[1]," ").concat(s[2],",").concat(s[3]," ").concat(s[4],",").concat(s[5]+tt," ").concat(s[6]+ot);case"A":return"A ".concat(s[1]," ").concat(s[2]," ").concat(s[3]," ").concat(s[4]," ").concat(s[5]," ").concat(s[6]," ").concat(s[7]).concat(Y?" L ".concat(s[6]+t,",").concat(s[7]+i):"");case"Z":return"Z";default:return null}}).filter(function(s){return s!==null}).join(" ");return~o.indexOf("NaN")?"":o}var Ea=function(r){if(r===""||Array.isArray(r)&&r.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=G(r)}catch(Pe){e=G(""),console.error("[g]: Invalid SVG Path definition: ".concat(r))}eo(e);var t=to(e),i=no(e),o=i.polygons,s=i.polylines,l=io(e),h=ro(l,0),d=h.x,D=h.y,Y=h.width,he=h.height;return{absolutePath:e,hasArc:t,segments:l,polygons:o,polylines:s,totalLength:0,rect:{x:Number.isFinite(d)?d:0,y:Number.isFinite(D)?D:0,width:Number.isFinite(Y)?Y:0,height:Number.isFinite(he)?he:0}}},fo=Zn(Ea);function Ma(n){return(0,xe.Z)(n)?fo(n):Ea(n)}function ho(n,r,e){var t=n.curve,i=r.curve;(!t||t.length===0)&&(t=it(n.absolutePath,!1),n.curve=t),(!i||i.length===0)&&(i=it(r.absolutePath,!1),r.curve=i);var o=[t,i];t.length!==i.length&&(o=ce(t,i));var s=le(o[0])!==le(o[1])?Ze(o[0]):ht(o[0]);return[s,dt(o[1],s),function(l){return l}]}function vo(n,r){var e;return(0,xe.Z)(n)?e=n.split(" ").map(function(t){var i=t.split(","),o=(0,X.Z)(i,2),s=o[0],l=o[1];return[Number(s),Number(l)]}):e=n,{points:e,totalLength:0,segments:[]}}function po(n,r){return[n.points,r.points,function(e){return e}]}var Rn=null,wr=/\s*(\w+)\(([^)]*)\)/g;function Kn(n){return function(r){var e=0;return n.map(function(t){return t===Rn?r[e++]:t})}}function yr(n){return n}var Or={matrix:["NNNNNN",[Rn,Rn,0,0,Rn,Rn,0,0,0,0,1,0,Rn,Rn,0,1],yr],matrix3d:["NNNNNNNNNNNNNNNN",yr],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Kn([Rn,Rn,new Mn(1)]),yr],scaleX:["N",Kn([Rn,new Mn(1),new Mn(1)]),Kn([Rn,new Mn(1)])],scaleY:["N",Kn([new Mn(1),Rn,new Mn(1)]),Kn([new Mn(1),Rn])],scaleZ:["N",Kn([new Mn(1),new Mn(1),Rn])],scale3d:["NNN",yr],skew:["Aa",null,yr],skewX:["A",null,Kn([Rn,mr])],skewY:["A",null,Kn([mr,Rn])],translate:["Tt",Kn([Rn,Rn,tr]),yr],translateX:["T",Kn([Rn,tr,tr]),Kn([Rn,tr])],translateY:["T",Kn([tr,Rn,tr]),Kn([tr,Rn])],translateZ:["L",Kn([tr,tr,Rn])],translate3d:["TTL",yr]};function ba(n){for(var r=[],e=n.length,t=0;t<e;t++){var i=n[t],o=i[0],s=i.slice(1);o==="translate"||o==="skew"?s.length===1&&s.push(0):o==="scale"&&s.length===1&&s.push(s[0]);var l=Or[o];if(!l)return[];var h=s.map(function(d){return Pn(d)});r.push({t:o,d:h})}return r}function ka(n){if(Array.isArray(n))return ba(n);if(n=(n||"none").trim(),n==="none")return[];var r=[],e,t=0;for(wr.lastIndex=0;e=wr.exec(n);){if(e.index!==t)return[];t=e.index+e[0].length;var i=e[1],o=Or[i];if(!o)return[];var s=e[2].split(","),l=o[0];if(l.length<s.length)return[];for(var h=[],d=0;d<l.length;d++){var D=s[d],Y=l[d],he=void 0;if(D?he={A:function(Se){return Se.trim()==="0"?mr:Ks(Se)},N:gi,T:pi,L:Ys}[Y.toUpperCase()](D):he={a:mr,n:h[0],t:tr}[Y],he===void 0)return[];h.push(he)}if(r.push({t:i,d:h}),wr.lastIndex===n.length)return r}return[]}function go(n){if(Array.isArray(n))return ba(n);if(n=(n||"none").trim(),n==="none")return[];var r=[],e,t=0;for(wr.lastIndex=0;e=wr.exec(n);){if(e.index!==t)return[];t=e.index+e[0].length;var i=e[1],o=Or[i];if(!o)return[];var s=e[2].split(","),l=o[0];if(l.length<s.length)return[];for(var h=[],d=0;d<l.length;d++){var D=s[d],Y=l[d],he=void 0;if(D?he={A:function(Se){return Se.trim()==="0"?mr:la(Se)},N:ha,T:ua,L:oa}[Y.toUpperCase()](D):he={a:mr,n:h[0],t:tr}[Y],he===void 0)return[];h.push(he)}if(r.push({t:i,d:h}),wr.lastIndex===n.length)return r}return[]}function mo(n){var r,e,t,i;switch(n.t){case"rotateX":return i=O($n(n.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=O($n(n.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=O($n(n.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":r=n.d[0].value,e=n.d[1].value,t=n.d[2].value,i=O($n(n.d[3]));var o=r*r+e*e+t*t;if(o===0)r=1,e=0,t=0;else if(o!==1){var s=Math.sqrt(o);r/=s,e/=s,t/=s}var l=Math.sin(i/2),h=l*Math.cos(i/2),d=l*l;return[1-2*(e*e+t*t)*d,2*(r*e*d+t*h),2*(r*t*d-e*h),0,2*(r*e*d-t*h),1-2*(r*r+t*t)*d,2*(e*t*d+r*h),0,2*(r*t*d+e*h),2*(e*t*d-r*h),1-2*(r*r+e*e)*d,0,0,0,0,1];case"scale":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[n.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,n.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,n.d[0].value,0,0,0,0,1];case"scale3d":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,n.d[2].value,0,0,0,0,1];case"skew":var D=O($n(n.d[0])),Y=O($n(n.d[1]));return[1,Math.tan(Y),0,0,Math.tan(D),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=O($n(n.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=O($n(n.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return r=jn(n.d[0],0,null)||0,e=jn(n.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,r,e,0,1];case"translateX":return r=jn(n.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,r,0,0,1];case"translateY":return e=jn(n.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,e,0,1];case"translateZ":return t=jn(n.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,t,1];case"translate3d":return r=jn(n.d[0],0,null)||0,e=jn(n.d[1],0,null)||0,t=jn(n.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,r,e,t,1];case"perspective":var he=jn(n.d[0],0,null)||0,Pe=he?-1/he:0;return[1,0,0,0,0,1,0,0,0,0,1,Pe,0,0,0,1];case"matrix":return[n.d[0].value,n.d[1].value,0,0,n.d[2].value,n.d[3].value,0,0,0,0,1,0,n.d[4].value,n.d[5].value,0,1];case"matrix3d":return n.d.map(function(Se){return Se.value})}}function yo(n,r){return[n[0]*r[0]+n[4]*r[1]+n[8]*r[2]+n[12]*r[3],n[1]*r[0]+n[5]*r[1]+n[9]*r[2]+n[13]*r[3],n[2]*r[0]+n[6]*r[1]+n[10]*r[2]+n[14]*r[3],n[3]*r[0]+n[7]*r[1]+n[11]*r[2]+n[15]*r[3],n[0]*r[4]+n[4]*r[5]+n[8]*r[6]+n[12]*r[7],n[1]*r[4]+n[5]*r[5]+n[9]*r[6]+n[13]*r[7],n[2]*r[4]+n[6]*r[5]+n[10]*r[6]+n[14]*r[7],n[3]*r[4]+n[7]*r[5]+n[11]*r[6]+n[15]*r[7],n[0]*r[8]+n[4]*r[9]+n[8]*r[10]+n[12]*r[11],n[1]*r[8]+n[5]*r[9]+n[9]*r[10]+n[13]*r[11],n[2]*r[8]+n[6]*r[9]+n[10]*r[10]+n[14]*r[11],n[3]*r[8]+n[7]*r[9]+n[11]*r[10]+n[15]*r[11],n[0]*r[12]+n[4]*r[13]+n[8]*r[14]+n[12]*r[15],n[1]*r[12]+n[5]*r[13]+n[9]*r[14]+n[13]*r[15],n[2]*r[12]+n[6]*r[13]+n[10]*r[14]+n[14]*r[15],n[3]*r[12]+n[7]*r[13]+n[11]*r[14]+n[15]*r[15]]}function xo(n){return n.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:n.map(mo).reduce(yo)}function Ta(n){var r=[0,0,0],e=[1,1,1],t=[0,0,0],i=[0,0,0,1],o=[0,0,0,1];return $e(xo(n),r,e,t,i,o),[[r,e,t,o,i]]}var Eo=function(){function n(t,i){for(var o=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],s=0;s<4;s++)for(var l=0;l<4;l++)for(var h=0;h<4;h++)o[s][l]+=i[s][h]*t[h][l];return o}function r(t){return t[0][2]===0&&t[0][3]===0&&t[1][2]===0&&t[1][3]===0&&t[2][0]===0&&t[2][1]===0&&t[2][2]===1&&t[2][3]===0&&t[3][2]===0&&t[3][3]===1}function e(t,i,o,s,l){for(var h=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],d=0;d<4;d++)h[d][3]=l[d];for(var D=0;D<3;D++)for(var Y=0;Y<3;Y++)h[3][D]+=t[Y]*h[Y][D];var he=s[0],Pe=s[1],Se=s[2],He=s[3],ze=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];ze[0][0]=1-2*(Pe*Pe+Se*Se),ze[0][1]=2*(he*Pe-Se*He),ze[0][2]=2*(he*Se+Pe*He),ze[1][0]=2*(he*Pe+Se*He),ze[1][1]=1-2*(he*he+Se*Se),ze[1][2]=2*(Pe*Se-he*He),ze[2][0]=2*(he*Se-Pe*He),ze[2][1]=2*(Pe*Se+he*He),ze[2][2]=1-2*(he*he+Pe*Pe),h=n(h,ze);var rt=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];o[2]&&(rt[2][1]=o[2],h=n(h,rt)),o[1]&&(rt[2][1]=0,rt[2][0]=o[0],h=n(h,rt)),o[0]&&(rt[2][0]=0,rt[1][0]=o[0],h=n(h,rt));for(var tt=0;tt<3;tt++)for(var ot=0;ot<3;ot++)h[tt][ot]*=i[tt];return r(h)?[h[0][0],h[0][1],h[1][0],h[1][1],h[3][0],h[3][1]]:h[0].concat(h[1],h[2],h[3])}return e}();function Mo(n){return n.toFixed(6).replace(".000000","")}function Mi(n,r){var e,t;return n.decompositionPair!==r&&(n.decompositionPair=r,e=Ta(n)),r.decompositionPair!==n&&(r.decompositionPair=n,t=Ta(r)),e[0]===null||t[0]===null?[[!1],[!0],function(i){return i?r[0].d:n[0].d}]:(e[0].push(0),t[0].push(1),[e,t,function(i){var o=ko(e[0][3],t[0][3],i[5]),s=Eo(i[0],i[1],i[2],o,i[4]),l=s.map(Mo).join(",");return l}])}function bo(n,r){for(var e=0,t=0;t<n.length;t++)e+=n[t]*r[t];return e}function ko(n,r,e){var t=bo(n,r);t=(0,Le.Z)(t,-1,1);var i=[];if(t===1)i=n;else for(var o=Math.acos(t),s=Math.sin(e*o)*1/Math.sqrt(1-t*t),l=0;l<4;l++)i.push(n[l]*(Math.cos(e*o)-t*s)+r[l]*s);return i}function bi(n){return n.replace(/[XY]/,"")}function ki(n){return n.replace(/(X|Y|Z|3d)?$/,"3d")}var To=function(r,e){return r==="perspective"&&e==="perspective"||(r==="matrix"||r==="matrix3d")&&(e==="matrix"||e==="matrix3d")};function wo(n,r,e){var t=!1;if(!n.length||!r.length){n.length||(t=!0,n=r,r=[]);for(var i=function(){var kt=n[o],Lt=kt.t,jt=kt.d,on=Lt.substring(0,5)==="scale"?1:0;r.push({t:Lt,d:jt.map(function(cn){return typeof cn=="number"?Pn(on):Pn(on,cn.unit)})})},o=0;o<n.length;o++)i()}var s=[],l=[],h=[];if(n.length!==r.length){var d=Mi(n,r);s=[d[0]],l=[d[1]],h=[["matrix",[d[2]]]]}else for(var D=0;D<n.length;D++){var Y=n[D].t,he=r[D].t,Pe=n[D].d,Se=r[D].d,He=Or[Y],ze=Or[he],rt=void 0;if(To(Y,he)){var tt=Mi([n[D]],[r[D]]);s.push(tt[0]),l.push(tt[1]),h.push(["matrix",[tt[2]]]);continue}else if(Y===he)rt=Y;else if(He[2]&&ze[2]&&bi(Y)===bi(he))rt=bi(Y),Pe=He[2](Pe),Se=ze[2](Se);else if(He[1]&&ze[1]&&ki(Y)===ki(he))rt=ki(Y),Pe=He[1](Pe),Se=ze[1](Se);else{var ot=Mi(n,r);s=[ot[0]],l=[ot[1]],h=[["matrix",[ot[2]]]];break}for(var At=[],Ye=[],Oe=[],Ue=0;Ue<Pe.length;Ue++){var at=Xs(Pe[Ue],Se[Ue],e,!1,Ue);At[Ue]=at[0],Ye[Ue]=at[1],Oe.push(at[2])}s.push(At),l.push(Ye),h.push([rt,Oe])}if(t){var bt=s;s=l,l=bt}return[s,l,function(pt){return pt.map(function(kt,Lt){var jt=kt.map(function(on,cn){return h[Lt][1][cn](on)}).join(",");return h[Lt][0]==="matrix"&&jt.split(",").length===16&&(h[Lt][0]="matrix3d"),h[Lt][0]==="matrix3d"&&jt.split(",").length===6&&(h[Lt][0]="matrix"),"".concat(h[Lt][0],"(").concat(jt,")")}).join(" ")}]}var Po=Zn(function(n){if((0,xe.Z)(n)){if(n==="text-anchor")return[Pn(0,"px"),Pn(0,"px")];var r=n.split(" ");return r.length===1&&(r[0]==="top"||r[0]==="bottom"?(r[1]=r[0],r[0]="center"):r[1]="center"),r.length!==2?null:[pi(wa(r[0])),pi(wa(r[1]))]}return[Pn(n[0]||0,"px"),Pn(n[1]||0,"px")]});function wa(n){return n==="center"?"50%":n==="left"||n==="top"?"0%":n==="right"||n==="bottom"?"100%":n}var Ti=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Tt.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Tt.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Tt.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Tt.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Tt.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Tt.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Tt.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Tt.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Tt.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Tt.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Tt.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Tt.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Tt.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Tt.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Tt.FILTER},{n:"clipPath",syntax:Tt.DEFINED_PATH},{n:"textPath",syntax:Tt.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Tt.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Tt.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Tt.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Tt.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Tt.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Tt.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Tt.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Tt.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Tt.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Tt.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Tt.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Tt.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Tt.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Tt.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Tt.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Tt.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Tt.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Tt.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Tt.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Tt.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Tt.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Tt.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Tt.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Tt.NUMBER,d:function(r){return r===Vt.PATH||r===Vt.POLYGON||r===Vt.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Tt.MARKER},{n:"markerEnd",syntax:Tt.MARKER},{n:"markerMid",syntax:Tt.MARKER},{n:"markerStartOffset",syntax:Tt.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Tt.LENGTH,l:!0,int:!0,d:"0"}],So=new Set(Ti.filter(function(n){return!!n.l}).map(function(n){return n.n})),Pa={},Co=function(){function n(r){var e=this;(0,U.Z)(this,n),this.runtime=r,Ti.forEach(function(t){e.registerMetadata(t)})}return(0,H.Z)(n,[{key:"registerMetadata",value:function(e){[e.n].concat((0,q.Z)(e.a||[])).forEach(function(t){Pa[t]=e})}},{key:"getPropertySyntax",value:function(e){return this.runtime.CSSPropertySyntaxFactory[e]}},{key:"processProperties",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(e.attributes,t);var o=e.parsedStyle.clipPath,s=e.parsedStyle.offsetPath;Ao(e,t);var l=!!i.forceUpdateGeometry;if(!l){for(var h in t)if(So.has(h)){l=!0;break}}var d=Sa(e);d.has("fill")&&t.fill&&(e.parsedStyle.fill=Tr(t.fill)),d.has("stroke")&&t.stroke&&(e.parsedStyle.stroke=Tr(t.stroke)),d.has("shadowColor")&&t.shadowColor&&(e.parsedStyle.shadowColor=Tr(t.shadowColor)),d.has("filter")&&t.filter&&(e.parsedStyle.filter=Qs(t.filter)),d.has("radius")&&!(0,j.Z)(t.radius)&&(e.parsedStyle.radius=ca(t.radius,4)),d.has("lineDash")&&!(0,j.Z)(t.lineDash)&&(e.parsedStyle.lineDash=ca(t.lineDash,"even")),d.has("points")&&t.points&&(e.parsedStyle.points=vo(t.points)),d.has("d")&&t.d===""&&(e.parsedStyle.d=(0,u.Z)({},dn)),d.has("d")&&t.d&&(e.parsedStyle.d=Ma(t.d)),d.has("textTransform")&&t.textTransform&&this.runtime.CSSPropertySyntaxFactory[Tt.TEXT_TRANSFORM].calculator(null,null,{value:t.textTransform},e,null),d.has("clipPath")&&!(0,ct.Z)(t.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Tt.DEFINED_PATH].calculator("clipPath",o,t.clipPath,e,this.runtime),d.has("offsetPath")&&t.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Tt.DEFINED_PATH].calculator("offsetPath",s,t.offsetPath,e,this.runtime),d.has("transform")&&t.transform&&(e.parsedStyle.transform=ka(t.transform)),d.has("transformOrigin")&&t.transformOrigin&&(e.parsedStyle.transformOrigin=Po(t.transformOrigin)),d.has("markerStart")&&t.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Tt.MARKER].calculator(null,t.markerStart,t.markerStart,null,null)),d.has("markerEnd")&&t.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Tt.MARKER].calculator(null,t.markerEnd,t.markerEnd,null,null)),d.has("markerMid")&&t.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Tt.MARKER].calculator("",t.markerMid,t.markerMid,null,null)),d.has("zIndex")&&!(0,j.Z)(t.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Tt.Z_INDEX].postProcessor(e),d.has("offsetDistance")&&!(0,j.Z)(t.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Tt.OFFSET_DISTANCE].postProcessor(e),d.has("transform")&&t.transform&&this.runtime.CSSPropertySyntaxFactory[Tt.TRANSFORM].postProcessor(e),d.has("transformOrigin")&&t.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Tt.TRANSFORM_ORIGIN].postProcessor(e),l&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e))}},{key:"updateGeometry",value:function(e){var t=e.nodeName,i=this.runtime.geometryUpdaterFactory[t];if(i){var o=e.geometry;o.contentBounds||(o.contentBounds=new fe),o.renderBounds||(o.renderBounds=new fe);var s=e.parsedStyle,l=i.update(s,e),h=l.cx,d=h===void 0?0:h,D=l.cy,Y=D===void 0?0:D,he=l.cz,Pe=he===void 0?0:he,Se=l.hwidth,He=Se===void 0?0:Se,ze=l.hheight,rt=ze===void 0?0:ze,tt=l.hdepth,ot=tt===void 0?0:tt,At=[Math.abs(He),Math.abs(rt),ot],Ye=s.stroke,Oe=s.lineWidth,Ue=Oe===void 0?1:Oe,at=s.increasedLineWidthForHitTesting,bt=at===void 0?0:at,pt=s.shadowType,kt=pt===void 0?"outer":pt,Lt=s.shadowColor,jt=s.filter,on=jt===void 0?[]:jt,cn=s.transformOrigin,vn=[d,Y,Pe];o.contentBounds.update(vn,At);var Ut=t===Vt.POLYLINE||t===Vt.POLYGON||t===Vt.PATH?Math.SQRT2:.5,un=Ye&&!Ye.isNone;if(un){var fn=((Ue||0)+(bt||0))*Ut;At[0]+=fn,At[1]+=fn}if(o.renderBounds.update(vn,At),Lt&&kt&&kt!=="inner"){var In=o.renderBounds,Wn=In.min,nr=In.max,Yi=s.shadowBlur,$i=s.shadowOffsetX,Br=s.shadowOffsetY,ai=Yi||0,ns=$i||0,rs=Br||0,bl=Wn[0]-ai+ns,kl=nr[0]+ai+ns,Tl=Wn[1]-ai+rs,wl=nr[1]+ai+rs;Wn[0]=Math.min(Wn[0],bl),nr[0]=Math.max(nr[0],kl),Wn[1]=Math.min(Wn[1],Tl),nr[1]=Math.max(nr[1],wl),o.renderBounds.setMinMax(Wn,nr)}on.forEach(function(ss){var os=ss.name,si=ss.params;if(os==="blur"){var us=si[0].value;o.renderBounds.update(o.renderBounds.center,m.IH(o.renderBounds.halfExtents,o.renderBounds.halfExtents,[us,us,0]))}else if(os==="drop-shadow"){var ls=si[0].value,cs=si[1].value,oi=si[2].value,fs=o.renderBounds,Mr=fs.min,br=fs.max,Cl=Mr[0]-oi+ls,Al=br[0]+oi+ls,Rl=Mr[1]-oi+cs,Ol=br[1]+oi+cs;Mr[0]=Math.min(Mr[0],Cl),br[0]=Math.max(br[0],Al),Mr[1]=Math.min(Mr[1],Rl),br[1]=Math.max(br[1],Ol),o.renderBounds.setMinMax(Mr,br)}}),e.geometry.dirty=!1;var Pl=He<0,Sl=rt<0,is=(Pl?-1:1)*(cn?jn(cn[0],0,e,!0):0),as=(Sl?-1:1)*(cn?jn(cn[1],1,e,!0):0);(is||as)&&e.setOrigin(is,as)}}},{key:"updateSizeAttenuation",value:function(e,t){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/t,e.nodeName===Vt.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/t)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===Vt.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))}}])}();function Ao(n,r){var e=Sa(n);for(var t in r)e.has(t)&&(n.parsedStyle[t]=r[t])}function Sa(n){return n.constructor.PARSED_STYLE_LIST}var Ro=function(){function n(){(0,U.Z)(this,n),this.mixer=mi}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i,o){return $n(i)}}])}(),Oo=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i,o,s){return i instanceof Qn&&(i=null),s.sceneGraphService.updateDisplayObjectDependency(e,t,i,o),e==="clipPath"&&o.forEach(function(l){l.childNodes.length===0&&s.sceneGraphService.dirtifyToRoot(l)}),i}}])}(),Lo=function(){function n(){(0,U.Z)(this,n),this.parser=Tr,this.mixer=Hs}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i,o){return i instanceof Qn?i.value==="none"?ra:ia:i}}])}(),No=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i){return i instanceof Qn?[]:i}}])}();function Ca(n){var r=n.parsedStyle,e=r.fontSize;return(0,j.Z)(e)?null:e}var wi=function(){function n(){(0,U.Z)(this,n),this.mixer=mi}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i,o,s){if((0,N.Z)(i))return i;if(Mn.isRelativeUnit(i.unit)){if(i.unit===Wt.kPercentage)return 0;if(i.unit===Wt.kEms){if(o.parentNode){var l=Ca(o.parentNode);if(l)return l*=i.value,l}return 0}if(i.unit===Wt.kRems){var h;if(o!=null&&(h=o.ownerDocument)!==null&&h!==void 0&&h.documentElement){var d=Ca(o.ownerDocument.documentElement);if(d)return d*=i.value,d}return 0}}else return i.value}}])}(),_o=function(){function n(){(0,U.Z)(this,n),this.mixer=va}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i){return i.map(function(o){return o.value})}}])}(),Io=function(){function n(){(0,U.Z)(this,n),this.mixer=va}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i){return i.map(function(o){return o.value})}}])}(),Do=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i,o){var s;i instanceof Qn&&(i=null);var l=(s=i)===null||s===void 0?void 0:s.cloneNode(!0);return l&&(l.style.isMarker=!0),l}}])}(),Zo=function(){function n(){(0,U.Z)(this,n),this.mixer=mi}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i){return i.value}}])}(),Bo=function(){function n(){(0,U.Z)(this,n),this.mixer=yi(0,1)}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i){return i.value}},{key:"postProcessor",value:function(e){var t=e.parsedStyle,i=t.offsetPath,o=t.offsetDistance;if(i){var s=i.nodeName;if(s===Vt.LINE||s===Vt.PATH||s===Vt.POLYLINE){var l=i.getPoint(o);l&&e.setLocalPosition(l.x,l.y)}}}}])}(),Fo=function(){function n(){(0,U.Z)(this,n),this.mixer=yi(0,1)}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i){return i.value}}])}(),Go=function(){function n(){(0,U.Z)(this,n),this.parser=Ma,this.mixer=ho}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i){return i instanceof Qn&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Ve(0,0,0,0)}:i}}])}(),zo=(0,H.Z)(function n(){(0,U.Z)(this,n),this.mixer=po}),Wo=function(n){function r(){var e;(0,U.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=(0,C.Z)(this,r,[].concat(i)),e.mixer=yi(0,1/0),e}return(0,ee.Z)(r,n),(0,H.Z)(r)}(wi),Uo=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i,o){return i instanceof Qn?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(e){e.nodeValue="".concat(e.parsedStyle.text)||""}}])}(),Vo=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i,o){var s=o.getAttribute("text");if(s){var l=s;i.value==="capitalize"?l=s.charAt(0).toUpperCase()+s.slice(1):i.value==="lowercase"?l=s.toLowerCase():i.value==="uppercase"&&(l=s.toUpperCase()),o.parsedStyle.text=l}return i.value}}])}(),_l=function(r){return Object.fromEntries(Object.entries(r).filter(function(e){var t=_slicedToArray(e,2),i=t[1];return i!==void 0}))},Pi=new WeakMap;function Ho(n,r,e){if(n){var t=typeof n=="string"?document.getElementById(n):n;Pi.has(t)&&Pi.get(t).destroy(e),Pi.set(t,r)}}var Si=typeof window!="undefined"&&typeof window.document!="undefined";function Yo(n){return!!n.getAttribute}function $o(n,r){for(var e=0,t=n.length;e<t;){var i=e+t>>>1;Aa(n[i],r)<0?e=i+1:t=i}return e}function Aa(n,r){var e=Number(n.parsedStyle.zIndex||0),t=Number(r.parsedStyle.zIndex||0);if(e===t){var i=n.parentNode;if(i){var o=i.childNodes||[];return o.indexOf(n)-o.indexOf(r)}}return e-t}function Ra(n){var r=n;do{var e,t=(e=r.parsedStyle)===null||e===void 0?void 0:e.clipPath;if(t)return r;r=r.parentElement}while(r!==null);return null}var Oa="px";function Ko(n,r,e){Si&&n.style&&(n.style.width=r+Oa,n.style.height=e+Oa)}function La(n,r){if(Si)return document.defaultView.getComputedStyle(n,null).getPropertyValue(r)}function Xo(n){var r=La(n,"width");return r==="auto"?n.offsetWidth:parseFloat(r)}function jo(n){var r=La(n,"height");return r==="auto"?n.offsetHeight:parseFloat(r)}var Jo=1,Qo={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Ci=typeof performance=="object"&&performance.now?performance:Date;function jr(n){return n.nodeName===Vt.FRAGMENT?!0:n.getRootNode().nodeName===Vt.FRAGMENT}function qo(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",r=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0,t=!1,i=!1,o=!!r&&!r.isNone,s=!!e&&!e.isNone;return n==="visiblepainted"||n==="painted"||n==="auto"?(t=o,i=s):n==="visiblefill"||n==="fill"?t=!0:n==="visiblestroke"||n==="stroke"?i=!0:(n==="visible"||n==="all")&&(t=!0,i=!0),[t,i]}var eu=1,tu=function(){return eu++},ar=typeof self=="object"&&self.self===self?self:typeof y.g=="object"&&y.g.global===y.g?y.g:{},nu=Date.now(),ru=function(){return ar.performance&&typeof ar.performance.now=="function"?ar.performance.now():Date.now()-nu},Lr={},Na=Date.now(),iu=function(r){if(typeof r!="function")throw new TypeError("".concat(r," is not a function"));var e=Date.now(),t=e-Na,i=t>16?0:16-t,o=tu();return Lr[o]=r,Object.keys(Lr).length>1||setTimeout(function(){Na=e;var s=Lr;Lr={},Object.keys(s).forEach(function(l){return s[l](ru())})},i),o},au=function(r){delete Lr[r]},su=["","webkit","moz","ms","o"],_a=function(r){return typeof r!="string"?iu:r===""?ar.requestAnimationFrame:ar["".concat(r,"RequestAnimationFrame")]},ou=function(r){return typeof r!="string"?au:r===""?ar.cancelAnimationFrame:ar["".concat(r,"CancelAnimationFrame")]||ar["".concat(r,"CancelRequestAnimationFrame")]},uu=function(r,e){for(var t=0;r[t]!==void 0;){if(e(r[t]))return r[t];t+=1}},Ia=uu(su,function(n){return!!_a(n)}),Ai=_a(Ia),Da=ou(Ia);ar.requestAnimationFrame=Ai,ar.cancelAnimationFrame=Da;var lu=function(){function n(){(0,U.Z)(this,n),this.callbacks=[]}return(0,H.Z)(n,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Promise.all(this.callbacks.map(function(o){return o.apply(void 0,t)}))}}])}(),cu=function(){function n(){(0,U.Z)(this,n),this.callbacks=[]}return(0,H.Z)(n,[{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:function(){var r=(0,bn.Z)((0,En.Z)().mark(function t(){var i,o,s,l,h=arguments;return(0,En.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!this.callbacks.length){D.next=14;break}return D.next=3,(i=this.callbacks)[0].apply(i,h);case 3:o=D.sent,s=0;case 5:if(!(s<this.callbacks.length-1)){D.next=13;break}return l=this.callbacks[s],D.next=9,l(o);case 9:o=D.sent;case 10:s++,D.next=5;break;case 13:return D.abrupt("return",o);case 14:return D.abrupt("return",null);case 15:case"end":return D.stop()}},t,this)}));function e(){return r.apply(this,arguments)}return e}()}])}(),Vn=function(){function n(){(0,U.Z)(this,n),this.callbacks=[]}return(0,H.Z)(n,[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=arguments;this.callbacks.forEach(function(s){s.apply(void 0,o)})}}])}(),Ri=function(){function n(){(0,U.Z)(this,n),this.callbacks=[]}return(0,H.Z)(n,[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(this.callbacks.length){for(var o=arguments,s=this.callbacks[0].apply(void 0,o),l=0;l<this.callbacks.length-1;l++){var h=this.callbacks[l];s=h(s)}return s}return null}}])}(),fu=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],hu=/([\"\'])[^\'\"]+\1/;function vu(n){for(var r=n.fontSize,e=r===void 0?16:r,t=n.fontFamily,i=t===void 0?"sans-serif":t,o=n.fontStyle,s=o===void 0?"normal":o,l=n.fontVariant,h=l===void 0?"normal":l,d=n.fontWeight,D=d===void 0?"normal":d,Y=(0,N.Z)(e)&&"".concat(e,"px")||"16px",he=i.split(","),Pe=he.length-1;Pe>=0;Pe--){var Se=he[Pe].trim();!hu.test(Se)&&fu.indexOf(Se)<0&&(Se='"'.concat(Se,'"')),he[Pe]=Se}return"".concat(s," ").concat(h," ").concat(D," ").concat(Y," ").concat(he.join(","))}function Oi(n,r,e){return S.identity(n),n[4]=Math.tan(r),n[1]=Math.tan(e),n}var _n=S.create(),du=S.create(),pu={scale:function(r){S.fromScaling(_n,[r[0].value,r[1].value,1])},scaleX:function(r){S.fromScaling(_n,[r[0].value,1,1])},scaleY:function(r){S.fromScaling(_n,[1,r[0].value,1])},scaleZ:function(r){S.fromScaling(_n,[1,1,r[0].value])},scale3d:function(r){S.fromScaling(_n,[r[0].value,r[1].value,r[2].value])},translate:function(r){S.fromTranslation(_n,[r[0].value,r[1].value,0])},translateX:function(r){S.fromTranslation(_n,[r[0].value,0,0])},translateY:function(r){S.fromTranslation(_n,[0,r[0].value,0])},translateZ:function(r){S.fromTranslation(_n,[0,0,r[0].value])},translate3d:function(r){S.fromTranslation(_n,[r[0].value,r[1].value,r[2].value])},rotate:function(r){S.fromZRotation(_n,O($n(r[0])))},rotateX:function(r){S.fromXRotation(_n,O($n(r[0])))},rotateY:function(r){S.fromYRotation(_n,O($n(r[0])))},rotateZ:function(r){S.fromZRotation(_n,O($n(r[0])))},rotate3d:function(r){S.fromRotation(_n,O($n(r[3])),[r[0].value,r[1].value,r[2].value])},skew:function(r){Oi(_n,O(r[0].value),O(r[1].value))},skewX:function(r){Oi(_n,O(r[0].value),0)},skewY:function(r){Oi(_n,0,O(r[0].value))},matrix:function(r){S.set(_n,r[0].value,r[1].value,0,0,r[2].value,r[3].value,0,0,0,0,1,0,r[4].value,r[5].value,0,1)},matrix3d:function(r){S.set.apply(S,[_n].concat((0,q.Z)(r.map(function(e){return e.value}))))}},gu=m.al(1,1,1),mu=m.Ue(),Za={translate:function(r,e){It.sceneGraphService.setLocalScale(r,gu,!1),It.sceneGraphService.setLocalEulerAngles(r,mu,void 0,void 0,!1),It.sceneGraphService.setLocalPosition(r,[e[0].value,e[1].value,0],!1),It.sceneGraphService.dirtifyLocal(r,r.transformable)}};function Ba(n,r){if(n.length){if(n.length===1&&Za[n[0].t]){Za[n[0].t](r,n[0].d);return}for(var e=S.identity(du),t=0;t<n.length;t++){var i=n[t],o=i.t,s=i.d,l=pu[o];l&&(l(s),S.mul(e,e,_n))}r.setLocalTransform(e)}else r.resetLocalTransform();return r.getLocalTransform()}var yu=function(){function n(){(0,U.Z)(this,n),this.parser=go,this.mixer=wo}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i,o){return i instanceof Qn?[]:i}},{key:"postProcessor",value:function(e){Ba(e.parsedStyle.transform,e)}}])}(),xu=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"postProcessor",value:function(e){var t=e.parsedStyle.transformOrigin;t[0].unit===Wt.kPixels&&t[1].unit===Wt.kPixels?e.setOrigin(t[0].value,t[1].value):e.getGeometryBounds()}}])}(),Eu=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"calculator",value:function(e,t,i,o){return i.value}},{key:"postProcessor",value:function(e){if(e.parentNode){var t=e.parentNode,i=t.renderable,o=t.sortable;i&&(i.dirty=!0),o&&(o.dirty=!0,o.dirtyReason=sn.Z_INDEX_CHANGED)}}}])}(),Mu=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"update",value:function(e,t){var i=e.cx,o=i===void 0?0:i,s=e.cy,l=s===void 0?0:s,h=e.r,d=h===void 0?0:h;return{cx:o,cy:l,hwidth:d,hheight:d}}}])}(),bu=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"update",value:function(e,t){var i=e.cx,o=i===void 0?0:i,s=e.cy,l=s===void 0?0:s,h=e.rx,d=h===void 0?0:h,D=e.ry,Y=D===void 0?0:D;return{cx:o,cy:l,hwidth:d,hheight:Y}}}])}(),ku=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"update",value:function(e){var t=e.x1,i=e.y1,o=e.x2,s=e.y2,l=Math.min(t,o),h=Math.max(t,o),d=Math.min(i,s),D=Math.max(i,s),Y=h-l,he=D-d,Pe=Y/2,Se=he/2;return{cx:l+Pe,cy:d+Se,hwidth:Pe,hheight:Se}}}])}(),Tu=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"update",value:function(e){var t=e.d,i=t.rect,o=i.x,s=i.y,l=i.width,h=i.height,d=l/2,D=h/2;return{cx:o+d,cy:s+D,hwidth:d,hheight:D}}}])}(),wu=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"update",value:function(e){if(e.points&&(0,Nt.Z)(e.points.points)){var t=e.points.points,i=Math.min.apply(Math,(0,q.Z)(t.map(function(he){return he[0]}))),o=Math.max.apply(Math,(0,q.Z)(t.map(function(he){return he[0]}))),s=Math.min.apply(Math,(0,q.Z)(t.map(function(he){return he[1]}))),l=Math.max.apply(Math,(0,q.Z)(t.map(function(he){return he[1]}))),h=o-i,d=l-s,D=h/2,Y=d/2;return{cx:i+D,cy:s+Y,hwidth:D,hheight:Y}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Pu=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"update",value:function(e,t){var i=e.x,o=i===void 0?0:i,s=e.y,l=s===void 0?0:s,h=e.src,d=e.width,D=d===void 0?0:d,Y=e.height,he=Y===void 0?0:Y,Pe=D,Se=he;return h&&!(0,xe.Z)(h)&&(Pe||(Pe=h.width,e.width=Pe),Se||(Se=h.height,e.height=Se)),{cx:o+Pe/2,cy:l+Se/2,hwidth:Pe/2,hheight:Se/2}}}])}(),Su=function(){function n(r){(0,U.Z)(this,n),this.globalRuntime=r}return(0,H.Z)(n,[{key:"isReadyToMeasure",value:function(e,t){var i=e.text;return i}},{key:"update",value:function(e,t){var i,o=e.text,s=e.textAlign,l=s===void 0?"start":s,h=e.lineWidth,d=h===void 0?1:h,D=e.textBaseline,Y=D===void 0?"alphabetic":D,he=e.dx,Pe=he===void 0?0:he,Se=e.dy,He=Se===void 0?0:Se,ze=e.x,rt=ze===void 0?0:ze,tt=e.y,ot=tt===void 0?0:tt;if(!this.isReadyToMeasure(e,t))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var At=(t==null||(i=t.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},Ye=At.offscreenCanvas,Oe=this.globalRuntime.textService.measureText(o,e,Ye);e.metrics=Oe;var Ue=Oe.width,at=Oe.height,bt=Ue/2,pt=at/2,kt=rt+bt;l==="center"||l==="middle"?kt+=d/2-bt:(l==="right"||l==="end")&&(kt+=d-bt*2);var Lt=ot-pt;return Y==="middle"?Lt+=pt:Y==="top"||Y==="hanging"?Lt+=pt*2:Y==="alphabetic"||(Y==="bottom"||Y==="ideographic")&&(Lt+=0),Pe&&(kt+=Pe),He&&(Lt+=He),{cx:kt,cy:Lt,hwidth:bt,hheight:pt}}}])}(),Cu=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"update",value:function(e,t){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Au=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"update",value:function(e,t){var i=e.x,o=i===void 0?0:i,s=e.y,l=s===void 0?0:s,h=e.width,d=h===void 0?0:h,D=e.height,Y=D===void 0?0:D;return{cx:o+d/2,cy:l+Y/2,hwidth:d/2,hheight:Y/2}}}])}();function Il(n){return!!n.type}var Jr=function(){function n(r){(0,U.Z)(this,n),this.eventPhase=n.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new We,this.page=new We,this.canvas=new We,this.viewport=new We,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=r}return(0,H.Z)(n,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Qe)}}])}(),Fa=function(n){function r(){var e;(0,U.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=(0,C.Z)(this,r,[].concat(i)),e.client=new We,e.movement=new We,e.offset=new We,e.global=new We,e.screen=new We,e}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}},{key:"initMouseEvent",value:function(){throw new Error(Qe)}}])}(Jr),Qr=function(n){function r(){var e;(0,U.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=(0,C.Z)(this,r,[].concat(i)),e.width=0,e.height=0,e.isPrimary=!1,e}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(Fa),Li=function(n){function r(){return(0,U.Z)(this,r),(0,C.Z)(this,r,arguments)}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(Fa),zn=function(n){function r(e,t){var i;return(0,U.Z)(this,r),i=(0,C.Z)(this,r,[null]),i.type=e,i.detail=t,Object.assign(i,t),i}return(0,ee.Z)(r,n),(0,H.Z)(r)}(Jr),Ga=new WeakMap,za=function(){function n(){(0,U.Z)(this,n),this.emitter=new de.Z}return(0,H.Z)(n,[{key:"on",value:function(e,t,i){return this.addEventListener(e,t,i),this}},{key:"addEventListener",value:function(e,t,i){var o=!1,s=!1;if((0,Bt.Z)(i))o=i;else if(i){var l=i.capture;o=l===void 0?!1:l;var h=i.once;s=h===void 0?!1:h}o&&(e+="capture"),t=(0,en.Z)(t)?t:t.handleEvent;var d=(0,en.Z)(t)?void 0:t;return s?this.emitter.once(e,t,d):this.emitter.on(e,t,d),this}},{key:"off",value:function(e,t,i){return e?this.removeEventListener(e,t,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var e;(e=this.emitter)===null||e===void 0||e.removeAllListeners()}},{key:"removeEventListener",value:function(e,t,i){var o;if(!this.emitter)return this;var s=(0,Bt.Z)(i)?i:i==null?void 0:i.capture;s&&(e+="capture"),t=(0,en.Z)(t)?t:(o=t)===null||o===void 0?void 0:o.handleEvent;var l=(0,en.Z)(t)?void 0:t;return this.emitter.off(e,t,l),this}},{key:"emit",value:function(e,t){this.dispatchEvent(new zn(e,t))}},{key:"dispatchEvent",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=Ga.get(this);if(!i){var o;this.document?i=this:this.defaultView?i=this.defaultView:i=(o=this.ownerDocument)===null||o===void 0?void 0:o.defaultView,i&&Ga.set(this,i)}if(i){if(e.manager=i.getEventService(),!e.manager)return!1;e.defaultPrevented=!1,e.path?e.path.length=0:e.page=[],t||(e.target=this),e.manager.dispatchEvent(e,e.type,t)}else this.emitter.emit(e.type,e);return!e.defaultPrevented}}])}(),Sn=function(n){function r(){var e;(0,U.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=(0,C.Z)(this,r,[].concat(i)),e.shadow=!1,e.ownerDocument=null,e.isConnected=!1,e.baseURI="",e.childNodes=[],e.nodeType=0,e.nodeName="",e.nodeValue=null,e.parentNode=null,e}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"textContent",get:function(){var t="";this.nodeName===Vt.TEXT&&(t+=this.style.text);var i=(0,wn.Z)(this.childNodes),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s.nodeName===Vt.TEXT?t+=s.nodeValue:t+=s.textContent}}catch(l){i.e(l)}finally{i.f()}return t},set:function(t){var i=this;this.childNodes.slice().forEach(function(o){i.removeChild(o)}),this.nodeName===Vt.TEXT&&(this.style.text="".concat(t))}},{key:"getRootNode",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(t):t.composed&&this.host?this.host.getRootNode(t):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(t){throw new Error(Qe)}},{key:"lookupNamespaceURI",value:function(t){throw new Error(Qe)}},{key:"lookupPrefix",value:function(t){throw new Error(Qe)}},{key:"normalize",value:function(){throw new Error(Qe)}},{key:"isEqualNode",value:function(t){return this===t}},{key:"isSameNode",value:function(t){return this.isEqualNode(t)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(t){if(t===this)return 0;for(var i=t,o=this,s=[i],l=[o];(h=i.parentNode)!==null&&h!==void 0?h:o.parentNode;){var h;i=i.parentNode?(s.push(i.parentNode),i.parentNode):i,o=o.parentNode?(l.push(o.parentNode),o.parentNode):o}if(i!==o)return r.DOCUMENT_POSITION_DISCONNECTED|r.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|r.DOCUMENT_POSITION_PRECEDING;var d=s.length>l.length?s:l,D=d===s?l:s;if(d[d.length-D.length]===D[0])return d===s?r.DOCUMENT_POSITION_CONTAINED_BY|r.DOCUMENT_POSITION_FOLLOWING:r.DOCUMENT_POSITION_CONTAINS|r.DOCUMENT_POSITION_PRECEDING;for(var Y=d.length-D.length,he=D.length-1;he>=0;he--){var Pe=D[he],Se=d[Y+he];if(Se!==Pe){var He=Pe.parentNode.childNodes;return He.indexOf(Pe)<He.indexOf(Se)?D===s?r.DOCUMENT_POSITION_PRECEDING:r.DOCUMENT_POSITION_FOLLOWING:d===s?r.DOCUMENT_POSITION_PRECEDING:r.DOCUMENT_POSITION_FOLLOWING}}return r.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(t){return this.contains(t)}},{key:"contains",value:function(t){for(var i=t;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(t){for(var i=this;t>0&&i;)i=i.parentNode,t--;return i}},{key:"forEach",value:function(t){for(var i=[this];i.length>0;){var o=i.pop(),s=t(o);if(s===!1)break;for(var l=o.childNodes.length-1;l>=0;l--)i.push(o.childNodes[l])}}}],[{key:"isNode",value:function(t){return!!t.childNodes}}])}(za);Sn.DOCUMENT_POSITION_DISCONNECTED=1,Sn.DOCUMENT_POSITION_PRECEDING=2,Sn.DOCUMENT_POSITION_FOLLOWING=4,Sn.DOCUMENT_POSITION_CONTAINS=8,Sn.DOCUMENT_POSITION_CONTAINED_BY=16,Sn.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var Ru=2048,Ou=function(){function n(r,e){var t=this;(0,U.Z)(this,n),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=S.create(),this.tmpVec3=m.Ue(),this.onPointerDown=function(i){var o=t.createPointerEvent(i);if(t.dispatchEvent(o,"pointerdown"),o.pointerType==="touch")t.dispatchEvent(o,"touchstart");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;t.dispatchEvent(o,s?"rightdown":"mousedown")}var l=t.trackingData(i.pointerId);l.pressTargetsByButton[i.button]=o.composedPath(),t.freeEvent(o)},this.onPointerUp=function(i){var o=Ci.now(),s=t.createPointerEvent(i,void 0,void 0,t.context.config.alwaysTriggerPointerEventOnCanvas?t.rootTarget:void 0);if(t.dispatchEvent(s,"pointerup"),s.pointerType==="touch")t.dispatchEvent(s,"touchend");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var l=s.button===2;t.dispatchEvent(s,l?"rightup":"mouseup")}var h=t.trackingData(i.pointerId),d=t.findMountedTarget(h.pressTargetsByButton[i.button]),D=d;if(d&&!s.composedPath().includes(d)){for(var Y=d;Y&&!s.composedPath().includes(Y);){if(s.currentTarget=Y,t.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch")t.notifyTarget(s,"touchendoutside");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var he=s.button===2;t.notifyTarget(s,he?"rightupoutside":"mouseupoutside")}Sn.isNode(Y)&&(Y=Y.parentNode)}delete h.pressTargetsByButton[i.button],D=Y}if(D){var Pe,Se=t.clonePointerEvent(s,"click");Se.target=D,Se.path=[],h.clicksByButton[i.button]||(h.clicksByButton[i.button]={clickCount:0,target:Se.target,timeStamp:o});var He=t.context.renderingContext.root.ownerDocument.defaultView,ze=h.clicksByButton[i.button];ze.target===Se.target&&o-ze.timeStamp<He.getConfig().dblClickSpeed?++ze.clickCount:ze.clickCount=1,ze.target=Se.target,ze.timeStamp=o,Se.detail=ze.clickCount,(Pe=s.detail)!==null&&Pe!==void 0&&Pe.preventClick||(!t.context.config.useNativeClickEvent&&(Se.pointerType==="mouse"||Se.pointerType==="touch")&&t.dispatchEvent(Se,"click"),t.dispatchEvent(Se,"pointertap")),t.freeEvent(Se)}t.freeEvent(s)},this.onPointerMove=function(i){var o=t.createPointerEvent(i,void 0,void 0,t.context.config.alwaysTriggerPointerEventOnCanvas?t.rootTarget:void 0),s=o.pointerType==="mouse"||o.pointerType==="pen",l=t.trackingData(i.pointerId),h=t.findMountedTarget(l.overTargets);if(l.overTargets&&h!==o.target){var d=i.type==="mousemove"?"mouseout":"pointerout",D=t.createPointerEvent(i,d,h||void 0);if(t.dispatchEvent(D,"pointerout"),s&&t.dispatchEvent(D,"mouseout"),!o.composedPath().includes(h)){var Y=t.createPointerEvent(i,"pointerleave",h||void 0);for(Y.eventPhase=Y.AT_TARGET;Y.target&&!o.composedPath().includes(Y.target);)Y.currentTarget=Y.target,t.notifyTarget(Y),s&&t.notifyTarget(Y,"mouseleave"),Sn.isNode(Y.target)&&(Y.target=Y.target.parentNode);t.freeEvent(Y)}t.freeEvent(D)}if(h!==o.target){var he=i.type==="mousemove"?"mouseover":"pointerover",Pe=t.clonePointerEvent(o,he);t.dispatchEvent(Pe,"pointerover"),s&&t.dispatchEvent(Pe,"mouseover");for(var Se=h&&Sn.isNode(h)&&h.parentNode;Se&&Se!==(Sn.isNode(t.rootTarget)&&t.rootTarget.parentNode)&&Se!==o.target;)Se=Se.parentNode;var He=!Se||Se===(Sn.isNode(t.rootTarget)&&t.rootTarget.parentNode);if(He){var ze=t.clonePointerEvent(o,"pointerenter");for(ze.eventPhase=ze.AT_TARGET;ze.target&&ze.target!==h&&ze.target!==(Sn.isNode(t.rootTarget)&&t.rootTarget.parentNode);)ze.currentTarget=ze.target,t.notifyTarget(ze),s&&t.notifyTarget(ze,"mouseenter"),Sn.isNode(ze.target)&&(ze.target=ze.target.parentNode);t.freeEvent(ze)}t.freeEvent(Pe)}t.dispatchEvent(o,"pointermove"),o.pointerType==="touch"&&t.dispatchEvent(o,"touchmove"),s&&(t.dispatchEvent(o,"mousemove"),t.cursor=t.getCursor(o.target)),l.overTargets=o.composedPath(),t.freeEvent(o)},this.onPointerOut=function(i){var o=t.trackingData(i.pointerId);if(o.overTargets){var s=i.pointerType==="mouse"||i.pointerType==="pen",l=t.findMountedTarget(o.overTargets),h=t.createPointerEvent(i,"pointerout",l||void 0);t.dispatchEvent(h),s&&t.dispatchEvent(h,"mouseout");var d=t.createPointerEvent(i,"pointerleave",l||void 0);for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==(Sn.isNode(t.rootTarget)&&t.rootTarget.parentNode);)d.currentTarget=d.target,t.notifyTarget(d),s&&t.notifyTarget(d,"mouseleave"),Sn.isNode(d.target)&&(d.target=d.target.parentNode);o.overTargets=null,t.freeEvent(h),t.freeEvent(d)}t.cursor=null},this.onPointerOver=function(i){var o=t.trackingData(i.pointerId),s=t.createPointerEvent(i),l=s.pointerType==="mouse"||s.pointerType==="pen";t.dispatchEvent(s,"pointerover"),l&&t.dispatchEvent(s,"mouseover"),s.pointerType==="mouse"&&(t.cursor=t.getCursor(s.target));var h=t.clonePointerEvent(s,"pointerenter");for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==(Sn.isNode(t.rootTarget)&&t.rootTarget.parentNode);)h.currentTarget=h.target,t.notifyTarget(h),l&&t.notifyTarget(h,"mouseenter"),Sn.isNode(h.target)&&(h.target=h.target.parentNode);o.overTargets=s.composedPath(),t.freeEvent(s),t.freeEvent(h)},this.onPointerUpOutside=function(i){var o=t.trackingData(i.pointerId),s=t.findMountedTarget(o.pressTargetsByButton[i.button]),l=t.createPointerEvent(i);if(s){for(var h=s;h;)l.currentTarget=h,t.notifyTarget(l,"pointerupoutside"),l.pointerType==="touch"||(l.pointerType==="mouse"||l.pointerType==="pen")&&t.notifyTarget(l,l.button===2?"rightupoutside":"mouseupoutside"),Sn.isNode(h)&&(h=h.parentNode);delete o.pressTargetsByButton[i.button]}t.freeEvent(l)},this.onWheel=function(i){var o=t.createWheelEvent(i);t.dispatchEvent(o),t.freeEvent(o)},this.onClick=function(i){if(t.context.config.useNativeClickEvent){var o=t.createPointerEvent(i);t.dispatchEvent(o),t.freeEvent(o)}},this.onPointerCancel=function(i){var o=t.createPointerEvent(i,void 0,void 0,t.context.config.alwaysTriggerPointerEventOnCanvas?t.rootTarget:void 0);t.dispatchEvent(o),t.freeEvent(o)},this.globalRuntime=r,this.context=e}return(0,H.Z)(n,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var e=this.context.contextService.getBoundingClientRect(),t=1,i=1,o=this.context.contextService.getDomElement();if(o&&e){var s=o.offsetWidth,l=o.offsetHeight;s&&l&&(t=e.width/s,i=e.height/l)}return{scaleX:t,scaleY:i,bbox:e}}},{key:"client2Viewport",value:function(e){var t=this.getScale(),i=t.scaleX,o=t.scaleY,s=t.bbox;return new We((e.x-((s==null?void 0:s.left)||0))/i,(e.y-((s==null?void 0:s.top)||0))/o)}},{key:"viewport2Client",value:function(e){var t=this.getScale(),i=t.scaleX,o=t.scaleY,s=t.bbox;return new We((e.x+((s==null?void 0:s.left)||0))*i,(e.y+((s==null?void 0:s.top)||0))*o)}},{key:"viewport2Canvas",value:function(e){var t=e.x,i=e.y,o=this.rootTarget.defaultView,s=o.getCamera(),l=this.context.config,h=l.width,d=l.height,D=s.getPerspectiveInverse(),Y=s.getWorldTransform(),he=S.multiply(this.tmpMatrix,Y,D),Pe=m.t8(this.tmpVec3,t/h*2-1,(1-i/d)*2-1,0);return m.fF(Pe,Pe,he),new We(Pe[0],Pe[1])}},{key:"canvas2Viewport",value:function(e){var t=this.rootTarget.defaultView,i=t.getCamera(),o=i.getPerspective(),s=i.getViewTransform(),l=S.multiply(this.tmpMatrix,o,s),h=m.t8(this.tmpVec3,e.x,e.y,0);m.fF(this.tmpVec3,this.tmpVec3,l);var d=this.context.config,D=d.width,Y=d.height;return new We((h[0]+1)/2*D,(1-(h[1]+1)/2)*Y)}},{key:"setPickHandler",value:function(e){this.pickHandler=e}},{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(function(i,o){return i.priority-o.priority})}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var i=0,o=t.length;i<o;i++)t[i].fn(e);else console.warn("[EventService]: Event mapping not defined for ".concat(e.type))}}},{key:"dispatchEvent",value:function(e,t,i){if(!i)e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t);else{e.eventPhase=e.AT_TARGET;var o=this.rootTarget.defaultView||null;e.currentTarget=o,this.notifyListeners(e,t)}}},{key:"propagate",value:function(e,t){if(e.target){var i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var o=i.length-1;o>=1;o--)if(e.currentTarget=i[o],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){var s=i.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var l=s+1;l<i.length;l++)if(e.currentTarget=i[l],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(e){var t=[e],i=this.rootTarget.defaultView||null;if(i&&i===e)return t.unshift(i.document),t;for(var o=0;o<Ru&&e!==this.rootTarget;o++)Sn.isNode(e)&&e.parentNode&&(t.push(e.parentNode),e=e.parentNode);return i&&t.push(i),t}},{key:"hitTest",value:function(e){var t=e.viewportX,i=e.viewportY,o=this.context.config,s=o.width,l=o.height,h=o.disableHitTesting;return t<0||i<0||t>s||i>l?null:!h&&this.pickHandler(e)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(e,t){var i,o=t==null?void 0:t.target;if((i=o)!==null&&i!==void 0&&i.shadowRoot&&(o=t.composedPath()[0]),o){if(o===e)return!0;if(e&&e.contains)return e.contains(o)}return t!=null&&t.composedPath?t.composedPath().indexOf(e)>-1:!1}},{key:"getExistedHTML",value:function(e){if(e.nativeEvent.composedPath)for(var t=0,i=e.nativeEvent.composedPath();t<i.length;t++){var o=i[t],s=this.nativeHTMLMap.get(o);if(s)return s}return null}},{key:"pickTarget",value:function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})}},{key:"createPointerEvent",value:function(e,t,i,o){var s=this.allocateEvent(Qr);this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e;var l=this.getExistedHTML(s),h=this.context.contextService.getDomElement();return s.target=i!=null?i:l||this.isNativeEventFromCanvas(h,s.nativeEvent)&&this.pickTarget(s)||o,typeof t=="string"&&(s.type=t),s}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(Li);this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e;var i=this.getExistedHTML(t),o=this.context.contextService.getDomElement();return t.target=i||this.isNativeEventFromCanvas(o,t.nativeEvent)&&this.pickTarget(t),t}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"cloneWheelEvent",value:function(e){var t=this.allocateEvent(Li);return t.nativeEvent=e.nativeEvent,t.originalEvent=e.originalEvent,this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.target=e.target,t.path=e.composedPath().slice(),t.type=e.type,t}},{key:"clonePointerEvent",value:function(e,t){var i=this.allocateEvent(Qr);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=t!=null?t:i.type,i}},{key:"copyPointerData",value:function(e,t){t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist}},{key:"copyMouseData",value:function(e,t){t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.client.copyFrom(e.client),t.movement.copyFrom(e.movement),t.canvas.copyFrom(e.canvas),t.screen.copyFrom(e.screen),t.global.copyFrom(e.global),t.offset.copyFrom(e.offset)}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.timeStamp=Ci.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.page.copyFrom(e.page),t.viewport.copyFrom(e.viewport)}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=[],t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyTarget",value:function(e,t){t=t!=null?t:e.type;var i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"notifyListeners",value:function(e,t){var i=e.currentTarget.emitter,o=i._events[t];if(o)if("fn"in o)o.once&&i.removeListener(t,o.fn,void 0,!0),o.fn.call(e.currentTarget||o.context,e);else for(var s=0;s<o.length&&!e.propagationImmediatelyStopped;s++)o[s].once&&i.removeListener(t,o[s].fn,void 0,!0),o[s].fn.call(e.currentTarget||o[s].context,e)}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[e.length-1],i=e.length-2;i>=0;i--){var o=e[i];if(o===this.rootTarget||Sn.isNode(o)&&o.parentNode===t)t=e[i];else break}return t}},{key:"getCursor",value:function(e){for(var t=e;t;){var i=Yo(t)&&t.getAttribute("cursor");if(i)return i;t=Sn.isNode(t)&&t.parentNode}}}])}(),Wa=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"getOrCreateCanvas",value:function(e,t){if(this.canvas)return this.canvas;if(e||It.offscreenCanvas)this.canvas=e||It.offscreenCanvas,this.context=this.canvas.getContext("2d",(0,u.Z)({willReadFrequently:!0},t));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",(0,u.Z)({willReadFrequently:!0},t)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",(0,u.Z)({willReadFrequently:!0},t))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(e,t){return this.context?this.context:(this.getOrCreateCanvas(e,t),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch(e){}try{return document.createElement("canvas")}catch(e){}return null}}])}(),Nr=function(n){return n[n.CAMERA_CHANGED=0]="CAMERA_CHANGED",n[n.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",n[n.NONE=2]="NONE",n}({}),Lu=function(){function n(r,e){(0,U.Z)(this,n),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new Vn,initAsync:new lu,dirtycheck:new Ri,cull:new Ri,beginFrame:new Vn,beforeRender:new Vn,render:new Vn,afterRender:new Vn,endFrame:new Vn,destroy:new Vn,pick:new cu,pickSync:new Ri,pointerDown:new Vn,pointerUp:new Vn,pointerMove:new Vn,pointerOut:new Vn,pointerOver:new Vn,pointerWheel:new Vn,pointerCancel:new Vn,click:new Vn},this.globalRuntime=r,this.context=e}return(0,H.Z)(n,[{key:"init",value:function(e){var t=this,i=(0,u.Z)((0,u.Z)({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(o){o.apply(i,t.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,e()):this.hooks.initAsync.promise().then(function(){t.inited=!0,e()}).catch(function(o){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var e=this.context.config.renderer,t=e.getConfig(),i=t.enableDirtyRectangleRendering;return!i||this.context.renderingContext.renderReasons.has(Nr.CAMERA_CHANGED)}},{key:"render",value:function(e,t,i){var o=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var s=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(s.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),s.renderReasons.size&&this.inited){s.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var l=s.renderReasons.size===1&&s.renderReasons.has(Nr.CAMERA_CHANGED),h=!e.disableRenderHooks||!(e.disableRenderHooks&&l);h&&this.renderDisplayObject(s.root,e,s),this.hooks.beginFrame.call(t),h&&s.renderListCurrentFrame.forEach(function(d){o.hooks.beforeRender.call(d),o.hooks.render.call(d),o.hooks.afterRender.call(d)}),this.hooks.endFrame.call(t),s.renderListCurrentFrame=[],s.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(e,t,i){var o=this,s=t.renderer.getConfig(),l=s.enableDirtyCheck,h=s.enableCulling;function d(He){var ze=He.renderable,rt=He.sortable,tt=l?ze.dirty||i.dirtyRectangleRenderingDisabled?He:null:He;if(tt){var ot=h?o.hooks.cull.call(tt,o.context.camera):tt;ot&&(o.stats.rendered+=1,i.renderListCurrentFrame.push(ot))}ze.dirty=!1,rt.renderOrder=o.zIndexCounter,o.zIndexCounter+=1,o.stats.total+=1,rt.dirty&&(o.sort(He,rt),rt.dirty=!1,rt.dirtyChildren=[],rt.dirtyReason=void 0)}for(var D=[e];D.length>0;){var Y,he=D.pop();d(he);for(var Pe=((Y=he.sortable)===null||Y===void 0||(Y=Y.sorted)===null||Y===void 0?void 0:Y.length)>0?he.sortable.sorted:he.childNodes,Se=Pe.length-1;Se>=0;Se--)D.push(Pe[Se])}}},{key:"sort",value:function(e,t){var i,o;(t==null||(i=t.sorted)===null||i===void 0?void 0:i.length)>0&&t.dirtyReason!==sn.Z_INDEX_CHANGED?t.dirtyChildren.forEach(function(s){var l=t.sorted.indexOf(s);l>-1&&t.sorted.splice(l,1);var h=e.childNodes.indexOf(s);if(h>-1)if(t.sorted.length===0)t.sorted.push(s);else{var d=$o(t.sorted,s);t.sorted.splice(d,0,s)}}):t.sorted=e.childNodes.slice().sort(Aa),((o=t.sorted)===null||o===void 0?void 0:o.length)>0&&e.childNodes.filter(function(s){return s.parsedStyle.zIndex}).length===0&&(t.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(Nr.DISPLAY_OBJECT_CHANGED)}}])}(),Nu=/\[\s*(.*)=(.*)\s*\]/,_u=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"selectOne",value:function(e,t){var i=this;if(e.startsWith("."))return t.find(function(h){return((h==null?void 0:h.classList)||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.find(function(h){return h.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var o=this.getAttribute(e),s=o.name,l=o.value;return s?t.find(function(h){return t!==h&&(s==="name"?h.name===l:i.attributeToString(h,s)===l)}):null}return t.find(function(h){return t!==h&&h.nodeName===e})}},{key:"selectAll",value:function(e,t){var i=this;if(e.startsWith("."))return t.findAll(function(h){return t!==h&&((h==null?void 0:h.classList)||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.findAll(function(h){return t!==h&&h.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var o=this.getAttribute(e),s=o.name,l=o.value;return s?t.findAll(function(h){return t!==h&&(s==="name"?h.name===l:i.attributeToString(h,s)===l)}):[]}return t.findAll(function(h){return t!==h&&h.nodeName===e})}},{key:"is",value:function(e,t){if(e.startsWith("."))return t.className===this.getIdOrClassname(e);if(e.startsWith("#"))return t.id===this.getIdOrClassname(e);if(e.startsWith("[")){var i=this.getAttribute(e),o=i.name,s=i.value;return o==="name"?t.name===s:this.attributeToString(t,o)===s}return t.nodeName===e}},{key:"getIdOrClassname",value:function(e){return e.substring(1)}},{key:"getAttribute",value:function(e){var t=e.match(Nu),i="",o="";return t&&t.length>2&&(i=t[1].replace(/"/g,""),o=t[2].replace(/"/g,"")),{name:i,value:o}}},{key:"attributeToString",value:function(e,t){if(!e.getAttribute)return"";var i=e.getAttribute(t);return(0,j.Z)(i)?"":i.toString?i.toString():""}}])}(),Fn=function(n){return n.ATTR_MODIFIED="DOMAttrModified",n.INSERTED="DOMNodeInserted",n.MOUNTED="DOMNodeInsertedIntoDocument",n.REMOVED="removed",n.UNMOUNTED="DOMNodeRemovedFromDocument",n.REPARENT="reparent",n.DESTROY="destroy",n.BOUNDS_CHANGED="bounds-changed",n.CULLED="culled",n}({}),sr=function(n){function r(e,t,i,o,s,l,h,d){var D;return(0,U.Z)(this,r),D=(0,C.Z)(this,r,[null]),D.relatedNode=t,D.prevValue=i,D.newValue=o,D.attrName=s,D.attrChange=l,D.prevParsedValue=h,D.newParsedValue=d,D.type=e,D}return(0,ee.Z)(r,n),(0,H.Z)(r)}(Jr);sr.ADDITION=2,sr.MODIFICATION=1,sr.REMOVAL=3;function Ua(n){var r=n.renderable;r&&(r.renderBoundsDirty=!0,r.boundsDirty=!0)}var Iu=new sr(Fn.REPARENT,null,"","","",0,"",""),Du=A.Ue(),qr=m.Ue(),Zu=m.al(1,1,1),Bu=S.create(),Fu=A.Ue(),hr=m.Ue(),Pr=S.create(),vr=k.Ue(),Gu=m.Ue(),zu=k.Ue(),Wu=m.Ue(),_r=m.Ue(),xr=m.Ue(),ei=S.create(),Va=k.Ue(),Ha=k.Ue(),ti=k.Ue(),Ni={affectChildren:!0},Uu=function(){function n(r){(0,U.Z)(this,n),this.pendingEvents=new Map,this.boundsChangedEvent=new zn(Fn.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=r}return(0,H.Z)(n,[{key:"matches",value:function(e,t){return this.runtime.sceneGraphSelector.is(e,t)}},{key:"querySelector",value:function(e,t){return this.runtime.sceneGraphSelector.selectOne(e,t)}},{key:"querySelectorAll",value:function(e,t){return this.runtime.sceneGraphSelector.selectAll(e,t)}},{key:"attach",value:function(e,t,i){var o,s=!1;e.parentNode&&(s=e.parentNode!==t,this.detach(e));var l=e.nodeName===Vt.FRAGMENT,h=jr(t);e.parentNode=t;var d=l?e.childNodes:[e];(0,N.Z)(i)?d.forEach(function(Pe){t.childNodes.splice(i,0,Pe),Pe.parentNode=t}):d.forEach(function(Pe){t.childNodes.push(Pe),Pe.parentNode=t});var D=t,Y=D.sortable;if((Y!=null&&(o=Y.sorted)!==null&&o!==void 0&&o.length||Y.dirty||e.parsedStyle.zIndex)&&(Y.dirtyChildren.indexOf(e)===-1&&Y.dirtyChildren.push(e),Y.dirty=!0,Y.dirtyReason=sn.ADDED),!h){if(l)this.dirtifyFragment(e);else{var he=e.transformable;he&&this.dirtifyWorld(e,he)}s&&e.dispatchEvent(Iu)}}},{key:"detach",value:function(e){var t,i;if(e.parentNode){var o=e.transformable,s=e.parentNode,l=s.sortable;(l!=null&&(t=l.sorted)!==null&&t!==void 0&&t.length||(i=e.style)!==null&&i!==void 0&&i.zIndex)&&(l.dirtyChildren.indexOf(e)===-1&&l.dirtyChildren.push(e),l.dirty=!0,l.dirtyReason=sn.REMOVED);var h=e.parentNode.childNodes.indexOf(e);h>-1&&e.parentNode.childNodes.splice(h,1),o&&this.dirtifyWorld(e,o),e.parentNode=null}}},{key:"getOrigin",value:function(e){return e.getGeometryBounds(),e.transformable.origin}},{key:"setOrigin",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof t=="number"&&(t=[t,i,o]);var s=e.transformable;if(!(t[0]===s.origin[0]&&t[1]===s.origin[1]&&t[2]===s.origin[2])){var l=s.origin;l[0]=t[0],l[1]=t[1],l[2]=t[2]||0,this.dirtifyLocal(e,s)}}},{key:"rotate",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof t=="number"&&(t=m.al(t,i,o));var s=e.transformable;if(e.parentNode===null||!e.parentNode.transformable)this.rotateLocal(e,t);else{var l=vr;k.Su(l,t[0],t[1],t[2]);var h=this.getRotation(e),d=this.getRotation(e.parentNode);k.JG(ti,d),k.U_(ti,ti),k.Jp(l,ti,l),k.Jp(s.localRotation,l,h),k.Fv(s.localRotation,s.localRotation),this.dirtifyLocal(e,s)}}},{key:"rotateLocal",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof t=="number"&&(t=m.al(t,i,o));var s=e.transformable;k.Su(Ha,t[0],t[1],t[2]),k.dC(s.localRotation,s.localRotation,Ha),this.dirtifyLocal(e,s)}},{key:"setEulerAngles",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof t=="number"&&(t=m.al(t,i,o));var s=e.transformable;if(e.parentNode===null||!e.parentNode.transformable)this.setLocalEulerAngles(e,t);else{k.Su(s.localRotation,t[0],t[1],t[2]);var l=this.getRotation(e.parentNode);k.JG(Va,k.U_(vr,l)),k.dC(s.localRotation,s.localRotation,Va),this.dirtifyLocal(e,s)}}},{key:"setLocalEulerAngles",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof t=="number"&&(t=m.al(t,i,o));var l=e.transformable;k.Su(l.localRotation,t[0],t[1],t[2]),s&&this.dirtifyLocal(e,l)}},{key:"translateLocal",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof t=="number"&&(t=m.al(t,i,o));var s=e.transformable;m.fS(t,qr)||(m.VC(t,t,s.localRotation),m.IH(s.localPosition,s.localPosition,t),this.dirtifyLocal(e,s))}},{key:"setPosition",value:function(e,t){var i,o=e.transformable;if(xr[0]=t[0],xr[1]=t[1],xr[2]=(i=t[2])!==null&&i!==void 0?i:0,!m.fS(this.getPosition(e),xr)){if(m.JG(o.position,xr),e.parentNode===null||!e.parentNode.transformable)m.JG(o.localPosition,xr);else{var s=e.parentNode.transformable;S.copy(ei,s.worldTransform),S.invert(ei,ei),m.fF(o.localPosition,xr,ei)}this.dirtifyLocal(e,o)}}},{key:"setLocalPosition",value:function(e,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=e.transformable;_r[0]=t[0],_r[1]=t[1],_r[2]=(i=t[2])!==null&&i!==void 0?i:0,!m.fS(s.localPosition,_r)&&(m.JG(s.localPosition,_r),o&&this.dirtifyLocal(e,s))}},{key:"scaleLocal",value:function(e,t){var i,o=e.transformable;m.Jp(o.localScale,o.localScale,m.t8(hr,t[0],t[1],(i=t[2])!==null&&i!==void 0?i:1)),this.dirtifyLocal(e,o)}},{key:"setLocalScale",value:function(e,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=e.transformable;m.t8(hr,t[0],t[1],(i=t[2])!==null&&i!==void 0?i:s.localScale[2]),!m.fS(hr,s.localScale)&&(m.JG(s.localScale,hr),o&&this.dirtifyLocal(e,s))}},{key:"translate",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof t=="number"&&(t=m.t8(hr,t,i,o)),!m.fS(t,qr)&&(m.IH(hr,this.getPosition(e),t),this.setPosition(e,hr))}},{key:"setRotation",value:function(e,t,i,o,s){var l=e.transformable;if(typeof t=="number"&&(t=k.al(t,i,o,s)),e.parentNode===null||!e.parentNode.transformable)this.setLocalRotation(e,t);else{var h=this.getRotation(e.parentNode);k.JG(vr,h),k.U_(vr,vr),k.Jp(l.localRotation,vr,t),k.Fv(l.localRotation,l.localRotation),this.dirtifyLocal(e,l)}}},{key:"setLocalRotation",value:function(e,t,i,o,s){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof t=="number"&&(t=k.t8(vr,t,i,o,s));var h=e.transformable;k.JG(h.localRotation,t),l&&this.dirtifyLocal(e,h)}},{key:"setLocalSkew",value:function(e,t,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof t=="number"&&(t=A.t8(Fu,t,i));var s=e.transformable;A.JG(s.localSkew,t),o&&this.dirtifyLocal(e,s)}},{key:"dirtifyLocal",value:function(e,t){jr(e)||t.localDirtyFlag||(t.localDirtyFlag=!0,t.dirtyFlag||this.dirtifyWorld(e,t))}},{key:"dirtifyWorld",value:function(e,t){t.dirtyFlag||this.unfreezeParentToRoot(e),this.dirtifyWorldInternal(e,t),this.dirtifyToRoot(e,!0)}},{key:"dirtifyFragment",value:function(e){var t=e.transformable;t&&(t.frozen=!1,t.dirtyFlag=!0,t.localDirtyFlag=!0);var i=e.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0);for(var o=e.childNodes.length,s=0;s<o;s++)this.dirtifyFragment(e.childNodes[s]);e.nodeName===Vt.FRAGMENT&&this.pendingEvents.set(e,!1)}},{key:"triggerPendingEvents",value:function(){var e=this,t=new Set,i=function(s,l){!s.isConnected||t.has(s)||s.nodeName===Vt.FRAGMENT||(e.boundsChangedEvent.detail=l,e.boundsChangedEvent.target=s,s.isMutationObserved?s.dispatchEvent(e.boundsChangedEvent):s.ownerDocument.defaultView.dispatchEvent(e.boundsChangedEvent,!0),t.add(s))};this.pendingEvents.forEach(function(o,s){s.nodeName!==Vt.FRAGMENT&&(Ni.affectChildren=o,o?s.forEach(function(l){i(l,Ni)}):i(s,Ni))}),t.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=e;for(i.renderable&&(i.renderable.dirty=!0);i;)Ua(i),i=i.parentNode;t&&e.forEach(function(o){Ua(o)}),this.informDependentDisplayObjects(e),this.pendingEvents.set(e,t)}},{key:"updateDisplayObjectDependency",value:function(e,t,i,o){if(t&&t!==i){var s=this.displayObjectDependencyMap.get(t);if(s&&s[e]){var l=s[e].indexOf(o);s[e].splice(l,1)}}if(i){var h=this.displayObjectDependencyMap.get(i);h||(this.displayObjectDependencyMap.set(i,{}),h=this.displayObjectDependencyMap.get(i)),h[e]||(h[e]=[]),h[e].push(o)}}},{key:"informDependentDisplayObjects",value:function(e){var t=this,i=this.displayObjectDependencyMap.get(e);i&&Object.keys(i).forEach(function(o){i[o].forEach(function(s){t.dirtifyToRoot(s,!0),s.dispatchEvent(new sr(Fn.ATTR_MODIFIED,s,t,t,o,sr.MODIFICATION,t,t)),s.isCustomElement&&s.isConnected&&s.attributeChangedCallback&&s.attributeChangedCallback(o,t,t)})})}},{key:"getPosition",value:function(e){var t=e.transformable;return S.getTranslation(t.position,this.getWorldTransform(e,t))}},{key:"getRotation",value:function(e){var t=e.transformable;return S.getRotation(t.rotation,this.getWorldTransform(e,t))}},{key:"getScale",value:function(e){var t=e.transformable;return S.getScaling(t.scaling,this.getWorldTransform(e,t))}},{key:"getWorldTransform",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.transformable;return!t.localDirtyFlag&&!t.dirtyFlag||(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.sync(e,t)),t.worldTransform}},{key:"getLocalPosition",value:function(e){return e.transformable.localPosition}},{key:"getLocalRotation",value:function(e){return e.transformable.localRotation}},{key:"getLocalScale",value:function(e){return e.transformable.localScale}},{key:"getLocalSkew",value:function(e){return e.transformable.localSkew}},{key:"calcLocalTransform",value:function(e){var t=e.localSkew[0]!==0||e.localSkew[1]!==0;if(t){S.fromRotationTranslationScaleOrigin(e.localTransform,e.localRotation,e.localPosition,m.al(1,1,1),e.origin),(e.localSkew[0]!==0||e.localSkew[1]!==0)&&(S.identity(Pr),Pr[4]=Math.tan(e.localSkew[0]),Pr[1]=Math.tan(e.localSkew[1]),S.multiply(e.localTransform,e.localTransform,Pr));var i=S.fromRotationTranslationScaleOrigin(Pr,k.t8(vr,0,0,0,1),m.t8(hr,1,1,1),e.localScale,e.origin);S.multiply(e.localTransform,e.localTransform,i)}else{var o=e.localTransform,s=e.localPosition,l=e.localRotation,h=e.localScale,d=e.origin,D=s[0]!==0||s[1]!==0||s[2]!==0,Y=l[3]!==1||l[0]!==0||l[1]!==0||l[2]!==0,he=h[0]!==1||h[1]!==1||h[2]!==1,Pe=d[0]!==0||d[1]!==0||d[2]!==0;!Y&&!he&&!Pe?D?S.fromTranslation(o,s):S.identity(o):S.fromRotationTranslationScaleOrigin(o,l,s,h,d)}}},{key:"getLocalTransform",value:function(e){var t=e.transformable;return t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.localTransform}},{key:"setLocalTransform",value:function(e,t){var i=S.getTranslation(Gu,t),o=S.getRotation(zu,t),s=S.getScaling(Wu,t);this.setLocalScale(e,s,!1),this.setLocalPosition(e,i,!1),this.setLocalRotation(e,o,void 0,void 0,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"resetLocalTransform",value:function(e){this.setLocalScale(e,Zu,!1),this.setLocalPosition(e,qr,!1),this.setLocalEulerAngles(e,qr,void 0,void 0,!1),this.setLocalSkew(e,Du,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"getTransformedGeometryBounds",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,o=this.getGeometryBounds(e,t);if(!fe.isEmpty(o)){var s=i||new fe;return s.setFromTransformedAABB(o,this.getWorldTransform(e)),s}return null}},{key:"getGeometryBounds",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=e,o=i.geometry;o.dirty&&It.styleValueRegistry.updateGeometry(e);var s=t?o.renderBounds:o.contentBounds||null;return s||new fe}},{key:"getBounds",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=e,s=o.renderable;if(!s.boundsDirty&&!i&&s.bounds)return s.bounds;if(!s.renderBoundsDirty&&i&&s.renderBounds)return s.renderBounds;var l=i?s.renderBounds:s.bounds,h=this.getTransformedGeometryBounds(e,i,l),d=e.childNodes;if(d.forEach(function(he){var Pe=t.getBounds(he,i);Pe&&(h?h.add(Pe):(h=l||new fe,h.update(Pe.center,Pe.halfExtents)))}),h||(h=new fe),i){var D=Ra(e);if(D){var Y=D.parsedStyle.clipPath.getBounds(i);h?Y&&(h=Y.intersection(h)):h.update(Y.center,Y.halfExtents)}}return i?(s.renderBounds=h,s.renderBoundsDirty=!1):(s.bounds=h,s.boundsDirty=!1),h}},{key:"getLocalBounds",value:function(e){if(e.parentNode){var t=Bu;e.parentNode.transformable&&(t=S.invert(Pr,this.getWorldTransform(e.parentNode)));var i=this.getBounds(e);if(!fe.isEmpty(i)){var o=new fe;return o.setFromTransformedAABB(i,t),o}}return this.getBounds(e)}},{key:"getBoundingClientRect",value:function(e){var t,i,o=this.getGeometryBounds(e);fe.isEmpty(o)||(i=new fe,i.setFromTransformedAABB(o,this.getWorldTransform(e)));var s=(t=e.ownerDocument)===null||t===void 0||(t=t.defaultView)===null||t===void 0?void 0:t.getContextService().getBoundingClientRect();if(i){var l=i.getMin(),h=(0,X.Z)(l,2),d=h[0],D=h[1],Y=i.getMax(),he=(0,X.Z)(Y,2),Pe=he[0],Se=he[1];return new Ve(d+((s==null?void 0:s.left)||0),D+((s==null?void 0:s.top)||0),Pe-d,Se-D)}return new Ve((s==null?void 0:s.left)||0,(s==null?void 0:s.top)||0,0,0)}},{key:"dirtifyWorldInternal",value:function(e,t){var i=this;if(!t.dirtyFlag){t.dirtyFlag=!0,t.frozen=!1,e.childNodes.forEach(function(l){var h=l.transformable;h.dirtyFlag||i.dirtifyWorldInternal(l,h)});var o=e,s=o.renderable;s&&(s.renderBoundsDirty=!0,s.boundsDirty=!0,s.dirty=!0)}}},{key:"syncHierarchy",value:function(e){var t=e.transformable;if(!t.frozen){t.frozen=!0,(t.localDirtyFlag||t.dirtyFlag)&&this.sync(e,t);for(var i=e.childNodes,o=0;o<i.length;o++)this.syncHierarchy(i[o])}}},{key:"sync",value:function(e,t){if(t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.dirtyFlag){var i=e.parentNode,o=i&&i.transformable;i===null||!o?S.copy(t.worldTransform,t.localTransform):S.multiply(t.worldTransform,o.worldTransform,t.localTransform),t.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(e){for(var t=e.parentNode;t;){var i=t.transformable;i&&(i.frozen=!1),t=t.parentNode}}}])}(),Er={MetricsString:"|\xC9q\xC5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},Ya=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Vu=/[!%),.:;?\]}'""]/,Hu=/[$('"]/,Yu=/[!),.:;?\]}'""]/,$u=/[([{'"]/,Ku=/[)\]'"?!:;,.]/,Xu=/[(['"...]/,ju=/[!%),.:;?\]}'"]/,Ju=/[$([{'"#]/,Qu=new RegExp("".concat(Vu.source,"|").concat(Yu.source,"|").concat(Ku.source,"|").concat(ju.source)),qu=new RegExp("".concat(Hu.source,"|").concat($u.source,"|").concat(Xu.source,"|").concat(Ju.source)),el=function(){function n(r){var e=this;(0,U.Z)(this,n),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(t,i){return e.isBreakingSpace(i)?!1:!!(t&&(qu.exec(i)||Qu.exec(t)))},this.trimByKinsokuShorui=function(t){var i=(0,q.Z)(t),o=i[i.length-2];if(!o)return t;var s=o[o.length-1];return i[i.length-2]=o.slice(0,-1),i[i.length-1]=s+i[i.length-1],i},this.runtime=r}return(0,H.Z)(n,[{key:"measureFont",value:function(e,t){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var i={ascent:0,descent:0,fontSize:0},o=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(t),s=this.runtime.offscreenCanvasCreator.getOrCreateContext(t,{willReadFrequently:!0});s.font=e;var l=Er.MetricsString+Er.BaselineSymbol,h=Math.ceil(s.measureText(l).width),d=Math.ceil(s.measureText(Er.BaselineSymbol).width),D=Er.HeightMultiplier*d;d=d*Er.BaselineMultiplier|0,o.width=h,o.height=D,s.fillStyle="#f00",s.fillRect(0,0,h,D),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(l,0,d);var Y=s.getImageData(0,0,h||1,D||1).data,he=Y.length,Pe=h*4,Se=0,He=0,ze=!1;for(Se=0;Se<d;++Se){for(var rt=0;rt<Pe;rt+=4)if(Y[He+rt]!==255){ze=!0;break}if(!ze)He+=Pe;else break}for(i.ascent=d-Se,He=he-Pe,ze=!1,Se=D;Se>d;--Se){for(var tt=0;tt<Pe;tt+=4)if(Y[He+tt]!==255){ze=!0;break}if(!ze)He-=Pe;else break}return i.descent=Se-d,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[e]=i,i}},{key:"measureText",value:function(e,t,i){var o=t.fontSize,s=o===void 0?16:o,l=t.wordWrap,h=l===void 0?!1:l,d=t.lineHeight,D=t.lineWidth,Y=D===void 0?1:D,he=t.textBaseline,Pe=he===void 0?"alphabetic":he,Se=t.textAlign,He=Se===void 0?"start":Se,ze=t.letterSpacing,rt=ze===void 0?0:ze,tt=t.textPath;t.textPathSide,t.textPathStartOffset;var ot=t.leading,At=ot===void 0?0:ot,Ye=vu(t),Oe=this.measureFont(Ye,i);Oe.fontSize===0&&(Oe.fontSize=s,Oe.ascent=s);var Ue=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);Ue.font=Ye,t.isOverflowing=!1;var at=h?this.wordWrap(e,t,i):e,bt=at.split(/(?:\r\n|\r|\n)/),pt=new Array(bt.length),kt=0;if(tt){tt.getTotalLength();for(var Lt=0;Lt<bt.length;Lt++)Ue.measureText(bt[Lt]).width+(bt[Lt].length-1)*rt}else{for(var jt=0;jt<bt.length;jt++){var on=Ue.measureText(bt[jt]).width+(bt[jt].length-1)*rt;pt[jt]=on,kt=Math.max(kt,on)}var cn=kt+Y,vn=d||Oe.fontSize+Y,Ut=Math.max(vn,Oe.fontSize+Y)+(bt.length-1)*(vn+At);vn+=At;var un=0;return Pe==="middle"?un=-Ut/2:Pe==="bottom"||Pe==="alphabetic"||Pe==="ideographic"?un=-Ut:(Pe==="top"||Pe==="hanging")&&(un=0),{font:Ye,width:cn,height:Ut,lines:bt,lineWidths:pt,lineHeight:vn,maxLineWidth:kt,fontProperties:Oe,lineMetrics:pt.map(function(fn,In){var Wn=0;return He==="center"||He==="middle"?Wn-=fn/2:(He==="right"||He==="end")&&(Wn-=fn),new Ve(Wn-Y/2,un+In*vn,fn+Y,vn)})}}}},{key:"wordWrap",value:function(e,t,i){var o=this,s=this,l=t.wordWrapWidth,h=l===void 0?0:l,d=t.letterSpacing,D=d===void 0?0:d,Y=t.maxLines,he=Y===void 0?1/0:Y,Pe=t.textOverflow,Se=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),He=h+D,ze="";Pe==="ellipsis"?ze="...":Pe&&Pe!=="clip"&&(ze=Pe);var rt=Array.from(e),tt=[],ot=0,At=0,Ye=-1,Oe={},Ue=function(un){return o.getFromCache(un,D,Oe,Se)},at=Ue(ze);function bt(Ut,un,fn,In){for(;Ue(Ut)<In&&un<rt.length-1&&!s.isNewline(rt[un+1]);)un+=1,Ut+=rt[un];for(;Ue(Ut)>In&&un>=fn;)un-=1,Ut=Ut.slice(0,-1);return{lineTxt:Ut,txtLastCharIndex:un}}function pt(Ut,un){if(!(at<=0||at>He)){if(!tt[Ut]){tt[Ut]=ze;return}var fn=bt(tt[Ut],un,Ye+1,He-at);tt[Ut]=fn.lineTxt+ze}}for(var kt=0;kt<rt.length;kt++){var Lt=rt[kt],jt=rt[kt-1],on=rt[kt+1],cn=Ue(Lt);if(this.isNewline(Lt)){if(ot+1>=he){t.isOverflowing=!0,kt<rt.length-1&&pt(ot,kt-1);break}Ye=kt-1,ot+=1,At=0,tt[ot]="";continue}if(At>0&&At+cn>He){var vn=bt(tt[ot],kt-1,Ye+1,He);if(vn.txtLastCharIndex!==kt-1){if(tt[ot]=vn.lineTxt,vn.txtLastCharIndex===rt.length-1)break;kt=vn.txtLastCharIndex+1,Lt=rt[kt],jt=rt[kt-1],on=rt[kt+1],cn=Ue(Lt)}if(ot+1>=he){t.isOverflowing=!0,pt(ot,kt-1);break}if(Ye=kt-1,ot+=1,At=0,tt[ot]="",this.isBreakingSpace(Lt))continue;this.canBreakInLastChar(Lt)||(tt=this.trimToBreakable(tt),At=this.sumTextWidthByCache(tt[ot]||"",Ue)),this.shouldBreakByKinsokuShorui(Lt,on)&&(tt=this.trimByKinsokuShorui(tt),At+=Ue(jt||""))}At+=cn,tt[ot]=(tt[ot]||"")+Lt}return tt.join(`
`)}},{key:"isBreakingSpace",value:function(e){return typeof e!="string"?!1:Er.BreakingSpaces.indexOf(e.charCodeAt(0))>=0}},{key:"isNewline",value:function(e){return typeof e!="string"?!1:Er.Newlines.indexOf(e.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(e){var t=(0,q.Z)(e),i=t[t.length-2],o=this.findBreakableIndex(i);if(o===-1||!i)return t;var s=i.slice(o,o+1),l=this.isBreakingSpace(s),h=o+1,d=o+(l?0:1);return t[t.length-1]+=i.slice(h,i.length),t[t.length-2]=i.slice(0,d),t}},{key:"canBreakInLastChar",value:function(e){return!(e&&Ya.test(e))}},{key:"sumTextWidthByCache",value:function(e,t){return e.split("").reduce(function(i,o){return i+t(o)},0)}},{key:"findBreakableIndex",value:function(e){for(var t=e.length-1;t>=0;t--)if(!Ya.test(e[t]))return t;return-1}},{key:"getFromCache",value:function(e,t,i,o){var s=i[e];if(typeof s!="number"){var l=e.length*t,h=o.measureText(e);s=h.width+l,i[e]=s}return s}}])}(),It={},tl=function(n){var r=new Pu,e=new wu;return n={},(0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)(n,Vt.FRAGMENT,null),Vt.CIRCLE,new Mu),Vt.ELLIPSE,new bu),Vt.RECT,r),Vt.IMAGE,r),Vt.GROUP,new Cu),Vt.LINE,new ku),Vt.TEXT,new Su(It)),Vt.POLYLINE,e),Vt.POLYGON,e),(0,Ht.Z)((0,Ht.Z)((0,Ht.Z)(n,Vt.PATH,new Tu),Vt.HTML,new Au),Vt.MESH,null)}(),nl=function(n){var r=new Lo,e=new wi;return n={},(0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)(n,Tt.PERCENTAGE,null),Tt.NUMBER,new Zo),Tt.ANGLE,new Ro),Tt.DEFINED_PATH,new Oo),Tt.PAINT,r),Tt.COLOR,r),Tt.FILTER,new No),Tt.LENGTH,e),Tt.LENGTH_PERCENTAGE,e),Tt.LENGTH_PERCENTAGE_12,new _o),(0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)((0,Ht.Z)(n,Tt.LENGTH_PERCENTAGE_14,new Io),Tt.COORDINATE,new wi),Tt.OFFSET_DISTANCE,new Bo),Tt.OPACITY_VALUE,new Fo),Tt.PATH,new Go),Tt.LIST_OF_POINTS,new zo),Tt.SHADOW_BLUR,new Wo),Tt.TEXT,new Uo),Tt.TEXT_TRANSFORM,new Vo),Tt.TRANSFORM,new yu),(0,Ht.Z)((0,Ht.Z)((0,Ht.Z)(n,Tt.TRANSFORM_ORIGIN,new xu),Tt.Z_INDEX,new Eu),Tt.MARKER,new Do)}(),rl=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof y.g!="undefined"?y.g:{}};It.CameraContribution=Kt,It.AnimationTimeline=null,It.EasingFunction=null,It.offscreenCanvasCreator=new Wa,It.sceneGraphSelector=new _u,It.sceneGraphService=new Uu(It),It.textService=new el(It),It.geometryUpdaterFactory=tl,It.CSSPropertySyntaxFactory=nl,It.styleValueRegistry=new Co(It),It.layoutRegistry=null,It.globalThis=rl(),It.enableStyleSyntax=!0,It.enableSizeAttenuation=!1;var $a=0;function Dl(){$a=0}var _i=new sr(Fn.INSERTED,null,"","","",0,"",""),Ii=new sr(Fn.REMOVED,null,"","","",0,"",""),Ka=new zn(Fn.DESTROY),il=function(n){function r(){var e;(0,U.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=(0,C.Z)(this,r,[].concat(i)),e.entity=$a++,e.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},e.cullable={strategy:nn.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},e.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},e.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},e.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},e.rBushNode={aabb:void 0},e.namespaceURI="g",e.scrollLeft=0,e.scrollTop=0,e.clientTop=0,e.clientLeft=0,e.destroyed=!1,e.style={},e.computedStyle={},e.parsedStyle={},e.attributes={},e}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(t){return t!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t-1]||null}return null}},{key:"cloneNode",value:function(t){throw new Error(Qe)}},{key:"appendChild",value:function(t,i){var o;if(t.destroyed)throw new Error(gt);return It.sceneGraphService.attach(t,this,i),(o=this.ownerDocument)!==null&&o!==void 0&&o.defaultView&&(!jr(this)&&t.nodeName===Vt.FRAGMENT?this.ownerDocument.defaultView.mountFragment(t):this.ownerDocument.defaultView.mountChildren(t)),this.isMutationObserved&&(_i.relatedNode=this,t.dispatchEvent(_i)),t}},{key:"insertBefore",value:function(t,i){if(!i)this.appendChild(t);else{t.parentElement&&t.parentElement.removeChild(t);var o=this.childNodes.indexOf(i);o===-1?this.appendChild(t):this.appendChild(t,o)}return t}},{key:"replaceChild",value:function(t,i){var o=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(t,o),i}},{key:"removeChild",value:function(t){var i;return Ii.relatedNode=this,t.dispatchEvent(Ii),(i=t.ownerDocument)!==null&&i!==void 0&&i.defaultView&&t.ownerDocument.defaultView.unmountChildren(t),It.sceneGraphService.detach(t),t}},{key:"removeChildren",value:function(){for(var t=this.childNodes.length-1;t>=0;t--){var i=this.childNodes[t];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var t=this.childNodes.length-1;t>=0;t--){var i=this.childNodes[t];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(t){return It.sceneGraphService.matches(t,this)}},{key:"getElementById",value:function(t){return It.sceneGraphService.querySelector("#".concat(t),this)}},{key:"getElementsByName",value:function(t){return It.sceneGraphService.querySelectorAll('[name="'.concat(t,'"]'),this)}},{key:"getElementsByClassName",value:function(t){return It.sceneGraphService.querySelectorAll(".".concat(t),this)}},{key:"getElementsByTagName",value:function(t){return It.sceneGraphService.querySelectorAll(t,this)}},{key:"querySelector",value:function(t){return It.sceneGraphService.querySelector(t,this)}},{key:"querySelectorAll",value:function(t){return It.sceneGraphService.querySelectorAll(t,this)}},{key:"closest",value:function(t){var i=this;do{if(It.sceneGraphService.matches(t,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(t){var i=this,o=null;return this.forEach(function(s){return s!==i&&t(s)?(o=s,!1):!0}),o}},{key:"findAll",value:function(t){var i=this,o=[];return this.forEach(function(s){s!==i&&t(s)&&o.push(s)}),o}},{key:"after",value:function(){var t=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];s.forEach(function(h,d){var D;return(D=t.parentNode)===null||D===void 0?void 0:D.appendChild(h,i+d+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var t,i=this.parentNode.childNodes.indexOf(this),o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var h=s[0],d=s.slice(1);this.parentNode.appendChild(h,i),(t=h).after.apply(t,(0,q.Z)(d))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var t=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];o.forEach(function(l){return t.appendChild(l)})}},{key:"prepend",value:function(){for(var t=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];o.forEach(function(l,h){return t.appendChild(l,h)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(Ka),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return It.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return It.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return It.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return It.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return It.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(t){if(typeof t!="symbol"){var i=this.attributes[t];return i}}},{key:"hasAttribute",value:function(t){return this.getAttributeNames().includes(t)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(t){this.setAttribute(t,null),delete this.attributes[t]}},{key:"setAttribute",value:function(t,i,o,s){this.attributes[t]=i}},{key:"getAttributeNS",value:function(t,i){throw new Error(Qe)}},{key:"getAttributeNode",value:function(t){throw new Error(Qe)}},{key:"getAttributeNodeNS",value:function(t,i){throw new Error(Qe)}},{key:"hasAttributeNS",value:function(t,i){throw new Error(Qe)}},{key:"removeAttributeNS",value:function(t,i){throw new Error(Qe)}},{key:"removeAttributeNode",value:function(t){throw new Error(Qe)}},{key:"setAttributeNS",value:function(t,i,o){throw new Error(Qe)}},{key:"setAttributeNode",value:function(t){throw new Error(Qe)}},{key:"setAttributeNodeNS",value:function(t){throw new Error(Qe)}},{key:"toggleAttribute",value:function(t,i){throw new Error(Qe)}}])}(Sn);function kn(n){return!!(n!=null&&n.nodeName)}var al=It.globalThis.Proxy?It.globalThis.Proxy:function(){},or=new sr(Fn.ATTR_MODIFIED,null,null,null,null,sr.MODIFICATION,null,null),Ir=m.Ue(),sl=k.Ue(),Cn=function(n){function r(e){var t;return(0,U.Z)(this,r),t=(0,C.Z)(this,r),t.isCustomElement=!1,t.isMutationObserved=!1,t.activeAnimations=[],t.config=e,t.id=e.id||"",t.name=e.name||"",(e.className||e.class)&&(t.className=e.className||e.class),t.nodeName=e.type||Vt.GROUP,e.initialParsedStyle&&Object.assign(t.parsedStyle,e.initialParsedStyle),t.initAttributes(e.style),It.enableStyleSyntax&&(t.style=new al({setProperty:function(o,s){t.setAttribute(o,s)},getPropertyValue:function(o){return t.getAttribute(o)},removeProperty:function(o){t.removeAttribute(o)},item:function(){return""}},{get:function(o,s){return o[s]!==void 0?o[s]:t.getAttribute(s)},set:function(o,s,l){return t.setAttribute(s,l),!0}})),t}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"destroy",value:function(){yn(r,"destroy",this,3)([]),this.getAnimations().forEach(function(t){t.cancel()})}},{key:"cloneNode",value:function(t,i){var o=(0,u.Z)({},this.attributes);for(var s in o){var l=o[s];kn(l)&&s!=="clipPath"&&s!=="offsetPath"&&s!=="textPath"&&(o[s]=l.cloneNode(t)),i&&(o[s]=i(s,l))}var h=new this.constructor((0,u.Z)((0,u.Z)({},this.config),{},{style:o}));return h.setLocalTransform(this.getLocalTransform()),t&&this.children.forEach(function(d){if(!d.style.isMarker){var D=d.cloneNode(t);h.appendChild(D)}}),h}},{key:"initAttributes",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};It.styleValueRegistry.processProperties(this,t,i),this.renderable.dirty=!0}},{key:"setAttribute",value:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;(0,ct.Z)(i)||(o||i!==this.attributes[t])&&(this.internalSetAttribute(t,i,{memoize:s}),yn(r,"setAttribute",this,3)([t,i]))}},{key:"internalSetAttribute",value:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.renderable,l=this.attributes[t],h=this.parsedStyle[t];It.styleValueRegistry.processProperties(this,(0,Ht.Z)({},t,i),o),s.dirty=!0;var d=this.parsedStyle[t];if(this.isConnected&&(or.relatedNode=this,or.prevValue=l,or.newValue=i,or.attrName=t,or.prevParsedValue=h,or.newParsedValue=d,this.isMutationObserved?this.dispatchEvent(or):(or.target=this,this.ownerDocument.defaultView.dispatchEvent(or,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement){var D,Y;(D=(Y=this).attributeChangedCallback)===null||D===void 0||D.call(Y,t,l,i,h,d)}}},{key:"getBBox",value:function(){var t=this.getBounds(),i=t.getMin(),o=(0,X.Z)(i,2),s=o[0],l=o[1],h=t.getMax(),d=(0,X.Z)(h,2),D=d[0],Y=d[1];return new Ve(s,l,D-s,Y-l)}},{key:"setOrigin",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return It.sceneGraphService.setOrigin(this,K(t,i,o,!1)),this}},{key:"getOrigin",value:function(){return It.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return It.sceneGraphService.setPosition(this,K(t,i,o,!1)),this}},{key:"setLocalPosition",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return It.sceneGraphService.setLocalPosition(this,K(t,i,o,!1)),this}},{key:"translate",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return It.sceneGraphService.translate(this,K(t,i,o,!1)),this}},{key:"translateLocal",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return It.sceneGraphService.translateLocal(this,K(t,i,o,!1)),this}},{key:"getPosition",value:function(){return It.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return It.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(t,i,o){return this.scaleLocal(t,i,o)}},{key:"scaleLocal",value:function(t,i,o){return typeof t=="number"&&(i=i||t,o=o||t,t=K(t,i,o,!1)),It.sceneGraphService.scaleLocal(this,t),this}},{key:"setLocalScale",value:function(t,i,o){return typeof t=="number"&&(i=i||t,o=o||t,t=K(t,i,o,!1)),It.sceneGraphService.setLocalScale(this,t),this}},{key:"getLocalScale",value:function(){return It.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return It.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var t=rn(Ir,It.sceneGraphService.getWorldTransform(this)),i=(0,X.Z)(t,3),o=i[2];return Ne(o)}},{key:"getLocalEulerAngles",value:function(){var t=rn(Ir,It.sceneGraphService.getLocalRotation(this)),i=(0,X.Z)(t,3),o=i[2];return Ne(o)}},{key:"setEulerAngles",value:function(t){return It.sceneGraphService.setEulerAngles(this,0,0,t),this}},{key:"setLocalEulerAngles",value:function(t){return It.sceneGraphService.setLocalEulerAngles(this,0,0,t),this}},{key:"rotateLocal",value:function(t,i,o){return(0,j.Z)(i)&&(0,j.Z)(o)?It.sceneGraphService.rotateLocal(this,0,0,t):It.sceneGraphService.rotateLocal(this,t,i,o),this}},{key:"rotate",value:function(t,i,o){return(0,j.Z)(i)&&(0,j.Z)(o)?It.sceneGraphService.rotate(this,0,0,t):It.sceneGraphService.rotate(this,t,i,o),this}},{key:"setRotation",value:function(t,i,o,s){return It.sceneGraphService.setRotation(this,t,i,o,s),this}},{key:"setLocalRotation",value:function(t,i,o,s){return It.sceneGraphService.setLocalRotation(this,t,i,o,s),this}},{key:"setLocalSkew",value:function(t,i){return It.sceneGraphService.setLocalSkew(this,t,i),this}},{key:"getRotation",value:function(){return It.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return It.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return It.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return It.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return It.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(t){return It.sceneGraphService.setLocalTransform(this,t),this}},{key:"resetLocalTransform",value:function(){It.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(t,i){var o,s=(o=this.ownerDocument)===null||o===void 0?void 0:o.timeline;return s?s.play(this,t,i):null}},{key:"isVisible",value:function(){var t;return((t=this.parsedStyle)===null||t===void 0?void 0:t.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(t){this.style.pointerEvents=t?"auto":"none"}},{key:"isInteractive",value:function(){var t;return((t=this.parsedStyle)===null||t===void 0?void 0:t.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,(0,q.Z)(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,(0,q.Z)(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var t=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var l=o[0],h=o[1];return l?(0,tn.Z)(l)?(Object.keys(l).forEach(function(d){t.setAttribute(d,l[d])}),this):o.length===2?(this.setAttribute(l,h),this):this.attributes[l]:this.attributes}},{key:"getMatrix",value:function(t){var i=t||this.getWorldTransform(),o=S.getTranslation(Ir,i),s=(0,X.Z)(o,2),l=s[0],h=s[1],d=S.getScaling(Ir,i),D=(0,X.Z)(d,2),Y=D[0],he=D[1],Pe=S.getRotation(sl,i),Se=rn(Ir,Pe),He=(0,X.Z)(Se,3),ze=He[0],rt=He[2];return hn(ze||rt,l,h,Y,he)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(t){var i=I(t),o=(0,X.Z)(i,5),s=o[0],l=o[1],h=o[2],d=o[3],D=o[4];this.setEulerAngles(D).setPosition(s,l).setLocalScale(h,d)}},{key:"setLocalMatrix",value:function(t){var i=I(t),o=(0,X.Z)(i,5),s=o[0],l=o[1],h=o[2],d=o[3],D=o[4];this.setLocalEulerAngles(D).setLocalPosition(s,l).setLocalScale(h,d)}},{key:"show",value:function(){this.forEach(function(t){t.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(t){t.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(t){return this.children[t]||null}},{key:"add",value:function(t,i){return this.appendChild(t,i)}},{key:"set",value:function(t,i){this.config[t]=i}},{key:"get",value:function(t){return this.config[t]}},{key:"moveTo",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(t,i,o),this}},{key:"move",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(t,i,o),this}},{key:"setZIndex",value:function(t){return this.style.zIndex=t,this}}])}(il);Cn.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Di=function(n){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,U.Z)(this,r),(0,C.Z)(this,r,[(0,u.Z)({type:Vt.CIRCLE},e)])}return(0,ee.Z)(r,n),(0,H.Z)(r)}(Cn);Di.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Cn.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var ol=["style"],Xa=function(n){function r(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.style,o=(0,Bn.Z)(t,ol);return(0,U.Z)(this,r),e=(0,C.Z)(this,r,[(0,u.Z)({style:i},o)]),e.isCustomElement=!0,e}return(0,ee.Z)(r,n),(0,H.Z)(r)}(Cn);Xa.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Zi=function(n){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,U.Z)(this,r),(0,C.Z)(this,r,[(0,u.Z)({type:Vt.ELLIPSE},e)])}return(0,ee.Z)(r,n),(0,H.Z)(r)}(Cn);Zi.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Cn.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var ul=function(n){function r(){return(0,U.Z)(this,r),(0,C.Z)(this,r,[{type:Vt.FRAGMENT}])}return(0,ee.Z)(r,n),(0,H.Z)(r)}(Cn);ul.PARSED_STYLE_LIST=new Set(["class","className"]);var Dr=function(n){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,U.Z)(this,r),(0,C.Z)(this,r,[(0,u.Z)({type:Vt.GROUP},e)])}return(0,ee.Z)(r,n),(0,H.Z)(r)}(Cn);Dr.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var ll=["style"],Bi=function(n){function r(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.style,o=(0,Bn.Z)(t,ll);return(0,U.Z)(this,r),e=(0,C.Z)(this,r,[(0,u.Z)({type:Vt.HTML,style:i},o)]),e.cullable.enable=!1,e}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var t=S.invert(S.create(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!fe.isEmpty(i)){var o=new fe;return o.setFromTransformedAABB(i,t),o}}return this.getBounds()}}])}(Cn);Bi.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Cn.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var Fi=function(n){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,U.Z)(this,r),(0,C.Z)(this,r,[(0,u.Z)({type:Vt.IMAGE},e)])}return(0,ee.Z)(r,n),(0,H.Z)(r)}(Cn);Fi.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Cn.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var cl=["style"],Gi=function(n){function r(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.style,o=(0,Bn.Z)(t,cl);(0,U.Z)(this,r),e=(0,C.Z)(this,r,[(0,u.Z)({type:Vt.LINE,style:(0,u.Z)({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},o)]),e.markerStartAngle=0,e.markerEndAngle=0;var s=e.parsedStyle,l=s.markerStart,h=s.markerEnd;return l&&kn(l)&&(e.markerStartAngle=l.getLocalEulerAngles(),e.appendChild(l)),h&&kn(h)&&(e.markerEndAngle=h.getLocalEulerAngles(),e.appendChild(h)),e.transformMarker(!0),e.transformMarker(!1),e}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"attributeChangedCallback",value:function(t,i,o,s,l){t==="x1"||t==="y1"||t==="x2"||t==="y2"||t==="markerStartOffset"||t==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):t==="markerStart"?(s&&kn(s)&&(this.markerStartAngle=0,s.remove()),l&&kn(l)&&(this.markerStartAngle=l.getLocalEulerAngles(),this.appendChild(l),this.transformMarker(!0))):t==="markerEnd"&&(s&&kn(s)&&(this.markerEndAngle=0,s.remove()),l&&kn(l)&&(this.markerEndAngle=l.getLocalEulerAngles(),this.appendChild(l),this.transformMarker(!1)))}},{key:"transformMarker",value:function(t){var i=this.parsedStyle,o=i.markerStart,s=i.markerEnd,l=i.markerStartOffset,h=i.markerEndOffset,d=i.x1,D=i.x2,Y=i.y1,he=i.y2,Pe=t?o:s;if(!(!Pe||!kn(Pe))){var Se=0,He,ze,rt,tt,ot,At;t?(rt=d,tt=Y,He=D-d,ze=he-Y,ot=l||0,At=this.markerStartAngle):(rt=D,tt=he,He=d-D,ze=Y-he,ot=h||0,At=this.markerEndAngle),Se=Math.atan2(ze,He),Pe.setLocalEulerAngles(Se*180/Math.PI+At),Pe.setLocalPosition(rt+Math.cos(Se)*ot,tt+Math.sin(Se)*ot)}}},{key:"getPoint",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=this.parsedStyle,s=o.x1,l=o.y1,h=o.x2,d=o.y2,D=(0,xn.U4)(s,l,h,d,t),Y=D.x,he=D.y,Pe=m.fF(m.Ue(),m.al(Y,he,0),i?this.getWorldTransform():this.getLocalTransform());return new We(Pe[0],Pe[1])}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(t/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var t=this.parsedStyle,i=t.x1,o=t.y1,s=t.x2,l=t.y2;return(0,xn.Xk)(i,o,s,l)}}])}(Cn);Gi.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Cn.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var fl=["style"],zi=function(n){function r(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.style,o=(0,Bn.Z)(t,fl);(0,U.Z)(this,r),e=(0,C.Z)(this,r,[(0,u.Z)({type:Vt.PATH,style:i,initialParsedStyle:{miterLimit:4,d:(0,u.Z)({},dn)}},o)]),e.markerStartAngle=0,e.markerEndAngle=0,e.markerMidList=[];var s=e.parsedStyle,l=s.markerStart,h=s.markerEnd,d=s.markerMid;return l&&kn(l)&&(e.markerStartAngle=l.getLocalEulerAngles(),e.appendChild(l)),d&&kn(d)&&e.placeMarkerMid(d),h&&kn(h)&&(e.markerEndAngle=h.getLocalEulerAngles(),e.appendChild(h)),e.transformMarker(!0),e.transformMarker(!1),e}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"attributeChangedCallback",value:function(t,i,o,s,l){t==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):t==="markerStartOffset"||t==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):t==="markerStart"?(s&&kn(s)&&(this.markerStartAngle=0,s.remove()),l&&kn(l)&&(this.markerStartAngle=l.getLocalEulerAngles(),this.appendChild(l),this.transformMarker(!0))):t==="markerEnd"?(s&&kn(s)&&(this.markerEndAngle=0,s.remove()),l&&kn(l)&&(this.markerEndAngle=l.getLocalEulerAngles(),this.appendChild(l),this.transformMarker(!1))):t==="markerMid"&&this.placeMarkerMid(l)}},{key:"transformMarker",value:function(t){var i=this.parsedStyle,o=i.markerStart,s=i.markerEnd,l=i.markerStartOffset,h=i.markerEndOffset,d=t?o:s;if(!(!d||!kn(d))){var D=0,Y,he,Pe,Se,He,ze;if(t){var rt=this.getStartTangent(),tt=(0,X.Z)(rt,2),ot=tt[0],At=tt[1];Pe=At[0],Se=At[1],Y=ot[0]-At[0],he=ot[1]-At[1],He=l||0,ze=this.markerStartAngle}else{var Ye=this.getEndTangent(),Oe=(0,X.Z)(Ye,2),Ue=Oe[0],at=Oe[1];Pe=at[0],Se=at[1],Y=Ue[0]-at[0],he=Ue[1]-at[1],He=h||0,ze=this.markerEndAngle}D=Math.atan2(he,Y),d.setLocalEulerAngles(D*180/Math.PI+ze),d.setLocalPosition(Pe+Math.cos(D)*He,Se+Math.sin(D)*He)}}},{key:"placeMarkerMid",value:function(t){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(D){D.remove()}),t&&kn(t))for(var o=1;o<i.length-1;o++){var s=(0,X.Z)(i[o].currentPoint,2),l=s[0],h=s[1],d=o===1?t:t.cloneNode(!0);this.markerMidList.push(d),this.appendChild(d),d.setLocalPosition(l,h)}}},{key:"getTotalLength",value:function(){return xi(this)}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=this.parsedStyle.d.absolutePath,s=an(o,t),l=s.x,h=s.y,d=m.fF(m.Ue(),m.al(l,h,0),i?this.getWorldTransform():this.getLocalTransform());return new We(d[0],d[1])}},{key:"getPoint",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(t*xi(this),i)}},{key:"getStartTangent",value:function(){var t=this.parsedStyle.d.segments,i=[];if(t.length>1){var o=t[0].currentPoint,s=t[1].currentPoint,l=t[1].startTangent;i=[],l?(i.push([o[0]-l[0],o[1]-l[1]]),i.push([o[0],o[1]])):(i.push([s[0],s[1]]),i.push([o[0],o[1]]))}return i}},{key:"getEndTangent",value:function(){var t=this.parsedStyle.d.segments,i=t.length,o=[];if(i>1){var s=t[i-2].currentPoint,l=t[i-1].currentPoint,h=t[i-1].endTangent;o=[],h?(o.push([l[0]-h[0],l[1]-h[1]]),o.push([l[0],l[1]])):(o.push([s[0],s[1]]),o.push([l[0],l[1]]))}return o}}])}(Cn);zi.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Cn.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var hl=["style"],Zr=function(n){function r(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.style,o=(0,Bn.Z)(t,hl);(0,U.Z)(this,r),e=(0,C.Z)(this,r,[(0,u.Z)({type:Vt.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},o)]),e.markerStartAngle=0,e.markerEndAngle=0,e.markerMidList=[];var s=e.parsedStyle,l=s.markerStart,h=s.markerEnd,d=s.markerMid;return l&&kn(l)&&(e.markerStartAngle=l.getLocalEulerAngles(),e.appendChild(l)),d&&kn(d)&&e.placeMarkerMid(d),h&&kn(h)&&(e.markerEndAngle=h.getLocalEulerAngles(),e.appendChild(h)),e.transformMarker(!0),e.transformMarker(!1),e}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"attributeChangedCallback",value:function(t,i,o,s,l){t==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):t==="markerStartOffset"||t==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):t==="markerStart"?(s&&kn(s)&&(this.markerStartAngle=0,s.remove()),l&&kn(l)&&(this.markerStartAngle=l.getLocalEulerAngles(),this.appendChild(l),this.transformMarker(!0))):t==="markerEnd"?(s&&kn(s)&&(this.markerEndAngle=0,s.remove()),l&&kn(l)&&(this.markerEndAngle=l.getLocalEulerAngles(),this.appendChild(l),this.transformMarker(!1))):t==="markerMid"&&this.placeMarkerMid(l)}},{key:"transformMarker",value:function(t){var i=this.parsedStyle,o=i.markerStart,s=i.markerEnd,l=i.markerStartOffset,h=i.markerEndOffset,d=i.points,D=d||{},Y=D.points,he=t?o:s;if(!(!he||!kn(he)||!Y)){var Pe=0,Se,He,ze,rt,tt,ot;if(ze=Y[0][0],rt=Y[0][1],t)Se=Y[1][0]-Y[0][0],He=Y[1][1]-Y[0][1],tt=l||0,ot=this.markerStartAngle;else{var At=Y.length;this.parsedStyle.isClosed?(Se=Y[At-1][0]-Y[0][0],He=Y[At-1][1]-Y[0][1]):(ze=Y[At-1][0],rt=Y[At-1][1],Se=Y[At-2][0]-Y[At-1][0],He=Y[At-2][1]-Y[At-1][1]),tt=h||0,ot=this.markerEndAngle}Pe=Math.atan2(He,Se),he.setLocalEulerAngles(Pe*180/Math.PI+ot),he.setLocalPosition(ze+Math.cos(Pe)*tt,rt+Math.sin(Pe)*tt)}}},{key:"placeMarkerMid",value:function(t){var i=this.parsedStyle.points,o=i||{},s=o.points;if(this.markerMidList.forEach(function(Y){Y.remove()}),this.markerMidList=[],t&&kn(t)&&s)for(var l=1;l<(this.parsedStyle.isClosed?s.length:s.length-1);l++){var h=s[l][0],d=s[l][1],D=l===1?t:t.cloneNode(!0);this.markerMidList.push(D),this.appendChild(D),D.setLocalPosition(h,d)}}}])}(Cn);Zr.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Cn.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var vl=["style"],Wi=function(n){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.style,i=(0,Bn.Z)(e,vl);return(0,U.Z)(this,r),(0,C.Z)(this,r,[(0,u.Z)({type:Vt.POLYLINE,style:t,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"getTotalLength",value:function(){return qs(this)}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(t/this.getTotalLength(),i)}},{key:"getPoint",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var s=[],l=0,h,d,D=this.getTotalLength();o.forEach(function(rt,tt){o[tt+1]&&(h=[0,0],h[0]=l/D,d=(0,xn.Xk)(rt[0],rt[1],o[tt+1][0],o[tt+1][1]),l+=d,h[1]=l/D,s.push(h))}),this.parsedStyle.points.segments=s}var Y=0,he=0;this.parsedStyle.points.segments.forEach(function(rt,tt){t>=rt[0]&&t<=rt[1]&&(Y=(t-rt[0])/(rt[1]-rt[0]),he=tt)});var Pe=(0,xn.U4)(o[he][0],o[he][1],o[he+1][0],o[he+1][1],Y),Se=Pe.x,He=Pe.y,ze=m.fF(m.Ue(),m.al(Se,He,0),i?this.getWorldTransform():this.getLocalTransform());return new We(ze[0],ze[1])}},{key:"getStartTangent",value:function(){var t=this.parsedStyle.points.points,i=[];return i.push([t[1][0],t[1][1]]),i.push([t[0][0],t[0][1]]),i}},{key:"getEndTangent",value:function(){var t=this.parsedStyle.points.points,i=t.length-1,o=[];return o.push([t[i-1][0],t[i-1][1]]),o.push([t[i][0],t[i][1]]),o}}])}(Zr);Wi.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Zr.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Ui=function(n){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,U.Z)(this,r),(0,C.Z)(this,r,[(0,u.Z)({type:Vt.RECT},e)])}return(0,ee.Z)(r,n),(0,H.Z)(r)}(Cn);Ui.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Cn.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var dl=["style"],ni=function(n){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.style,i=(0,Bn.Z)(e,dl);return(0,U.Z)(this,r),(0,C.Z)(this,r,[(0,u.Z)({type:Vt.TEXT,style:(0,u.Z)({fill:"black"},t)},i)])}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"getComputedTextLength",value:function(){var t;return this.getGeometryBounds(),((t=this.parsedStyle.metrics)===null||t===void 0?void 0:t.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var t;return this.getGeometryBounds(),((t=this.parsedStyle.metrics)===null||t===void 0?void 0:t.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Cn);ni.PARSED_STYLE_LIST=new Set([].concat((0,q.Z)(Cn.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var pl=function(){function n(){(0,U.Z)(this,n),this.registry={},this.define(Vt.CIRCLE,Di),this.define(Vt.ELLIPSE,Zi),this.define(Vt.RECT,Ui),this.define(Vt.IMAGE,Fi),this.define(Vt.LINE,Gi),this.define(Vt.GROUP,Dr),this.define(Vt.PATH,zi),this.define(Vt.POLYGON,Zr),this.define(Vt.POLYLINE,Wi),this.define(Vt.TEXT,ni),this.define(Vt.HTML,Bi)}return(0,H.Z)(n,[{key:"define",value:function(e,t){this.registry[e]=t}},{key:"get",value:function(e){return this.registry[e]}}])}(),gl={number:function(r){return new Mn(r)},percent:function(r){return new Mn(r,"%")},px:function(r){return new Mn(r,"px")},em:function(r){return new Mn(r,"em")},rem:function(r){return new Mn(r,"rem")},deg:function(r){return new Mn(r,"deg")},grad:function(r){return new Mn(r,"grad")},rad:function(r){return new Mn(r,"rad")},turn:function(r){return new Mn(r,"turn")},s:function(r){return new Mn(r,"s")},ms:function(r){return new Mn(r,"ms")},registerProperty:function(r){var e=r.name,t=r.inherits,i=r.interpolable,o=r.initialValue,s=r.syntax;It.styleValueRegistry.registerMetadata({n:e,inh:t,int:i,d:o,syntax:s})},registerLayout:function(r,e){It.layoutRegistry.registerLayout(r,e)}},ja=function(n){function r(){var e;(0,U.Z)(this,r),e=(0,C.Z)(this,r),e.defaultView=null,e.ownerDocument=null,e.nodeName="document";try{e.timeline=new It.AnimationTimeline(e)}catch(i){}var t={};return Ti.forEach(function(i){var o=i.n,s=i.inh,l=i.d;s&&l&&(t[o]=(0,en.Z)(l)?l(Vt.GROUP):l)}),e.documentElement=new Dr({id:"g-root",style:t}),e.documentElement.ownerDocument=e,e.documentElement.parentNode=e,e.childNodes=[e.documentElement],e}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(t,i){if(t==="svg")return this.documentElement;var o=this.defaultView.customElements.get(t);o||(console.warn("Unsupported tagName: ",t),o=t==="tspan"?ni:Dr);var s=new o(i);return s.ownerDocument=this,s}},{key:"createElementNS",value:function(t,i,o){return this.createElement(i,o)}},{key:"cloneNode",value:function(t){throw new Error(Qe)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(t){}}},{key:"elementsFromBBox",value:function(t,i,o,s){var l=this.defaultView.context.rBushRoot,h=l.search({minX:t,minY:i,maxX:o,maxY:s}),d=[];return h.forEach(function(D){var Y=D.displayObject,he=Y.parsedStyle.pointerEvents,Pe=he===void 0?"auto":he,Se=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(Pe);(!Se||Se&&Y.isVisible())&&!Y.isCulled()&&Y.isInteractive()&&d.push(Y)}),d.sort(function(D,Y){return Y.sortable.renderOrder-D.sortable.renderOrder}),d}},{key:"elementFromPointSync",value:function(t,i){var o=this.defaultView.canvas2Viewport({x:t,y:i}),s=o.x,l=o.y,h=this.defaultView.getConfig(),d=h.width,D=h.height;if(s<0||l<0||s>d||l>D)return null;var Y=this.defaultView.viewport2Client({x:s,y:l}),he=Y.x,Pe=Y.y,Se=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:t,y:i,viewportX:s,viewportY:l,clientX:he,clientY:Pe},picked:[]}),He=Se.picked;return He&&He[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var e=(0,bn.Z)((0,En.Z)().mark(function i(o,s){var l,h,d,D,Y,he,Pe,Se,He,ze,rt;return(0,En.Z)().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if(l=this.defaultView.canvas2Viewport({x:o,y:s}),h=l.x,d=l.y,D=this.defaultView.getConfig(),Y=D.width,he=D.height,!(h<0||d<0||h>Y||d>he)){ot.next=4;break}return ot.abrupt("return",null);case 4:return Pe=this.defaultView.viewport2Client({x:h,y:d}),Se=Pe.x,He=Pe.y,ot.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:o,y:s,viewportX:h,viewportY:d,clientX:Se,clientY:He},picked:[]});case 7:return ze=ot.sent,rt=ze.picked,ot.abrupt("return",rt&&rt[0]||this.documentElement);case 10:case"end":return ot.stop()}},i,this)}));function t(i,o){return e.apply(this,arguments)}return t}()},{key:"elementsFromPointSync",value:function(t,i){var o=this.defaultView.canvas2Viewport({x:t,y:i}),s=o.x,l=o.y,h=this.defaultView.getConfig(),d=h.width,D=h.height;if(s<0||l<0||s>d||l>D)return[];var Y=this.defaultView.viewport2Client({x:s,y:l}),he=Y.x,Pe=Y.y,Se=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:t,y:i,viewportX:s,viewportY:l,clientX:he,clientY:Pe},picked:[]}),He=Se.picked;return He[He.length-1]!==this.documentElement&&He.push(this.documentElement),He}},{key:"elementsFromPoint",value:function(){var e=(0,bn.Z)((0,En.Z)().mark(function i(o,s){var l,h,d,D,Y,he,Pe,Se,He,ze,rt;return(0,En.Z)().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if(l=this.defaultView.canvas2Viewport({x:o,y:s}),h=l.x,d=l.y,D=this.defaultView.getConfig(),Y=D.width,he=D.height,!(h<0||d<0||h>Y||d>he)){ot.next=4;break}return ot.abrupt("return",[]);case 4:return Pe=this.defaultView.viewport2Client({x:h,y:d}),Se=Pe.x,He=Pe.y,ot.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:o,y:s,viewportX:h,viewportY:d,clientX:Se,clientY:He},picked:[]});case 7:return ze=ot.sent,rt=ze.picked,rt[rt.length-1]!==this.documentElement&&rt.push(this.documentElement),ot.abrupt("return",rt);case 11:case"end":return ot.stop()}},i,this)}));function t(i,o){return e.apply(this,arguments)}return t}()},{key:"appendChild",value:function(t,i){throw new Error(ut)}},{key:"insertBefore",value:function(t,i){throw new Error(ut)}},{key:"removeChild",value:function(t,i){throw new Error(ut)}},{key:"replaceChild",value:function(t,i,o){throw new Error(ut)}},{key:"append",value:function(){throw new Error(ut)}},{key:"prepend",value:function(){throw new Error(ut)}},{key:"getElementById",value:function(t){return this.documentElement.getElementById(t)}},{key:"getElementsByName",value:function(t){return this.documentElement.getElementsByName(t)}},{key:"getElementsByTagName",value:function(t){return this.documentElement.getElementsByTagName(t)}},{key:"getElementsByClassName",value:function(t){return this.documentElement.getElementsByClassName(t)}},{key:"querySelector",value:function(t){return this.documentElement.querySelector(t)}},{key:"querySelectorAll",value:function(t){return this.documentElement.querySelectorAll(t)}},{key:"find",value:function(t){return this.documentElement.find(t)}},{key:"findAll",value:function(t){return this.documentElement.findAll(t)}}])}(Sn),Ja=function(){function n(r){(0,U.Z)(this,n),this.strategies=r}return(0,H.Z)(n,[{key:"apply",value:function(e){var t=e.camera,i=e.renderingService,o=e.renderingContext,s=this.strategies;i.hooks.cull.tap(n.tag,function(l){if(l){var h=l.cullable;return s.length===0?h.visible=o.unculledEntities.indexOf(l.entity)>-1:h.visible=s.every(function(d){return d.isVisible(t,l)}),!l.isCulled()&&l.isVisible()?l:(l.dispatchEvent(new zn(Fn.CULLED)),null)}return l}),i.hooks.afterRender.tap(n.tag,function(l){l.cullable.visibilityPlaneMask=-1})}}])}();Ja.tag="Culling";var Qa=function(){function n(){var r=this;(0,U.Z)(this,n),this.autoPreventDefault=!1,this.rootPointerEvent=new Qr(null),this.rootWheelEvent=new Li(null),this.onPointerMove=function(e){var t,i=(t=r.context.renderingContext.root)===null||t===void 0||(t=t.ownerDocument)===null||t===void 0?void 0:t.defaultView;if(!(i.supportsTouchEvents&&e.pointerType==="touch")){var o=r.normalizeToPointerEvent(e,i),s=(0,wn.Z)(o),l;try{for(s.s();!(l=s.n()).done;){var h=l.value,d=r.bootstrapEvent(r.rootPointerEvent,h,i,e);r.context.eventService.mapEvent(d)}}catch(D){s.e(D)}finally{s.f()}r.setCursor(r.context.eventService.cursor)}},this.onClick=function(e){var t,i=(t=r.context.renderingContext.root)===null||t===void 0||(t=t.ownerDocument)===null||t===void 0?void 0:t.defaultView,o=r.normalizeToPointerEvent(e,i),s=(0,wn.Z)(o),l;try{for(s.s();!(l=s.n()).done;){var h=l.value,d=r.bootstrapEvent(r.rootPointerEvent,h,i,e);r.context.eventService.mapEvent(d)}}catch(D){s.e(D)}finally{s.f()}r.setCursor(r.context.eventService.cursor)}}return(0,H.Z)(n,[{key:"apply",value:function(e){var t=this;this.context=e;var i=e.renderingService,o=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(s){var l=t.context.renderingService.hooks.pickSync.call({position:s,picked:[],topmost:!0}),h=l.picked;return h[0]||null}),i.hooks.pointerWheel.tap(n.tag,function(s){var l=t.normalizeWheelEvent(s);t.context.eventService.mapEvent(l)}),i.hooks.pointerDown.tap(n.tag,function(s){if(!(o.supportsTouchEvents&&s.pointerType==="touch")){var l=t.normalizeToPointerEvent(s,o);if(t.autoPreventDefault&&l[0].isNormalized){var h=s.cancelable||!("cancelable"in s);h&&s.preventDefault()}var d=(0,wn.Z)(l),D;try{for(d.s();!(D=d.n()).done;){var Y=D.value,he=t.bootstrapEvent(t.rootPointerEvent,Y,o,s);t.context.eventService.mapEvent(he)}}catch(Pe){d.e(Pe)}finally{d.f()}t.setCursor(t.context.eventService.cursor)}}),i.hooks.pointerUp.tap(n.tag,function(s){if(!(o.supportsTouchEvents&&s.pointerType==="touch")){var l=t.context.contextService.getDomElement(),h=t.context.eventService.isNativeEventFromCanvas(l,s),d=h?"":"outside",D=t.normalizeToPointerEvent(s,o),Y=(0,wn.Z)(D),he;try{for(Y.s();!(he=Y.n()).done;){var Pe=he.value,Se=t.bootstrapEvent(t.rootPointerEvent,Pe,o,s);Se.type+=d,t.context.eventService.mapEvent(Se)}}catch(He){Y.e(He)}finally{Y.f()}t.setCursor(t.context.eventService.cursor)}}),i.hooks.pointerMove.tap(n.tag,this.onPointerMove),i.hooks.pointerOver.tap(n.tag,this.onPointerMove),i.hooks.pointerOut.tap(n.tag,this.onPointerMove),i.hooks.click.tap(n.tag,this.onClick),i.hooks.pointerCancel.tap(n.tag,function(s){var l=t.normalizeToPointerEvent(s,o),h=(0,wn.Z)(l),d;try{for(h.s();!(d=h.n()).done;){var D=d.value,Y=t.bootstrapEvent(t.rootPointerEvent,D,o,s);t.context.eventService.mapEvent(Y)}}catch(he){h.e(he)}finally{h.f()}t.setCursor(t.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(e,t,i,o){e.view=i,e.originalEvent=null,e.nativeEvent=o,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);var s=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),l=s.x,h=s.y;e.viewport.x=l,e.viewport.y=h;var d=this.context.eventService.viewport2Canvas(e.viewport),D=d.x,Y=d.y;return e.canvas.x=D,e.canvas.y=Y,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=o.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Qo[e.type]||e.type),e}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;var i=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),o=i.x,s=i.y;t.viewport.x=o,t.viewport.y=s;var l=this.context.eventService.viewport2Canvas(t.viewport),h=l.x,d=l.y;return t.canvas.x=h,t.canvas.y=d,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.nativeEvent=e,t.type=e.type,t}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=Ci.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}},{key:"setCursor",value:function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(e,t){var i=[];if(t.isTouchEvent(e))for(var o=0;o<e.changedTouches.length;o++){var s=e.changedTouches[o];(0,ct.Z)(s.button)&&(s.button=0),(0,ct.Z)(s.buttons)&&(s.buttons=1),(0,ct.Z)(s.isPrimary)&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),(0,ct.Z)(s.width)&&(s.width=s.radiusX||1),(0,ct.Z)(s.height)&&(s.height=s.radiusY||1),(0,ct.Z)(s.tiltX)&&(s.tiltX=0),(0,ct.Z)(s.tiltY)&&(s.tiltY=0),(0,ct.Z)(s.pointerType)&&(s.pointerType="touch"),(0,ct.Z)(s.pointerId)&&(s.pointerId=s.identifier||0),(0,ct.Z)(s.pressure)&&(s.pressure=s.force||.5),(0,ct.Z)(s.twist)&&(s.twist=0),(0,ct.Z)(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,s.type=e.type,i.push(s)}else if(t.isMouseEvent(e)){var l=e;(0,ct.Z)(l.isPrimary)&&(l.isPrimary=!0),(0,ct.Z)(l.width)&&(l.width=1),(0,ct.Z)(l.height)&&(l.height=1),(0,ct.Z)(l.tiltX)&&(l.tiltX=0),(0,ct.Z)(l.tiltY)&&(l.tiltY=0),(0,ct.Z)(l.pointerType)&&(l.pointerType="mouse"),(0,ct.Z)(l.pointerId)&&(l.pointerId=Jo),(0,ct.Z)(l.pressure)&&(l.pressure=.5),(0,ct.Z)(l.twist)&&(l.twist=0),(0,ct.Z)(l.tangentialPressure)&&(l.tangentialPressure=0),l.isNormalized=!0,i.push(l)}else i.push(e);return i}}])}();Qa.tag="Event";var ml=[Vt.CIRCLE,Vt.ELLIPSE,Vt.IMAGE,Vt.RECT,Vt.LINE,Vt.POLYLINE,Vt.POLYGON,Vt.TEXT,Vt.PATH,Vt.HTML],yl=function(){function n(){(0,U.Z)(this,n)}return(0,H.Z)(n,[{key:"isVisible",value:function(e,t){var i,o=t.cullable;if(!o.enable)return!0;var s=t.getRenderBounds();if(fe.isEmpty(s))return!1;var l=e.getFrustum(),h=(i=t.parentNode)===null||i===void 0||(i=i.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return o.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(t,s,h||Ae.INDETERMINATE,l.planes),o.visible=o.visibilityPlaneMask!==Ae.OUTSIDE,o.visible}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,i,o){if(i===Ae.OUTSIDE||i===Ae.INSIDE)return i;for(var s=Ae.INSIDE,l=ml.indexOf(e.nodeName)>-1,h=0,d=o.length;h<d;++h){var D=1<<h;if(i&D&&!(l&&(h===4||h===5))){var Y=o[h],he=Y.normal,Pe=Y.distance;if(m.AK(he,t.getPositiveFarPoint(o[h]))+Pe<0)return Ae.OUTSIDE;m.AK(he,t.getNegativeFarPoint(o[h]))+Pe<0&&(s|=D)}}return s}}])}(),qa=function(){function n(){(0,U.Z)(this,n),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return(0,H.Z)(n,[{key:"apply",value:function(e){var t=this,i,o=e.renderingService,s=e.renderingContext,l=e.rBushRoot,h=s.root.ownerDocument.defaultView;this.rBush=l;var d=function(He){var ze=He.target;ze.renderable.dirty=!0,o.dirtify()},D=function(He){t.syncTasks.set(He.target,He.detail.affectChildren),o.dirtify()},Y=function(He){var ze=He.target;It.enableSizeAttenuation&&It.styleValueRegistry.updateSizeAttenuation(ze,h.getCamera().getZoom())},he=function(He){var ze=He.target,rt=ze.rBushNode;rt.aabb&&t.rBush.remove(rt.aabb),t.syncTasks.delete(ze),It.sceneGraphService.dirtifyToRoot(ze),o.dirtify()};o.hooks.init.tap(n.tag,function(){h.addEventListener(Fn.MOUNTED,Y),h.addEventListener(Fn.UNMOUNTED,he),h.addEventListener(Fn.ATTR_MODIFIED,d),h.addEventListener(Fn.BOUNDS_CHANGED,D)}),o.hooks.destroy.tap(n.tag,function(){h.removeEventListener(Fn.MOUNTED,Y),h.removeEventListener(Fn.UNMOUNTED,he),h.removeEventListener(Fn.ATTR_MODIFIED,d),h.removeEventListener(Fn.BOUNDS_CHANGED,D),t.syncTasks.clear()});var Pe=(i=It.globalThis.requestIdleCallback)!==null&&i!==void 0?i:Ai.bind(It.globalThis);o.hooks.endFrame.tap(n.tag,function(){t.isFirstTimeRendering?(t.isFirstTimeRendering=!1,t.syncing=!0,Pe(function(){t.syncRTree(!0),t.isFirstTimeRenderingFinished=!0})):t.syncRTree()})}},{key:"syncNode",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.isConnected){var i=e.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var o=e.getRenderBounds();if(o){var s=e.renderable;t&&(s.dirtyRenderBounds||(s.dirtyRenderBounds=new fe),s.dirtyRenderBounds.update(o.center,o.halfExtents));var l=o.getMin(),h=(0,X.Z)(l,2),d=h[0],D=h[1],Y=o.getMax(),he=(0,X.Z)(Y,2),Pe=he[0],Se=he[1];i.aabb||(i.aabb={}),i.aabb.displayObject=e,i.aabb.minX=d,i.aabb.minY=D,i.aabb.maxX=Pe,i.aabb.maxY=Se}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!t&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var i=[],o=new Set,s=function(h){if(!o.has(h)&&h.renderable){var d=e.syncNode(h,t);d&&(i.push(d),o.add(h))}};this.syncTasks.forEach(function(l,h){l&&h.forEach(s);for(var d=h;d;)s(d),d=d.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();qa.tag="Prepare";function Zl(n){return!!n.document}var ur=function(n){return n.READY="ready",n.BEFORE_RENDER="beforerender",n.RERENDER="rerender",n.AFTER_RENDER="afterrender",n.BEFORE_DESTROY="beforedestroy",n.AFTER_DESTROY="afterdestroy",n.RESIZE="resize",n.DIRTY_RECTANGLE="dirtyrectangle",n.RENDERER_CHANGED="rendererchanged",n}({}),es=500,xl=.1,El=1e3,ri=new zn(Fn.MOUNTED),ii=new zn(Fn.UNMOUNTED),Vi=new zn(ur.BEFORE_RENDER),ts=new zn(ur.RERENDER),Hi=new zn(ur.AFTER_RENDER),Ml=function(n){function r(e){var t;(0,U.Z)(this,r),t=(0,C.Z)(this,r),t.Element=Cn,t.inited=!1,t.context={};var i=e.container,o=e.canvas,s=e.renderer,l=e.width,h=e.height,d=e.background,D=e.cursor,Y=e.supportsMutipleCanvasesInOneContainer,he=e.cleanUpOnDestroy,Pe=he===void 0?!0:he,Se=e.offscreenCanvas,He=e.devicePixelRatio,ze=e.requestAnimationFrame,rt=e.cancelAnimationFrame,tt=e.createImage,ot=e.supportsTouchEvents,At=e.supportsPointerEvents,Ye=e.isTouchEvent,Oe=e.isMouseEvent,Ue=e.dblClickSpeed,at=l,bt=h,pt=He||Si&&window.devicePixelRatio||1;return pt=pt>=1?Math.ceil(pt):1,o&&(at=l||Xo(o)||o.width/pt,bt=h||jo(o)||o.height/pt),t.customElements=new pl,t.devicePixelRatio=pt,t.requestAnimationFrame=ze!=null?ze:Ai.bind(It.globalThis),t.cancelAnimationFrame=rt!=null?rt:Da.bind(It.globalThis),t.supportsTouchEvents=ot!=null?ot:"ontouchstart"in It.globalThis,t.supportsPointerEvents=At!=null?At:!!It.globalThis.PointerEvent,t.isTouchEvent=Ye!=null?Ye:function(kt){return t.supportsTouchEvents&&kt instanceof It.globalThis.TouchEvent},t.isMouseEvent=Oe!=null?Oe:function(kt){return!It.globalThis.MouseEvent||kt instanceof It.globalThis.MouseEvent&&(!t.supportsPointerEvents||!(kt instanceof It.globalThis.PointerEvent))},Se&&(It.offscreenCanvas=Se),t.document=new ja,t.document.defaultView=t,Y||Ho(i,t,Pe),t.initRenderingContext((0,u.Z)((0,u.Z)({},e),{},{width:at,height:bt,background:d!=null?d:"transparent",cursor:D!=null?D:"default",cleanUpOnDestroy:Pe,devicePixelRatio:pt,requestAnimationFrame:t.requestAnimationFrame,cancelAnimationFrame:t.cancelAnimationFrame,supportsTouchEvents:t.supportsTouchEvents,supportsPointerEvents:t.supportsPointerEvents,isTouchEvent:t.isTouchEvent,isMouseEvent:t.isMouseEvent,dblClickSpeed:Ue!=null?Ue:200,createImage:tt!=null?tt:function(){return new window.Image}})),t.initDefaultCamera(at,bt,s.clipSpaceNearZ),t.initRenderer(s,!0),t}return(0,ee.Z)(r,n),(0,H.Z)(r,[{key:"initRenderingContext",value:function(t){this.context.config=t,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(t,i,o){var s=this,l=new It.CameraContribution;l.clipSpaceNearZ=o,l.setType(xt.EXPLORING,Dt.DEFAULT).setPosition(t/2,i/2,es).setFocalPoint(t/2,i/2,0).setOrthographic(t/-2,t/2,i/2,i/-2,xl,El),l.canvas=this,l.eventEmitter.on(zt.UPDATED,function(){s.context.renderingContext.renderReasons.add(Nr.CAMERA_CHANGED),It.enableSizeAttenuation&&s.getConfig().renderer.getConfig().enableSizeAttenuation&&s.updateSizeAttenuation()}),this.context.camera=l}},{key:"updateSizeAttenuation",value:function(){var t=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){It.styleValueRegistry.updateSizeAttenuation(i,t)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var t=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){t.resolveReadyPromise=function(){i(t)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1?arguments[1]:void 0;Zn.clearCache(),i||this.dispatchEvent(new zn(ur.BEFORE_DESTROY)),this.frameId&&this.cancelAnimationFrame(this.frameId);var o=this.getRoot();t&&(this.unmountChildren(o),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),i||this.dispatchEvent(new zn(ur.AFTER_DESTROY));var s=function(h){h.currentTarget=null,h.manager=null,h.target=null,h.relatedNode=null};s(ri),s(ii),s(Vi),s(ts),s(Hi),s(or),s(_i),s(Ii),s(Ka)}},{key:"changeSize",value:function(t,i){this.resize(t,i)}},{key:"resize",value:function(t,i){var o=this.context.config;o.width=t,o.height=i,this.getContextService().resize(t,i);var s=this.context.camera,l=s.getProjectionMode();s.setPosition(t/2,i/2,es).setFocalPoint(t/2,i/2,0),l===Ct.ORTHOGRAPHIC?s.setOrthographic(t/-2,t/2,i/2,i/-2,s.getNear(),s.getFar()):s.setAspect(t/i),this.dispatchEvent(new zn(ur.RESIZE,{width:t,height:i}))}},{key:"appendChild",value:function(t,i){return this.document.documentElement.appendChild(t,i)}},{key:"insertBefore",value:function(t,i){return this.document.documentElement.insertBefore(t,i)}},{key:"removeChild",value:function(t){return this.document.documentElement.removeChild(t)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(t){var i=this;t&&(Vi.detail=t,Hi.detail=t),this.dispatchEvent(Vi);var o=this.getRenderingService();o.render(this.getConfig(),t,function(){i.dispatchEvent(ts)}),this.dispatchEvent(Hi)}},{key:"run",value:function(){var t=this,i=function(s,l){t.render(l),t.frameId=t.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(t){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!t)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new cr,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new Qa,new qa,new Ja([new yl])),this.loadRendererContainerModule(t),this.context.contextService=new this.context.ContextService((0,u.Z)((0,u.Z)({},It),this.context)),this.context.renderingService=new Lu(It,this.context),this.context.eventService=new Ou(It,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(t,o,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(t,o)}).catch(function(s){console.error(s)})}},{key:"initRenderingService",value:function(t){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){i.inited=!0,o?s?i.requestAnimationFrame(function(){i.dispatchEvent(new zn(ur.READY))}):i.dispatchEvent(new zn(ur.READY)):i.dispatchEvent(new zn(ur.RENDERER_CHANGED)),i.readyPromise&&i.resolveReadyPromise(),o||i.getRoot().forEach(function(l){var h=l,d=h.renderable;d&&(d.renderBoundsDirty=!0,d.boundsDirty=!0,d.dirty=!0)}),i.mountChildren(i.getRoot()),t.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(t){var i=this,o=t.getPlugins();o.forEach(function(s){s.context=i.context,s.init(It)})}},{key:"setRenderer",value:function(t){var i=this.getConfig();if(i.renderer!==t){var o=i.renderer;i.renderer=t,this.destroy(!1,!0),(0,q.Z)((o==null?void 0:o.getPlugins())||[]).reverse().forEach(function(s){s.destroy(It)}),this.initRenderer(t)}}},{key:"setCursor",value:function(t){var i=this.getConfig();i.cursor=t,this.getContextService().applyCursorStyle(t)}},{key:"unmountChildren",value:function(t){var i=this;t.childNodes.forEach(function(o){i.unmountChildren(o)}),this.inited&&(t.isMutationObserved?t.dispatchEvent(ii):(ii.target=t,this.dispatchEvent(ii,!0)),t!==this.document.documentElement&&(t.ownerDocument=null),t.isConnected=!1),t.isCustomElement&&t.disconnectedCallback&&t.disconnectedCallback()}},{key:"mountChildren",value:function(t){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jr(t);this.inited?t.isConnected||(t.ownerDocument=this.document,t.isConnected=!0,o||(t.isMutationObserved?t.dispatchEvent(ri):(ri.target=t,this.dispatchEvent(ri,!0)))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",t.nodeName),t.childNodes.forEach(function(s){i.mountChildren(s,o)}),t.isCustomElement&&t.connectedCallback&&t.connectedCallback()}},{key:"mountFragment",value:function(t){this.mountChildren(t,!1)}},{key:"client2Viewport",value:function(t){return this.getEventService().client2Viewport(t)}},{key:"viewport2Client",value:function(t){return this.getEventService().viewport2Client(t)}},{key:"viewport2Canvas",value:function(t){return this.getEventService().viewport2Canvas(t)}},{key:"canvas2Viewport",value:function(t){return this.getEventService().canvas2Viewport(t)}},{key:"getPointByClient",value:function(t,i){return this.client2Viewport({x:t,y:i})}},{key:"getClientByPoint",value:function(t,i){return this.viewport2Client({x:t,y:i})}}])}(za)},17457:function(Ft,qe,y){"use strict";y.d(qe,{TE:function(){return q},U4:function(){return St},Xk:function(){return Mt},Y1:function(){return nt},_x:function(){return _t},hE:function(){return f},l5:function(){return ae},ph:function(){return me},vp:function(){return xe},x4:function(){return Xe}});var u=y(35979),U=y(95177),H=y(38015);function q(ie,ce,be,Me){var le=ie-be,Ze=ce-Me;return Math.sqrt(le*le+Ze*Ze)}function C(ie,ce){var be=Math.min.apply(Math,(0,u.Z)(ie)),Me=Math.min.apply(Math,(0,u.Z)(ce)),le=Math.max.apply(Math,(0,u.Z)(ie)),Ze=Math.max.apply(Math,(0,u.Z)(ce));return{x:be,y:Me,width:le-be,height:Ze-Me}}function ee(ie){return(ie+Math.PI*2)%(Math.PI*2)}function X(ie,ce){var be=Math.abs(ie);return ce>0?be:be*-1}function de(ie,ce,be,Me,le,Ze){var ht=be,ft=Me;if(ht===0||ft===0)return{x:ie,y:ce};for(var dt=le-ie,ct=Ze-ce,Nt=Math.abs(dt),Bt=Math.abs(ct),en=ht*ht,tn=ft*ft,an=Math.PI/4,Ht=0,pn=0,mn=0;mn<4;mn++){Ht=ht*Math.cos(an),pn=ft*Math.sin(an);var ln=(en-tn)*Math.pow(Math.cos(an),3)/ht,yn=(tn-en)*Math.pow(Math.sin(an),3)/ft,xn=Ht-ln,En=pn-yn,bn=Nt-ln,wn=Bt-yn,Bn=Math.hypot(En,xn),lr=Math.hypot(wn,bn),Jn=Bn*Math.asin((xn*wn-En*bn)/(Bn*lr)),cr=Jn/Math.sqrt(en+tn-Ht*Ht-pn*pn);an+=cr,an=Math.min(Math.PI/2,Math.max(0,an))}return{x:ie+X(Ht,dt),y:ce+X(pn,ct)}}function m(ie,ce,be,Me,le,Ze,ht,ft){return-1*be*Math.cos(le)*Math.sin(ft)-Me*Math.sin(le)*Math.cos(ft)}function Z(ie,ce,be,Me,le,Ze,ht,ft){return-1*be*Math.sin(le)*Math.sin(ft)+Me*Math.cos(le)*Math.cos(ft)}function S(ie,ce,be){return Math.atan(-ce/ie*Math.tan(be))}function ge(ie,ce,be){return Math.atan(ce/(ie*Math.tan(be)))}function k(ie,ce,be,Me,le,Ze){return be*Math.cos(le)*Math.cos(Ze)-Me*Math.sin(le)*Math.sin(Ze)+ie}function A(ie,ce,be,Me,le,Ze){return be*Math.sin(le)*Math.cos(Ze)+Me*Math.cos(le)*Math.sin(Ze)+ce}function N(ie,ce,be,Me){var le=Math.atan2(Me*ie,be*ce);return(le+Math.PI*2)%(Math.PI*2)}function V(ie,ce,be){return{x:ie*Math.cos(be),y:ce*Math.sin(be)}}function j(ie,ce,be){var Me=Math.cos(be),le=Math.sin(be);return[ie*Me-ce*le,ie*le+ce*Me]}function xe(ie,ce,be,Me,le,Ze,ht){for(var ft=S(be,Me,le),dt=1/0,ct=-1/0,Nt=[Ze,ht],Bt=-Math.PI*2;Bt<=Math.PI*2;Bt+=Math.PI){var en=ft+Bt;Ze<ht?Ze<en&&en<ht&&Nt.push(en):ht<en&&en<Ze&&Nt.push(en)}for(var tn=0;tn<Nt.length;tn++){var an=k(ie,ce,be,Me,le,Nt[tn]);an<dt&&(dt=an),an>ct&&(ct=an)}for(var Ht=ge(be,Me,le),pn=1/0,mn=-1/0,ln=[Ze,ht],yn=-Math.PI*2;yn<=Math.PI*2;yn+=Math.PI){var xn=Ht+yn;Ze<ht?Ze<xn&&xn<ht&&ln.push(xn):ht<xn&&xn<Ze&&ln.push(xn)}for(var En=0;En<ln.length;En++){var bn=A(ie,ce,be,Me,le,ln[En]);bn<pn&&(pn=bn),bn>mn&&(mn=bn)}return{x:dt,y:pn,width:ct-dt,height:mn-pn}}function Le(ie,ce,be,Me,le,Ze,ht,ft,dt){var ct=j(ft-ie,dt-ce,-le),Nt=_slicedToArray(ct,2),Bt=Nt[0],en=Nt[1],tn=de(0,0,be,Me,Bt,en),an=N(be,Me,tn.x,tn.y);an<Ze?tn=V(be,Me,Ze):an>ht&&(tn=V(be,Me,ht));var Ht=j(tn.x,tn.y,le);return{x:Ht[0]+ie,y:Ht[1]+ce}}function Ge(ie,ce,be,Me,le,Ze,ht,ft){var dt=(ht-Ze)*ft+Ze,ct=m(ie,ce,be,Me,le,Ze,ht,dt),Nt=Z(ie,ce,be,Me,le,Ze,ht,dt);return ee(Math.atan2(Nt,ct))}var je=1e-4;function ke(ie,ce,be,Me,le,Ze){var ht=-1,ft=1/0,dt=[be,Me],ct=20;Ze&&Ze>200&&(ct=Ze/10);for(var Nt=1/ct,Bt=Nt/10,en=0;en<=ct;en++){var tn=en*Nt,an=[le.apply(void 0,(0,u.Z)(ie.concat([tn]))),le.apply(void 0,(0,u.Z)(ce.concat([tn])))],Ht=q(dt[0],dt[1],an[0],an[1]);Ht<ft&&(ht=tn,ft=Ht)}if(ht===0)return{x:ie[0],y:ce[0]};if(ht===1){var pn=ie.length;return{x:ie[pn-1],y:ce[pn-1]}}ft=1/0;for(var mn=0;mn<32&&!(Bt<je);mn++){var ln=ht-Bt,yn=ht+Bt,xn=[le.apply(void 0,(0,u.Z)(ie.concat([ln]))),le.apply(void 0,(0,u.Z)(ce.concat([ln])))],En=q(dt[0],dt[1],xn[0],xn[1]);if(ln>=0&&En<ft)ht=ln,ft=En;else{var bn=[le.apply(void 0,(0,u.Z)(ie.concat([yn]))),le.apply(void 0,(0,u.Z)(ce.concat([yn])))],wn=q(dt[0],dt[1],bn[0],bn[1]);yn<=1&&wn<ft?(ht=yn,ft=wn):Bt*=.5}}return{x:le.apply(void 0,(0,u.Z)(ie.concat([ht]))),y:le.apply(void 0,(0,u.Z)(ce.concat([ht])))}}function Ee(ie,ce){for(var be=0,Me=ie.length,le=0;le<Me;le++){var Ze=ie[le],ht=ce[le],ft=ie[(le+1)%Me],dt=ce[(le+1)%Me];be+=q(Ze,ht,ft,dt)}return be/2}function ve(ie,ce,be,Me){return C([ie,be],[ce,Me])}function Mt(ie,ce,be,Me){return q(ie,ce,be,Me)}function St(ie,ce,be,Me,le){return{x:(1-le)*ie+le*be,y:(1-le)*ce+le*Me}}function Pt(ie,ce,be,Me,le,Ze){var ht=(be-ie)*(le-ie)+(Me-ce)*(Ze-ce);if(ht<0)return q(ie,ce,le,Ze);var ft=(be-ie)*(be-ie)+(Me-ce)*(Me-ce);return ht>ft?q(be,Me,le,Ze):_t(ie,ce,be,Me,le,Ze)}function _t(ie,ce,be,Me,le,Ze){var ht=[be-ie,Me-ce];if(H.I6(ht,[0,0]))return Math.sqrt((le-ie)*(le-ie)+(Ze-ce)*(Ze-ce));var ft=[-ht[1],ht[0]];H.Fv(ft,ft);var dt=[le-ie,Ze-ce];return Math.abs(H.AK(dt,ft))}function Zt(ie,ce,be,Me){return Math.atan2(Me-ce,be-ie)}function Ot(ie,ce,be,Me,le){var Ze=1-le;return Ze*Ze*Ze*ie+3*ce*le*Ze*Ze+3*be*le*le*Ze+Me*le*le*le}function Jt(ie,ce,be,Me,le){var Ze=1-le;return 3*(Ze*Ze*(ce-ie)+2*Ze*le*(be-ce)+le*le*(Me-be))}function $t(ie,ce,be,Me){var le=-3*ie+9*ce-9*be+3*Me,Ze=6*ie-12*ce+6*be,ht=3*ce-3*ie,ft=[],dt,ct,Nt;if((0,U.Z)(le,0))(0,U.Z)(Ze,0)||(dt=-ht/Ze,dt>=0&&dt<=1&&ft.push(dt));else{var Bt=Ze*Ze-4*le*ht;(0,U.Z)(Bt,0)?ft.push(-Ze/(2*le)):Bt>0&&(Nt=Math.sqrt(Bt),dt=(-Ze+Nt)/(2*le),ct=(-Ze-Nt)/(2*le),dt>=0&&dt<=1&&ft.push(dt),ct>=0&&ct<=1&&ft.push(ct))}return ft}function Qt(ie,ce,be,Me,le,Ze,ht,ft,dt){var ct=Ot(ie,be,le,ht,dt),Nt=Ot(ce,Me,Ze,ft,dt),Bt=St(ie,ce,be,Me,dt),en=St(be,Me,le,Ze,dt),tn=St(le,Ze,ht,ft,dt),an=St(Bt.x,Bt.y,en.x,en.y,dt),Ht=St(en.x,en.y,tn.x,tn.y,dt);return[[ie,ce,Bt.x,Bt.y,an.x,an.y,ct,Nt],[ct,Nt,Ht.x,Ht.y,tn.x,tn.y,ht,ft]]}function F(ie,ce,be,Me,le,Ze,ht,ft,dt){if(dt===0)return Ee([ie,be,le,ht],[ce,Me,Ze,ft]);var ct=Qt(ie,ce,be,Me,le,Ze,ht,ft,.5),Nt=[].concat(_toConsumableArray(ct[0]),[dt-1]),Bt=[].concat(_toConsumableArray(ct[1]),[dt-1]);return F.apply(void 0,_toConsumableArray(Nt))+F.apply(void 0,_toConsumableArray(Bt))}function ae(ie,ce,be,Me,le,Ze,ht,ft){for(var dt=[ie,ht],ct=[ce,ft],Nt=$t(ie,be,le,ht),Bt=$t(ce,Me,Ze,ft),en=0;en<Nt.length;en++)dt.push(Ot(ie,be,le,ht,Nt[en]));for(var tn=0;tn<Bt.length;tn++)ct.push(Ot(ce,Me,Ze,ft,Bt[tn]));return C(dt,ct)}function lt(ie,ce,be,Me,le,Ze,ht,ft){return F(ie,ce,be,Me,le,Ze,ht,ft,3)}function Rt(ie,ce,be,Me,le,Ze,ht,ft,dt,ct,Nt){return ke([ie,be,le,ht],[ce,Me,Ze,ft],dt,ct,Ot,Nt)}function me(ie,ce,be,Me,le,Ze,ht,ft,dt,ct,Nt){var Bt=Rt(ie,ce,be,Me,le,Ze,ht,ft,dt,ct,Nt);return q(Bt.x,Bt.y,dt,ct)}function ue(ie,ce,be,Me,le,Ze,ht,ft,dt){return{x:Ot(ie,be,le,ht,dt),y:Ot(ce,Me,Ze,ft,dt)}}function G(ie,ce,be,Me,le,Ze,ht,ft,dt){var ct=Jt(ie,be,le,ht,dt),Nt=Jt(ce,Me,Ze,ft,dt);return ee(Math.atan2(Nt,ct))}function R(ie){for(var ce=0,be=[],Me=0;Me<ie.length-1;Me++){var le=ie[Me],Ze=ie[Me+1],ht=q(le[0],le[1],Ze[0],Ze[1]),ft={from:le,to:Ze,length:ht};be.push(ft),ce+=ht}return{segments:be,totalLength:ce}}function oe(ie){if(ie.length<2)return 0;for(var ce=0,be=0;be<ie.length-1;be++){var Me=ie[be],le=ie[be+1];ce+=q(Me[0],Me[1],le[0],le[1])}return ce}function x(ie,ce){if(ce>1||ce<0||ie.length<2)return null;var be=R(ie),Me=be.segments,le=be.totalLength;if(le===0)return{x:ie[0][0],y:ie[0][1]};for(var Ze=0,ht=null,ft=0;ft<Me.length;ft++){var dt=Me[ft],ct=dt.from,Nt=dt.to,Bt=dt.length/le;if(ce>=Ze&&ce<=Ze+Bt){var en=(ce-Ze)/Bt;ht=St(ct[0],ct[1],Nt[0],Nt[1],en);break}Ze+=Bt}return ht}function v(ie,ce){if(ce>1||ce<0||ie.length<2)return 0;for(var be=R(ie),Me=be.segments,le=be.totalLength,Ze=0,ht=0,ft=0;ft<Me.length;ft++){var dt=Me[ft],ct=dt.from,Nt=dt.to,Bt=dt.length/le;if(ce>=Ze&&ce<=Ze+Bt){ht=Math.atan2(Nt[1]-ct[1],Nt[0]-ct[0]);break}Ze+=Bt}return ht}function b(ie,ce,be){for(var Me=1/0,le=0;le<ie.length-1;le++){var Ze=ie[le],ht=ie[le+1],ft=Pt(Ze[0],Ze[1],ht[0],ht[1],ce,be);ft<Me&&(Me=ft)}return Me}function T(ie){for(var ce=[],be=[],Me=0;Me<ie.length;Me++){var le=ie[Me];ce.push(le[0]),be.push(le[1])}return C(ce,be)}function f(ie){return oe(ie)}function E(ie,ce){return x(ie,ce)}function B(ie,ce,be){return b(ie,ce,be)}function p(ie,ce){return v(ie,ce)}function P(ie){var ce=ie.slice(0);return ie.length&&ce.push(ie[0]),ce}function $(ie){return T(ie)}function a(ie){return oe(P(ie))}function c(ie,ce){return x(P(ie),ce)}function L(ie,ce,be){return b(P(ie),ce,be)}function J(ie,ce){return v(P(ie),ce)}function ne(ie,ce,be,Me){var le=1-Me;return le*le*ie+2*Me*le*ce+Me*Me*be}function ye(ie,ce,be){var Me=ie+be-2*ce;if((0,U.Z)(Me,0))return[.5];var le=(ie-ce)/Me;return le<=1&&le>=0?[le]:[]}function De(ie,ce,be,Me,le,Ze,ht){var ft=ne(ie,be,le,ht),dt=ne(ce,Me,Ze,ht),ct=St(ie,ce,be,Me,ht),Nt=St(be,Me,le,Ze,ht);return[[ie,ce,ct.x,ct.y,ft,dt],[ft,dt,Nt.x,Nt.y,le,Ze]]}function _e(ie,ce,be,Me,le,Ze,ht){if(ht===0)return(q(ie,ce,be,Me)+q(be,Me,le,Ze)+q(ie,ce,le,Ze))/2;var ft=De(ie,ce,be,Me,le,Ze,.5),dt=ft[0],ct=ft[1];return dt.push(ht-1),ct.push(ht-1),_e.apply(void 0,_toConsumableArray(dt))+_e.apply(void 0,_toConsumableArray(ct))}function Xe(ie,ce,be,Me,le,Ze){var ht=ye(ie,be,le)[0],ft=ye(ce,Me,Ze)[0],dt=[ie,le],ct=[ce,Ze];return ht!==void 0&&dt.push(ne(ie,be,le,ht)),ft!==void 0&&ct.push(ne(ce,Me,Ze,ft)),C(dt,ct)}function et(ie,ce,be,Me,le,Ze){return _e(ie,ce,be,Me,le,Ze,3)}function it(ie,ce,be,Me,le,Ze,ht,ft){return ke([ie,be,le],[ce,Me,Ze],ht,ft,ne)}function nt(ie,ce,be,Me,le,Ze,ht,ft){var dt=it(ie,ce,be,Me,le,Ze,ht,ft);return q(dt.x,dt.y,ht,ft)}},74768:function(Ft,qe,y){"use strict";y.d(qe,{S:function(){return S}});var u=y(55443),U=y(59129),H=y(76920),q=y(87670),C=y(74063),ee=y(71561),X=y(94162),de=y(84964),m=y(73218);var Z=function(){function ge(k){(0,U.Z)(this,ge),this.dragndropPluginOptions=k}return(0,H.Z)(ge,[{key:"apply",value:function(A){var N=this,V=A.renderingService,j=A.renderingContext,xe=j.root.ownerDocument,Le=xe.defaultView,Ge=function(ke){var Ee=ke.target,ve=Ee===xe,Mt=ve&&N.dragndropPluginOptions.isDocumentDraggable?xe:Ee.closest&&Ee.closest("[draggable=true]");if(Mt){var St=!1,Pt=ke.timeStamp,_t=[ke.clientX,ke.clientY],Zt=null,Ot=[ke.clientX,ke.clientY],Jt=function(){var Qt=(0,de.Z)((0,X.Z)().mark(function F(ae){var lt,Rt,me,ue,G,R;return(0,X.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(St){x.next=8;break}if(lt=ae.timeStamp-Pt,Rt=(0,m.y)([ae.clientX,ae.clientY],_t),!(lt<=N.dragndropPluginOptions.dragstartTimeThreshold||Rt<=N.dragndropPluginOptions.dragstartDistanceThreshold)){x.next=5;break}return x.abrupt("return");case 5:ae.type="dragstart",Mt.dispatchEvent(ae),St=!0;case 8:if(ae.type="drag",ae.dx=ae.clientX-Ot[0],ae.dy=ae.clientY-Ot[1],Mt.dispatchEvent(ae),Ot=[ae.clientX,ae.clientY],ve){x.next=21;break}return me=N.dragndropPluginOptions.overlap==="pointer"?[ae.canvasX,ae.canvasY]:Ee.getBounds().center,x.next=17,xe.elementsFromPoint(me[0],me[1]);case 17:ue=x.sent,G=ue[ue.indexOf(Ee)+1],R=(G==null?void 0:G.closest("[droppable=true]"))||(N.dragndropPluginOptions.isDocumentDroppable?xe:null),Zt!==R&&(Zt&&(ae.type="dragleave",ae.target=Zt,Zt.dispatchEvent(ae)),R&&(ae.type="dragenter",ae.target=R,R.dispatchEvent(ae)),Zt=R,Zt&&(ae.type="dragover",ae.target=Zt,Zt.dispatchEvent(ae)));case 21:case"end":return x.stop()}},F)}));return function(ae){return Qt.apply(this,arguments)}}();Le.addEventListener("pointermove",Jt);var $t=function(F){if(St){F.detail={preventClick:!0};var ae=F.clone();Zt&&(ae.type="drop",ae.target=Zt,Zt.dispatchEvent(ae)),ae.type="dragend",Mt.dispatchEvent(ae),St=!1}Le.removeEventListener("pointermove",Jt)};Ee.addEventListener("pointerup",$t,{once:!0}),Ee.addEventListener("pointerupoutside",$t,{once:!0})}};V.hooks.init.tap(ge.tag,function(){Le.addEventListener("pointerdown",Ge)}),V.hooks.destroy.tap(ge.tag,function(){Le.removeEventListener("pointerdown",Ge)})}}])}();Z.tag="Dragndrop";var S=function(ge){function k(){var A,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,U.Z)(this,k),A=(0,q.Z)(this,k),A.name="dragndrop",A.options=N,A}return(0,C.Z)(k,ge),(0,H.Z)(k,[{key:"init",value:function(){this.addRenderingPlugin(new Z((0,u.Z)({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(N){Object.assign(this.plugins[0].dragndropPluginOptions,N)}}])}(ee.F6)},1478:function(Ft,qe,y){"use strict";y.d(qe,{mN:function(){return u.mN},ux:function(){return u.ux},Xz:function(){return u.Xz},$6:function(){return u.$6},Cd:function(){return u.Cd},b_:function(){return u.b_},Aw:function(){return u.Aw},s$:function(){return u.s$},BB:function(){return u.BB},Dk:function(){return u.Dk},Pj:function(){return u.Pj},nR:function(){return u.nR},ZA:function(){return u.ZA},k9:function(){return u.k9},Ee:function(){return u.Ee},x1:function(){return u.x1},y$:function(){return u.y$},mg:function(){return u.mg},aH:function(){return u.aH},h0:function(){return u.h0},UL:function(){return u.UL},bn:function(){return u.bn},xv:function(){return u.xv},YR:function(){return u.YR},lu:function(){return u.lu},BV:function(){return u.BV},GZ:function(){return u.GZ}});var u=y(71561),U=y(59129),H=y(76920),q=y(87670),C=y(74063),ee=y(43706),X=y(22355),de=y(26588),m=y(39536),Z=y(54442);var S=function(K){function W(){var O;(0,U.Z)(this,W);for(var re=arguments.length,Ne=new Array(re),Be=0;Be<re;Be++)Ne[Be]=arguments[Be];return O=(0,q.Z)(this,W,[].concat(Ne)),O.landmarks=[],O}return(0,C.Z)(W,K),(0,H.Z)(W,[{key:"rotate",value:function(re,Ne,Be){if(this.relElevation=(0,u._O)(Ne),this.relAzimuth=(0,u._O)(re),this.relRoll=(0,u._O)(Be),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===u.iM.EXPLORING){var Ie=de.yY(de.Ue(),[1,0,0],(0,u.Vl)((this.rotateWorld?1:-1)*this.relElevation)),vt=de.yY(de.Ue(),[0,1,0],(0,u.Vl)((this.rotateWorld?1:-1)*this.relAzimuth)),wt=de.yY(de.Ue(),[0,0,1],(0,u.Vl)(this.relRoll)),Gt=de.Jp(de.Ue(),vt,Ie);Gt=de.Jp(de.Ue(),Gt,wt);var Xt=m.fromQuat(m.create(),Gt);m.translate(this.matrix,this.matrix,[0,0,-this.distance]),m.multiply(this.matrix,this.matrix,Xt),m.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===u.iM.ORBITING||this.type===u.iM.EXPLORING?this._getPosition():this.type===u.iM.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(re,Ne){var Be=(0,u.O4)(re,Ne,0),Ie=Z.d9(this.position);return Z.IH(Ie,Ie,Z.bA(Z.Ue(),this.right,Be[0])),Z.IH(Ie,Ie,Z.bA(Z.Ue(),this.up,Be[1])),this._setPosition(Ie),this.triggerUpdate(),this}},{key:"dolly",value:function(re){var Ne=this.forward,Be=Z.d9(this.position),Ie=re*this.dollyingStep,vt=this.distance+re*this.dollyingStep;return Ie=Math.max(Math.min(vt,this.maxDistance),this.minDistance)-this.distance,Be[0]+=Ie*Ne[0],Be[1]+=Ie*Ne[1],Be[2]+=Ie*Ne[2],this._setPosition(Be),this.type===u.iM.ORBITING||this.type===u.iM.EXPLORING?this._getDistance():this.type===u.iM.TRACKING&&Z.IH(this.focalPoint,Be,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(re){var Ne,Be,Ie,vt,wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Gt=wt.position,Xt=Gt===void 0?this.position:Gt,Yt=wt.focalPoint,rn=Yt===void 0?this.focalPoint:Yt,hn=wt.roll,_=wt.zoom,I=new u.GZ.CameraContribution;I.setType(this.type,void 0),I.setPosition(Xt[0],(Ne=Xt[1])!==null&&Ne!==void 0?Ne:this.position[1],(Be=Xt[2])!==null&&Be!==void 0?Be:this.position[2]),I.setFocalPoint(rn[0],(Ie=rn[1])!==null&&Ie!==void 0?Ie:this.focalPoint[1],(vt=rn[2])!==null&&vt!==void 0?vt:this.focalPoint[2]),I.setRoll(hn!=null?hn:this.roll),I.setZoom(_!=null?_:this.zoom);var Q={name:re,matrix:m.clone(I.getWorldTransform()),right:Z.d9(I.right),up:Z.d9(I.up),forward:Z.d9(I.forward),position:Z.d9(I.getPosition()),focalPoint:Z.d9(I.getFocalPoint()),distanceVector:Z.d9(I.getDistanceVector()),distance:I.getDistance(),dollyingStep:I.getDollyingStep(),azimuth:I.getAzimuth(),elevation:I.getElevation(),roll:I.getRoll(),relAzimuth:I.relAzimuth,relElevation:I.relElevation,relRoll:I.relRoll,zoom:I.getZoom()};return this.landmarks.push(Q),Q}},{key:"gotoLandmark",value:function(re){var Ne=this,Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=(0,ee.Z)(re)?this.landmarks.find(function(Ct){return Ct.name===re}):re;if(Ie){var vt=(0,X.Z)(Be)?{duration:Be}:Be,wt=vt.easing,Gt=wt===void 0?"linear":wt,Xt=vt.duration,Yt=Xt===void 0?100:Xt,rn=vt.easingFunction,hn=rn===void 0?void 0:rn,_=vt.onfinish,I=_===void 0?void 0:_,Q=vt.onframe,Te=Q===void 0?void 0:Q,Re=.01;this.cancelLandmarkAnimation();var we=Ie.position,Fe=Ie.focalPoint,$e=Ie.zoom,Je=Ie.roll,st=hn||u.GZ.EasingFunction(Gt),yt,xt=function(){Ne.setFocalPoint(Fe),Ne.setPosition(we),Ne.setRoll(Je),Ne.setZoom($e),Ne.computeMatrix(),Ne.triggerUpdate(),I==null||I()};if(Yt===0)return xt();var Dt=function(zt){yt===void 0&&(yt=zt);var qt=zt-yt;if(qt>=Yt){xt();return}var Kt=st(qt/Yt),nn=Z.Ue(),sn=Z.Ue(),dn=1,Tt=0;Z.t7(nn,Ne.focalPoint,Fe,Kt),Z.t7(sn,Ne.position,we,Kt),Tt=Ne.roll*(1-Kt)+Je*Kt,dn=Ne.zoom*(1-Kt)+$e*Kt,Ne.setFocalPoint(nn),Ne.setPosition(sn),Ne.setRoll(Tt),Ne.setZoom(dn);var gn=Z.TK(nn,Fe)+Z.TK(sn,we);if(gn<=Re&&$e===void 0&&Je===void 0)return xt();Ne.computeMatrix(),Ne.triggerUpdate(),qt<Yt&&(Te==null||Te(Kt),Ne.landmarkAnimationID=Ne.canvas.requestAnimationFrame(Dt))};this.canvas.requestAnimationFrame(Dt)}}}])}(u.V1);u.GZ.CameraContribution=S;var ge=null,k=0,A=new WeakMap,N=null,V=null,j,xe;function Le(K,W){return j=new ge(K,W)}function Ge(K){return xe||(xe=ge.copy(j),xe.oldValue=K,xe)}function je(){j=xe=void 0}function ke(K){return K===xe||K===j}function Ee(K,W){return K===W?K:xe&&ke(K)?xe:null}function ve(K){K.nodes.forEach(function(W){var O=A.get(W);O&&O.forEach(function(re){re.observer===K&&re.removeTransientObservers()})})}function Mt(K,W){for(var O=K;O;O=O.parentNode){var re=A.get(O);if(re)for(var Ne=0;Ne<re.length;Ne++){var Be=re[Ne],Ie=Be.options;if(!(O!==K&&!Ie.subtree)){var vt=W(Ie);vt&&Be.enqueue(vt)}}}}var St=!1,Pt=null;function _t(K){Pt.push(K),St||(St=!0,typeof runtime.globalThis!="undefined"?runtime.globalThis.setTimeout(Zt):Zt())}function Zt(){St=!1;var K=Pt;Pt=[],K.sort(function(O,re){return O.uid-re.uid});var W=!1;K.forEach(function(O){var re=O.takeRecords();ve(O),re.length&&(O.callback(re,O),W=!0)}),W&&Zt()}var Ot=y(35979),Jt=y(52521),$t=y(63777),Qt=y(54663);var F=function(K){function W(O,re,Ne,Be){var Ie;return(0,U.Z)(this,W),Ie=(0,q.Z)(this,W,[O]),Ie.currentTime=Ne,Ie.timelineTime=Be,Ie.target=re,Ie.type="finish",Ie.bubbles=!1,Ie.currentTarget=re,Ie.defaultPrevented=!1,Ie.eventPhase=Ie.AT_TARGET,Ie.timeStamp=Date.now(),Ie.currentTime=Ne,Ie.timelineTime=Be,Ie}return(0,C.Z)(W,K),(0,H.Z)(W)}(u.xA),ae=0,lt=function(){function K(W,O){var re;(0,U.Z)(this,K),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=W,W.animation=this,this.timeline=O,this.id="".concat(ae++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((re=this.effect)===null||re===void 0?void 0:re.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return(0,H.Z)(K,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var O=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(re,Ne){O.resolveReadyPromise=function(){re(O)},O.rejectReadyPromise=function(){Ne(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var O=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(re,Ne){O.resolveFinishedPromise=function(){re(O)},O.rejectFinishedPromise=function(){Ne(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(O){if(O=Number(O),!isNaN(O)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var re;this._startTime=Number((re=this.timeline)===null||re===void 0?void 0:re.currentTime)-O/this.playbackRate}this.currentTimePending=!1,this._currentTime!==O&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(O,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(O){if(O!==null){if(this.updatePromises(),O=Number(O),isNaN(O)||this._paused||this._idle)return;this._startTime=O,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(O){if(O!==this._playbackRate){this.updatePromises();var re=this.currentTime;this._playbackRate=O,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),re!==null&&(this.currentTime=re),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var O=this.oldPlayState,re=this.pending?"pending":this.playState;return this.readyPromise&&re!==O&&(re==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):O==="pending"?this.resolveReadyPromise():re==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&re!==O&&(re==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):re==="finished"?this.resolveFinishedPromise():O==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=re,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var O=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var re=new F(null,this,this.currentTime,null);setTimeout(function(){O.oncancel(re)})}}},{key:"reverse",value:function(){this.updatePromises();var O=this.currentTime;this.playbackRate*=-1,this.play(),O!==null&&(this.currentTime=O),this.updatePromises()}},{key:"updatePlaybackRate",value:function(O){this.playbackRate=O}},{key:"targetAnimations",value:function(){var O,re=(O=this.effect)===null||O===void 0?void 0:O.target;return re.getAnimations()}},{key:"markTarget",value:function(){var O=this.targetAnimations();O.indexOf(this)===-1&&O.push(this)}},{key:"unmarkTarget",value:function(){var O=this.targetAnimations(),re=O.indexOf(this);re!==-1&&O.splice(re,1)}},{key:"tick",value:function(O,re){!this._idle&&!this._paused&&(this._startTime===null?re&&(this.startTime=O-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((O-this._startTime)*this.playbackRate)),re&&(this.currentTimePending=!1,this.fireEvents(O))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(u.jf)}},{key:"addEventListener",value:function(O,re,Ne){throw new Error(u.jf)}},{key:"removeEventListener",value:function(O,re,Ne){throw new Error(u.jf)}},{key:"dispatchEvent",value:function(O){throw new Error(u.jf)}},{key:"commitStyles",value:function(){throw new Error(u.jf)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var O;this._inEffect=!!((O=this.effect)!==null&&O!==void 0&&O.update(-1))}else{var re;this._inEffect=!!((re=this.effect)!==null&&re!==void 0&&re.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(O,re){O!==this._currentTime&&(this._currentTime=O,this._isFinished&&!re&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(O){var re=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var Ne=new F(null,this,this.currentTime,O);setTimeout(function(){re.onfinish&&re.onfinish(Ne)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var Be=new F(null,this,this.currentTime,O);this.onframe(Be)}this._finishedFlag=!1}}}])}(),Rt=4,me=.001,ue=1e-7,G=10,R=11,oe=1/(R-1),x=typeof Float32Array=="function",v=function(W,O){return 1-3*O+3*W},b=function(W,O){return 3*O-6*W},T=function(W){return 3*W},f=function(W,O,re){return((v(O,re)*W+b(O,re))*W+T(O))*W},E=function(W,O,re){return 3*v(O,re)*W*W+2*b(O,re)*W+T(O)},B=function(W,O,re,Ne,Be){var Ie,vt,wt=0;do vt=O+(re-O)/2,Ie=f(vt,Ne,Be)-W,Ie>0?re=vt:O=vt;while(Math.abs(Ie)>ue&&++wt<G);return vt},p=function(W,O,re,Ne){for(var Be=0;Be<Rt;++Be){var Ie=E(O,re,Ne);if(Ie===0)return O;var vt=f(O,re,Ne)-W;O-=vt/Ie}return O},P=function(W,O,re,Ne){if(!(W>=0&&W<=1&&re>=0&&re<=1))throw new Error("bezier x values must be in [0, 1] range");if(W===O&&re===Ne)return function(wt){return wt};for(var Be=x?new Float32Array(R):new Array(R),Ie=0;Ie<R;++Ie)Be[Ie]=f(Ie*oe,W,re);var vt=function(Gt){for(var Xt=0,Yt=1,rn=R-1;Yt!==rn&&Be[Yt]<=Gt;++Yt)Xt+=oe;--Yt;var hn=(Gt-Be[Yt])/(Be[Yt+1]-Be[Yt]),_=Xt+hn*oe,I=E(_,W,re);return I>=me?p(Gt,_,W,re):I===0?_:B(Gt,Xt,Xt+oe,W,re)};return function(wt){return wt===0||wt===1?wt:f(vt(wt),O,Ne)}},$=function(W){return W=W.replace(/([A-Z])/g,function(O){return"-".concat(O.toLowerCase())}),W.charAt(0)==="-"?W.substring(1):W},a=function(W){return Math.pow(W,2)},c=function(W){return Math.pow(W,3)},L=function(W){return Math.pow(W,4)},J=function(W){return Math.pow(W,5)},ne=function(W){return Math.pow(W,6)},ye=function(W){return 1-Math.cos(W*Math.PI/2)},De=function(W){return 1-Math.sqrt(1-W*W)},_e=function(W){return W*W*(3*W-2)},Xe=function(W){for(var O,re=4;W<((O=Math.pow(2,--re))-1)/11;);return 1/Math.pow(4,3-re)-7.5625*Math.pow((O*3-2)/22-W,2)},et=function(W){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],re=(0,Jt.Z)(O,2),Ne=re[0],Be=Ne===void 0?1:Ne,Ie=re[1],vt=Ie===void 0?.5:Ie,wt=(0,$t.Z)(Number(Be),1,10),Gt=(0,$t.Z)(Number(vt),.1,2);return W===0||W===1?W:-wt*Math.pow(2,10*(W-1))*Math.sin((W-1-Gt/(Math.PI*2)*Math.asin(1/wt))*(Math.PI*2)/Gt)},it=function(W){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],re=arguments.length>2?arguments[2]:void 0,Ne=(0,Jt.Z)(O,4),Be=Ne[0],Ie=Be===void 0?1:Be,vt=Ne[1],wt=vt===void 0?100:vt,Gt=Ne[2],Xt=Gt===void 0?10:Gt,Yt=Ne[3],rn=Yt===void 0?0:Yt;Ie=(0,$t.Z)(Ie,.1,1e3),wt=(0,$t.Z)(wt,.1,1e3),Xt=(0,$t.Z)(Xt,.1,1e3),rn=(0,$t.Z)(rn,.1,1e3);var hn=Math.sqrt(wt/Ie),_=Xt/(2*Math.sqrt(wt*Ie)),I=_<1?hn*Math.sqrt(1-_*_):0,Q=1,Te=_<1?(_*hn+-rn)/I:-rn+hn,Re=re?re*W/1e3:W;return _<1?Re=Math.exp(-Re*_*hn)*(Q*Math.cos(I*Re)+Te*Math.sin(I*Re)):Re=(Q+Te*Re)*Math.exp(-Re*hn),W===0||W===1?W:1-Re},nt=function(W){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],re=O,Ne=(0,Jt.Z)(re,2),Be=Ne[0],Ie=Be===void 0?10:Be,vt=Ne[1],wt=vt==="start"?Math.ceil:Math.floor;return wt((0,$t.Z)(W,0,1)*Ie)/Ie},ie=function(W){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],re=(0,Jt.Z)(O,4),Ne=re[0],Be=re[1],Ie=re[2],vt=re[3];return P(Ne,Be,Ie,vt)(W)},ce=P(.42,0,1,1),be=function(W){return function(O){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Ne=arguments.length>2?arguments[2]:void 0;return 1-W(1-O,re,Ne)}},Me=function(W){return function(O){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Ne=arguments.length>2?arguments[2]:void 0;return O<.5?W(O*2,re,Ne)/2:1-W(O*-2+2,re,Ne)/2}},le=function(W){return function(O){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Ne=arguments.length>2?arguments[2]:void 0;return O<.5?(1-W(1-O*2,re,Ne))/2:(W(O*2-1,re,Ne)+1)/2}},Ze={steps:nt,"step-start":function(W){return nt(W,[1,"start"])},"step-end":function(W){return nt(W,[1,"end"])},linear:function(W){return W},"cubic-bezier":ie,ease:function(W){return ie(W,[.25,.1,.25,1])},in:ce,out:be(ce),"in-out":Me(ce),"out-in":le(ce),"in-quad":a,"out-quad":be(a),"in-out-quad":Me(a),"out-in-quad":le(a),"in-cubic":c,"out-cubic":be(c),"in-out-cubic":Me(c),"out-in-cubic":le(c),"in-quart":L,"out-quart":be(L),"in-out-quart":Me(L),"out-in-quart":le(L),"in-quint":J,"out-quint":be(J),"in-out-quint":Me(J),"out-in-quint":le(J),"in-expo":ne,"out-expo":be(ne),"in-out-expo":Me(ne),"out-in-expo":le(ne),"in-sine":ye,"out-sine":be(ye),"in-out-sine":Me(ye),"out-in-sine":le(ye),"in-circ":De,"out-circ":be(De),"in-out-circ":Me(De),"out-in-circ":le(De),"in-back":_e,"out-back":be(_e),"in-out-back":Me(_e),"out-in-back":le(_e),"in-bounce":Xe,"out-bounce":be(Xe),"in-out-bounce":Me(Xe),"out-in-bounce":le(Xe),"in-elastic":et,"out-elastic":be(et),"in-out-elastic":Me(et),"out-in-elastic":le(et),spring:it,"spring-in":it,"spring-out":be(it),"spring-in-out":Me(it),"spring-out-in":le(it)},ht=function(W){return $(W).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},ft=function(W){return Ze[ht(W)]||Ze.linear},dt=function(W){return W},ct=1,Nt=.5,Bt=0;function en(K,W){return function(O){if(O>=1)return 1;var re=1/K;return O+=W*re,O-O%re}}var tn="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",an=new RegExp("cubic-bezier\\(".concat(tn,",").concat(tn,",").concat(tn,",").concat(tn,"\\)")),Ht=/steps\(\s*(\d+)\s*\)/,pn=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function mn(K){var W=an.exec(K);if(W)return P.apply(void 0,(0,Ot.Z)(W.slice(1).map(Number)));var O=Ht.exec(K);if(O)return en(Number(O[1]),Bt);var re=pn.exec(K);return re?en(Number(re[1]),{start:ct,middle:Nt,end:Bt}[re[2]]):ft(K)}function ln(K){return Math.abs(yn(K)/(K.playbackRate||1))}function yn(K){var W;return K.duration===0||K.iterations===0?0:(K.duration==="auto"?0:Number(K.duration))*((W=K.iterations)!==null&&W!==void 0?W:1)}var xn=0,En=1,bn=2,wn=3;function Bn(K,W,O){if(W===null)return xn;var re=O.endTime;return W<Math.min(O.delay,re)?En:W>=Math.min(O.delay+K+O.endDelay,re)?bn:wn}function lr(K,W,O,re,Ne){switch(re){case En:return W==="backwards"||W==="both"?0:null;case wn:return O-Ne;case bn:return W==="forwards"||W==="both"?K:null;case xn:return null}}function Jn(K,W,O,re,Ne){var Be=Ne;return K===0?W!==En&&(Be+=O):Be+=re/K,Be}function cr(K,W,O,re,Ne,Be){var Ie=K===1/0?W%1:K%1;return Ie===0&&O===bn&&re!==0&&(Ne!==0||Be===0)&&(Ie=1),Ie}function Vt(K,W,O,re){return K===bn&&W===1/0?1/0:O===1?Math.floor(re)-1:Math.floor(re)}function rr(K,W,O){var re=K;if(K!=="normal"&&K!=="reverse"){var Ne=W;K==="alternate-reverse"&&(Ne+=1),re="normal",Ne!==1/0&&Ne%2!==0&&(re="reverse")}return re==="normal"?O:1-O}function dr(K,W,O){var re=Bn(K,W,O),Ne=lr(K,O.fill,W,re,O.delay);if(Ne===null)return null;var Be=O.duration==="auto"?0:O.duration,Ie=Jn(Be,re,O.iterations,Ne,O.iterationStart),vt=cr(Ie,O.iterationStart,re,O.iterations,Ne,Be),wt=Vt(re,O.iterations,vt,Ie),Gt=rr(O.direction,wt,vt);return O.currentIteration=wt,O.progress=Gt,O.easingFunction(Gt)}function pe(K,W,O){var re=w(K,W),Ne=g(re,O);return function(Be,Ie){if(Ie!==null)Ne.filter(function(wt){return Ie>=wt.applyFrom&&Ie<wt.applyTo}).forEach(function(wt){var Gt=Ie-wt.startOffset,Xt=wt.endOffset-wt.startOffset,Yt=Xt===0?0:Gt/Xt;Be.setAttribute(wt.property,wt.interpolation(Yt),!1,!1)});else for(var vt in re)te(vt)&&Be.setAttribute(vt,null)}}function te(K){return K!=="offset"&&K!=="easing"&&K!=="composite"&&K!=="computedOffset"}function w(K,W){for(var O={},re=0;re<K.length;re++)for(var Ne in K[re])if(te(Ne)){var Be={offset:K[re].offset,computedOffset:K[re].computedOffset,easing:K[re].easing,easingFunction:mn(K[re].easing)||W.easingFunction,value:K[re][Ne]};O[Ne]=O[Ne]||[],O[Ne].push(Be)}return O}function g(K,W){var O=[];for(var re in K)for(var Ne=K[re],Be=0;Be<Ne.length-1;Be++){var Ie=Be,vt=Be+1,wt=Ne[Ie].computedOffset,Gt=Ne[vt].computedOffset,Xt=wt,Yt=Gt;Be===0&&(Xt=-1/0,Gt===0&&(vt=Ie)),Be===Ne.length-2&&(Yt=1/0,wt===1&&(Ie=vt)),O.push({applyFrom:Xt,applyTo:Yt,startOffset:Ne[Ie].computedOffset,endOffset:Ne[vt].computedOffset,easingFunction:Ne[Ie].easingFunction,property:re,interpolation:z(re,Ne[Ie].value,Ne[vt].value,W)})}return O.sort(function(rn,hn){return rn.startOffset-hn.startOffset}),O}var M=function(W,O,re){return function(Ne){var Be=se(W,O,Ne);return(0,X.Z)(Be)?Be:re(Be)}};function z(K,W,O,re){var Ne=u.N1[K];if(Ne&&Ne.syntax&&Ne.int){var Be=u.GZ.styleValueRegistry.getPropertySyntax(Ne.syntax);if(Be){var Ie=Be.parser,vt=Ie?Ie(W,re):W,wt=Ie?Ie(O,re):O,Gt=Be.mixer(vt,wt,re);if(Gt){var Xt=M.apply(void 0,(0,Ot.Z)(Gt));return function(Yt){return Yt===0?W:Yt===1?O:Xt(Yt)}}}}return M(!1,!0,function(Yt){return Yt?O:W})}function se(K,W,O){if(typeof K=="number"&&typeof W=="number")return K*(1-O)+W*O;if(typeof K=="boolean"&&typeof W=="boolean"||typeof K=="string"&&typeof W=="string")return O<.5?K:W;if(Array.isArray(K)&&Array.isArray(W)){for(var re=K.length,Ne=W.length,Be=Math.max(re,Ne),Ie=[],vt=0;vt<Be;vt++)Ie.push(se(K[vt<re?vt:re-1],W[vt<Ne?vt:Ne-1],O));return Ie}throw new Error("Mismatched interpolation arguments ".concat(K,":").concat(W))}var fe=function(){function K(){(0,U.Z)(this,K),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=dt,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return(0,H.Z)(K,[{key:"easing",get:function(){return this._easing},set:function(O){this.easingFunction=mn(O),this._easing=O}}])}();function Ce(K){var W=[];for(var O in K)if(!(O in["easing","offset","composite"])){var re=K[O];Array.isArray(re)||(re=[re]);for(var Ne=re.length,Be=0;Be<Ne;Be++){if(!W[Be]){var Ie={};"offset"in K&&(Ie.offset=Number(K.offset)),"easing"in K&&(Ie.easing=K.easing),"composite"in K&&(Ie.composite=K.composite),W[Be]=Ie}re[Be]!==void 0&&re[Be]!==null&&(W[Be][O]=re[Be])}}return W.sort(function(vt,wt){return(vt.computedOffset||0)-(wt.computedOffset||0)}),W}function Ae(K,W){if(K===null)return[];Array.isArray(K)||(K=Ce(K));for(var O=K.map(function(wt){var Gt={};W!=null&&W.composite&&(Gt.composite="auto");for(var Xt in wt){var Yt=wt[Xt];if(Xt==="offset"){if(Yt!==null){if(Yt=Number(Yt),!isFinite(Yt))throw new Error("Keyframe offsets must be numbers.");if(Yt<0||Yt>1)throw new Error("Keyframe offsets must be between 0 and 1.");Gt.computedOffset=Yt}}else if(Xt==="composite"&&["replace","add","accumulate","auto"].indexOf(Yt)===-1)throw new Error("".concat(Yt," compositing is not supported"));Gt[Xt]=Yt}return Gt.offset===void 0&&(Gt.offset=null),Gt.easing===void 0&&(Gt.easing=(W==null?void 0:W.easing)||"linear"),Gt.composite===void 0&&(Gt.composite="auto"),Gt}),re=!0,Ne=-1/0,Be=0;Be<O.length;Be++){var Ie=O[Be].offset;if((0,Qt.Z)(Ie))re=!1;else{if(Ie<Ne)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");Ne=Ie}}O=O.filter(function(wt){return Number(wt.offset)>=0&&Number(wt.offset)<=1});function vt(){var wt,Gt=O,Xt=Gt.length;if(O[Xt-1].computedOffset=Number((wt=O[Xt-1].offset)!==null&&wt!==void 0?wt:1),Xt>1){var Yt;O[0].computedOffset=Number((Yt=O[0].offset)!==null&&Yt!==void 0?Yt:0)}for(var rn=0,hn=Number(O[0].computedOffset),_=1;_<Xt;_++){var I=O[_].computedOffset;if(!(0,Qt.Z)(I)&&!(0,Qt.Z)(hn)){for(var Q=1;Q<_-rn;Q++)O[rn+Q].computedOffset=hn+(Number(I)-hn)*Q/(_-rn);rn=_,hn=Number(I)}}}return re||vt(),O}var Ke="backwards|forwards|both|none".split("|"),We="reverse|alternate|alternate-reverse".split("|");function Ve(K,W){var O=new fe;return W&&(O.fill="both",O.duration="auto"),typeof K=="number"&&!isNaN(K)?O.duration=K:K!==void 0&&Object.keys(K).forEach(function(re){if(K[re]!==void 0&&K[re]!==null&&K[re]!=="auto"){if((typeof O[re]=="number"||re==="duration")&&(typeof K[re]!="number"||isNaN(K[re]))||re==="fill"&&Ke.indexOf(K[re])===-1||re==="direction"&&We.indexOf(K[re])===-1)return;O[re]=K[re]}}),O}function Qe(K,W){return K=ut(K!=null?K:{duration:"auto"}),Ve(K,W)}function ut(K){return typeof K=="number"&&(isNaN(K)?K={duration:"auto"}:K={duration:K}),K}var gt=function(){function K(W,O,re){var Ne=this;(0,U.Z)(this,K),this.composite="replace",this.iterationComposite="replace",this.target=W,this.timing=Qe(re,!1),this.timing.effect=this,this.timing.activeDuration=ln(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=Ae(O,this.timing),this.interpolations=pe(this.normalizedKeyframes,this.timing,this.target);var Be=u.GZ.globalThis.Proxy;this.computedTiming=Be?new Be(this.timing,{get:function(vt,wt){return wt==="duration"?vt.duration==="auto"?0:vt.duration:wt==="fill"?vt.fill==="auto"?"none":vt.fill:wt==="localTime"?Ne.animation&&Ne.animation.currentTime||null:wt==="currentIteration"?!Ne.animation||Ne.animation.playState!=="running"?null:vt.currentIteration||0:wt==="progress"?!Ne.animation||Ne.animation.playState!=="running"?null:vt.progress||0:vt[wt]},set:function(){return!0}}):this.timing}return(0,H.Z)(K,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(O){return O===null?!1:(this.timeFraction=dr(this.timing.activeDuration,O,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(O){this.normalizedKeyframes=Ae(O)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(O){var re=this;Object.keys(O||{}).forEach(function(Ne){re.timing[Ne]=O[Ne]})}}])}();function Et(K,W){return Number(K.id)-Number(W.id)}var mt=function(){function K(W){var O=this;(0,U.Z)(this,K),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(re){O.currentTime=re,O.discardAnimations(),O.animations.length===0?O.timelineTicking=!1:O.requestAnimationFrame(O.webAnimationsNextTick)},this.processRafCallbacks=function(re){var Ne=O.rafCallbacks;O.rafCallbacks=[],re<Number(O.currentTime)&&(re=Number(O.currentTime)),O.animations.sort(Et),O.animations=O.tick(re,!0,O.animations)[0],Ne.forEach(function(Be){Be[1](re)}),O.applyPendingEffects()},this.document=W}return(0,H.Z)(K,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(O,re,Ne){var Be=new gt(O,re,Ne),Ie=new lt(Be,this);return this.animations.push(Ie),this.restartWebAnimationsNextTick(),Ie.updatePromises(),Ie.play(),Ie.updatePromises(),Ie}},{key:"applyDirtiedAnimation",value:function(O){var re=this;if(!this.inTick){O.markTarget();var Ne=O.targetAnimations();Ne.sort(Et);var Be=this.tick(Number(this.currentTime),!1,Ne.slice())[1];Be.forEach(function(Ie){var vt=re.animations.indexOf(Ie);vt!==-1&&re.animations.splice(vt,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(O){O==null||O.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(O){return O.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(O){return O.playState!=="finished"&&O.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(O){var re=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([re,O]),re}},{key:"requestAnimationFrame",value:function(O){var re=this;return this.rAF(function(Ne){re.updateAnimationsPromises(),O(Ne),re.updateAnimationsPromises()})}},{key:"tick",value:function(O,re,Ne){var Be=this,Ie,vt;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=O,this.ticking=!1;var wt=[],Gt=[],Xt=[],Yt=[];return Ne.forEach(function(rn){rn.tick(O,re),rn._inEffect?(Gt.push(rn.effect),rn.markTarget()):(wt.push(rn.effect),rn.unmarkTarget()),rn._needsTick&&(Be.ticking=!0);var hn=rn._inEffect||rn._needsTick;rn._inTimeline=hn,hn?Xt.push(rn):Yt.push(rn)}),(Ie=this.pendingEffects).push.apply(Ie,wt),(vt=this.pendingEffects).push.apply(vt,Gt),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[Xt,Yt]}}])}();u.GZ.EasingFunction=mn,u.GZ.AnimationTimeline=mt;},42109:function(Ft,qe,y){"use strict";y.d(qe,{t:function(){return ge}});function u({map:k,initKey:A},N){const V=A(N);return k.has(V)?k.get(V):N}function U({map:k,initKey:A},N){const V=A(N);return k.has(V)?k.get(V):(k.set(V,N),N)}function H({map:k,initKey:A},N){const V=A(N);return k.has(V)&&(N=k.get(V),k.delete(V)),N}function q(k){return typeof k=="object"?k.valueOf():k}class C extends Map{constructor(A){if(super(),this.map=new Map,this.initKey=q,A!==null)for(const[N,V]of A)this.set(N,V)}get(A){return super.get(u({map:this.map,initKey:this.initKey},A))}has(A){return super.has(u({map:this.map,initKey:this.initKey},A))}set(A,N){return super.set(U({map:this.map,initKey:this.initKey},A),N)}delete(A){return super.delete(H({map:this.map,initKey:this.initKey},A))}}var ee=y(5733);function X(k){const A=Math.min(...k);return k.map(N=>N/A)}function de(k,A){const N=k.length,V=A-N;return V>0?[...k,...new Array(V).fill(1)]:V<0?k.slice(0,A):k}function m(k){return Math.round(k*1e12)/1e12}function Z(k){const{domain:A,range:N,paddingOuter:V,paddingInner:j,flex:xe,round:Le,align:Ge}=k,je=A.length,ke=de(xe,je),[Ee,ve]=N,Mt=ve-Ee,St=2/je*V+1-1/je*j,Pt=Mt/St,_t=Pt*j/je,Zt=Pt-je*_t,Ot=X(ke),Jt=Ot.reduce((R,oe)=>R+oe),$t=Zt/Jt,Qt=new C(A.map((R,oe)=>{const x=Ot[oe]*$t;return[R,Le?Math.floor(x):x]})),F=new C(A.map((R,oe)=>{const v=Ot[oe]*$t+_t;return[R,Le?Math.floor(v):v]})),ae=Array.from(F.values()).reduce((R,oe)=>R+oe),Rt=(Mt-(ae-ae/je*j))*Ge,me=Ee+Rt;let ue=Le?Math.round(me):me;const G=new Array(je);for(let R=0;R<je;R+=1){G[R]=m(ue);const oe=A[R];ue+=F.get(oe)}return{valueBandWidth:Qt,valueStep:F,adjustedRange:G}}function S(k){var A;const{domain:N}=k,V=N.length;if(V===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((A=k.flex)===null||A===void 0)&&A.length))return Z(k);const{range:xe,paddingOuter:Le,paddingInner:Ge,round:je,align:ke}=k;let Ee,ve,Mt=xe[0];const Pt=xe[1]-Mt,_t=Le*2,Zt=V-Ge;Ee=Pt/Math.max(1,_t+Zt),je&&(Ee=Math.floor(Ee)),Mt+=(Pt-Ee*(V-Ge))*ke,ve=Ee*(1-Ge),je&&(Mt=Math.round(Mt),ve=Math.round(ve));const Ot=new Array(V).fill(0).map((Jt,$t)=>Mt+$t*Ee);return{valueStep:Ee,valueBandWidth:ve,adjustedRange:Ot}}class ge extends ee.r{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:ee.z,flex:[]}}constructor(A){super(A)}clone(){return new ge(this.options)}getStep(A){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:A===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(A)}getBandWidth(A){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:A===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(A)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:A,paddingInner:N}=this.options;return A>0?A:N}getPaddingOuter(){const{padding:A,paddingOuter:N}=this.options;return A>0?A:N}rescale(){super.rescale();const{align:A,domain:N,range:V,round:j,flex:xe}=this.options,{adjustedRange:Le,valueBandWidth:Ge,valueStep:je}=S({align:A,range:V,round:j,flex:xe,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:N});this.valueStep=je,this.valueBandWidth=Ge,this.adjustedRange=Le}}},39429:function(Ft,qe,y){"use strict";y.d(qe,{X:function(){return U}});var u=y(11051);class U{constructor(q){this.options=(0,u.Z)({},this.getDefaultOptions()),this.update(q)}getOptions(){return this.options}update(q={}){this.options=(0,u.Z)({},this.options,q),this.rescale(q)}rescale(q){}}},29785:function(Ft,qe,y){"use strict";y.d(qe,{V:function(){return k}});var u=y(96673),U=y(39429),H=y(79572),q=y(98882),C=y(88784),ee=y(43552),X=y(48478),de=y(91915);function m(A,N){const V=N<A?N:A,j=A>N?A:N;return xe=>Math.min(Math.max(V,xe),j)}const Z=(A,N,V)=>{const[j,xe]=A,[Le,Ge]=N;let je,ke;return j<xe?(je=(0,H.I)(j,xe),ke=V(Le,Ge)):(je=(0,H.I)(xe,j),ke=V(Ge,Le)),(0,q.q)(ke,je)},S=(A,N,V)=>{const j=Math.min(A.length,N.length)-1,xe=new Array(j),Le=new Array(j),Ge=A[0]>A[j],je=Ge?[...A].reverse():A,ke=Ge?[...N].reverse():N;for(let Ee=0;Ee<j;Ee+=1)xe[Ee]=(0,H.I)(je[Ee],je[Ee+1]),Le[Ee]=V(ke[Ee],ke[Ee+1]);return Ee=>{const ve=(0,C.b)(A,Ee,1,j)-1,Mt=xe[ve],St=Le[ve];return(0,q.q)(St,Mt)(Ee)}},ge=(A,N,V,j)=>{const Le=Math.min(A.length,N.length)>2?S:Z,Ge=j?ee.lk:V;return Le(A,N,Ge)};class k extends U.X{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:ee.fv,tickCount:5}}map(N){return(0,X.J)(N)?this.output(N):this.options.unknown}invert(N){return(0,X.J)(N)?this.input(N):this.options.unknown}nice(){if(!this.options.nice)return;const[N,V,j,...xe]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(N,V,j,...xe)}getTicks(){const{tickMethod:N}=this.options,[V,j,xe,...Le]=this.getTickMethodOptions();return N(V,j,xe,...Le)}getTickMethodOptions(){const{domain:N,tickCount:V}=this.options,j=N[0],xe=N[N.length-1];return[j,xe,V]}chooseNice(){return de.n}rescale(){this.nice();const[N,V]=this.chooseTransforms();this.composeOutput(N,this.chooseClamp(N)),this.composeInput(N,V,this.chooseClamp(V))}chooseClamp(N){const{clamp:V,range:j}=this.options,xe=this.options.domain.map(N),Le=Math.min(xe.length,j.length);return V?m(xe[0],xe[Le-1]):u.Z}composeOutput(N,V){const{domain:j,range:xe,round:Le,interpolate:Ge}=this.options,je=ge(j.map(N),xe,Ge,Le);this.output=(0,q.q)(je,V,N)}composeInput(N,V,j){const{domain:xe,range:Le}=this.options,Ge=ge(Le,xe.map(N),ee.fv);this.input=(0,q.q)(V,j,Ge)}}},12454:function(Ft,qe,y){"use strict";y.d(qe,{b:function(){return C}});var u=y(96673),U=y(29785),H=y(43552),q=y(77341);class C extends U.V{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:H.wp,tickMethod:q.Z,tickCount:5}}chooseTransforms(){return[u.Z,u.Z]}clone(){return new C(this.options)}}},5733:function(Ft,qe,y){"use strict";y.d(qe,{r:function(){return ee},z:function(){return U}});var u=y(39429);const U=Symbol("defaultUnknown");function H(X,de,m){for(let Z=0;Z<de.length;Z+=1)X.has(de[Z])||X.set(m(de[Z]),Z)}function q(X){const{value:de,from:m,to:Z,mapper:S,notFoundReturn:ge}=X;let k=S.get(de);if(k===void 0){if(ge!==U)return ge;k=m.push(de)-1,S.set(de,k)}return Z[k%Z.length]}function C(X){return X instanceof Date?de=>`${de}`:typeof X=="object"?de=>JSON.stringify(de):de=>de}class ee extends u.X{getDefaultOptions(){return{domain:[],range:[],unknown:U}}constructor(de){super(de)}map(de){return this.domainIndexMap.size===0&&H(this.domainIndexMap,this.getDomain(),this.domainKey),q({value:this.domainKey(de),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(de){return this.rangeIndexMap.size===0&&H(this.rangeIndexMap,this.getRange(),this.rangeKey),q({value:this.rangeKey(de),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(de){const[m]=this.options.domain,[Z]=this.options.range;if(this.domainKey=C(m),this.rangeKey=C(Z),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!de||de.range)&&this.rangeIndexMap.clear(),(!de||de.domain||de.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new ee(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:de,compare:m}=this.options;return this.sortedDomain=m?[...de].sort(m):de,this.sortedDomain}}},77341:function(Ft,qe,y){"use strict";y.d(qe,{Z:function(){return U}});var u=y(5097);const U=(H,q,C)=>{let ee,X,de=H,m=q;if(de===m&&C>0)return[de];let Z=(0,u.G)(de,m,C);if(Z===0||!Number.isFinite(Z))return[];if(Z>0){de=Math.ceil(de/Z),m=Math.floor(m/Z),X=new Array(ee=Math.ceil(m-de+1));for(let S=0;S<ee;S+=1)X[S]=(de+S)*Z}else{Z=-Z,de=Math.ceil(de*Z),m=Math.floor(m*Z),X=new Array(ee=Math.ceil(m-de+1));for(let S=0;S<ee;S+=1)X[S]=(de+S)/Z}return X}},88784:function(Ft,qe,y){"use strict";y.d(qe,{b:function(){return u}});function u(U,H,q,C,ee){let X=q||0,de=C||U.length;const m=ee||(Z=>Z);for(;X<de;){const Z=Math.floor((X+de)/2);m(U[Z])>H?de=Z:X=Z+1}return X}},98882:function(Ft,qe,y){"use strict";y.d(qe,{q:function(){return u}});function u(U,...H){return H.reduce((q,C)=>ee=>q(C(ee)),U)}},91915:function(Ft,qe,y){"use strict";y.d(qe,{n:function(){return U}});var u=y(5097);const U=(H,q,C=5)=>{const ee=[H,q];let X=0,de=ee.length-1,m=ee[X],Z=ee[de],S;return Z<m&&([m,Z]=[Z,m],[X,de]=[de,X]),S=(0,u.G)(m,Z,C),S>0?(m=Math.floor(m/S)*S,Z=Math.ceil(Z/S)*S,S=(0,u.G)(m,Z,C)):S<0&&(m=Math.ceil(m*S)/S,Z=Math.floor(Z*S)/S,S=(0,u.G)(m,Z,C)),S>0?(ee[X]=Math.floor(m/S)*S,ee[de]=Math.ceil(Z/S)*S):S<0&&(ee[X]=Math.ceil(m*S)/S,ee[de]=Math.floor(Z*S)/S),ee}},43552:function(Ft,qe,y){"use strict";y.d(qe,{fv:function(){return ee},lk:function(){return m},wp:function(){return de}});var u=y(2489),U=y.n(u);function H(Z,S,ge){let k=ge;return k<0&&(k+=1),k>1&&(k-=1),k<1/6?Z+(S-Z)*6*k:k<1/2?S:k<2/3?Z+(S-Z)*(2/3-k)*6:Z}function q(Z){const S=Z[0]/360,ge=Z[1]/100,k=Z[2]/100,A=Z[3];if(ge===0)return[k*255,k*255,k*255,A];const N=k<.5?k*(1+ge):k+ge-k*ge,V=2*k-N,j=H(V,N,S+1/3),xe=H(V,N,S),Le=H(V,N,S-1/3);return[j*255,xe*255,Le*255,A]}function C(Z){const S=U().get(Z);if(!S)return null;const{model:ge,value:k}=S;return ge==="rgb"?k:ge==="hsl"?q(k):null}const ee=(Z,S)=>ge=>Z*(1-ge)+S*ge,X=(Z,S)=>{const ge=C(Z),k=C(S);return ge===null||k===null?ge?()=>Z:()=>S:A=>{const N=new Array(4);for(let Ge=0;Ge<4;Ge+=1){const je=ge[Ge],ke=k[Ge];N[Ge]=je*(1-A)+ke*A}const[V,j,xe,Le]=N;return`rgba(${Math.round(V)}, ${Math.round(j)}, ${Math.round(xe)}, ${Le})`}},de=(Z,S)=>typeof Z=="number"&&typeof S=="number"?ee(Z,S):typeof Z=="string"&&typeof S=="string"?X(Z,S):()=>Z,m=(Z,S)=>{const ge=ee(Z,S);return k=>Math.round(ge(k))}},48478:function(Ft,qe,y){"use strict";y.d(qe,{J:function(){return H}});var u=y(49025);function U(q){return q===null}function H(q){return!(0,u.Z)(q)&&!U(q)&&!Number.isNaN(q)}},79572:function(Ft,qe,y){"use strict";y.d(qe,{I:function(){return u}});function u(U,H){return H-U?q=>(q-U)/(H-U):q=>.5}},5097:function(Ft,qe,y){"use strict";y.d(qe,{G:function(){return q},l:function(){return C}});const u=Math.sqrt(50),U=Math.sqrt(10),H=Math.sqrt(2);function q(ee,X,de){const m=(X-ee)/Math.max(0,de),Z=Math.floor(Math.log(m)/Math.LN10),S=m/Fr(10,Z);return Z>=0?(S>=u?10:S>=U?5:S>=H?2:1)*Fr(10,Z):-Fr(10,-Z)/(S>=u?10:S>=U?5:S>=H?2:1)}function C(ee,X,de){const m=Math.abs(X-ee)/Math.max(0,de);let Z=Fr(10,Math.floor(Math.log(m)/Math.LN10));const S=m/Z;return S>=u?Z*=10:S>=U?Z*=5:S>=H&&(Z*=2),X<ee?-Z:Z}},30853:function(Ft,qe,y){"use strict";y.d(qe,{L:function(){return u}});function u(U){var H=document.createElement("div");H.innerHTML=U;var q=H.childNodes[0];return q&&H.contains(q)&&H.removeChild(q),q}},63777:function(Ft,qe){"use strict";var y=function(u,U,H){return u<U?U:u>H?H:u};qe.Z=y},99860:function(Ft,qe){"use strict";function y(u,U,H){var q;return function(){var C=this,ee=arguments,X=function(){q=null,H||u.apply(C,ee)},de=H&&!q;clearTimeout(q),q=setTimeout(X,U),de&&u.apply(C,ee)}}qe.Z=y},13639:function(Ft,qe,y){"use strict";var u=y(65443),U=function(H,q){if(!(0,u.Z)(H))return H;for(var C=[],ee=0;ee<H.length;ee++){var X=H[ee];q(X,ee)&&C.push(X)}return C};qe.Z=U},85695:function(Ft,qe,y){"use strict";var u=y(43706);qe.Z=function(U,H,q){for(var C=0,ee=(0,u.Z)(H)?H.split("."):H;U&&C<ee.length;)U=U[ee[C++]];return U===void 0||C<ee.length?q:U}},96673:function(Ft,qe){"use strict";qe.Z=function(y){return y}},65443:function(Ft,qe){"use strict";var y=function(u){return u!==null&&typeof u!="function"&&isFinite(u.length)};qe.Z=y},29348:function(Ft,qe,y){"use strict";var u=y(16700),U=function(H){return(0,u.Z)(H,"Boolean")};qe.Z=U},87314:function(Ft,qe,y){"use strict";var u=y(6358),U=y(65443),H=y(43706),q=function(C,ee){if(C===ee)return!0;if(!C||!ee||(0,H.Z)(C)||(0,H.Z)(ee))return!1;if((0,U.Z)(C)||(0,U.Z)(ee)){if(C.length!==ee.length)return!1;for(var X=!0,de=0;de<C.length&&(X=q(C[de],ee[de]),!!X);de++);return X}if((0,u.Z)(C)||(0,u.Z)(ee)){var m=Object.keys(C),Z=Object.keys(ee);if(m.length!==Z.length)return!1;for(var X=!0,de=0;de<m.length&&(X=q(C[m[de]],ee[m[de]]),!!X);de++);return X}return!1};qe.Z=q},95177:function(Ft,qe,y){"use strict";y.d(qe,{Z:function(){return U}});var u=1e-5;function U(H,q,C){return C===void 0&&(C=u),H===q||Math.abs(H-q)<C}},49025:function(Ft,qe){"use strict";var y=function(u){return u===void 0};qe.Z=y},76109:function(Ft,qe,y){"use strict";var u=y(94785),U=function(H){var q=(0,u.Z)(H);return q.charAt(0).toLowerCase()+q.substring(1)};qe.Z=U},16510:function(Ft,qe,y){"use strict";y.d(qe,{Z:function(){return u}});function u(U){if(!Array.isArray(U))return-1/0;var H=U.length;if(!H)return-1/0;for(var q=U[0],C=1;C<H;C++)q=Math.max(q,U[C]);return q}},91391:function(Ft,qe,y){"use strict";y.d(qe,{Z:function(){return H}});function u(q){var C,ee,X,de=q||1;function m(S,ge){++C>de&&(X=ee,Z(1),++C),ee[S]=ge}function Z(S){C=0,ee=Object.create(null),S||(X=Object.create(null))}return Z(),{clear:Z,has:function(S){return ee[S]!==void 0||X[S]!==void 0},get:function(S){var ge=ee[S];if(ge!==void 0)return ge;if((ge=X[S])!==void 0)return m(S,ge),ge},set:function(S,ge){ee[S]!==void 0?ee[S]=ge:m(S,ge)}}}var U=new Map;function H(q,C,ee){ee===void 0&&(ee=128);var X=function(){for(var de=[],m=0;m<arguments.length;m++)de[m]=arguments[m];var Z=C?C.apply(this,de):de[0];U.has(q)||U.set(q,u(ee));var S=U.get(q);if(S.has(Z))return S.get(Z);var ge=q.apply(this,de);return S.set(Z,ge),ge};return X}},45481:function(Ft,qe,y){"use strict";var u=y(18814);qe.Z=function(U){if((0,u.Z)(U))return U.reduce(function(H,q){return Math.min(H,q)},U[0])}},73959:function(Ft,qe,y){"use strict";var u=y(44591);qe.Z=function(U,H){return(0,u.Z)(U,function(q,C,ee){return H.includes(ee)||(q[ee]=C),q},{})}},44591:function(Ft,qe,y){"use strict";var u=y(80821),U=y(18814),H=y(37090),q=function(C,ee,X){if(!(0,U.Z)(C)&&!(0,H.Z)(C))return C;var de=X;return(0,u.Z)(C,function(m,Z){de=ee(de,m,Z)}),de};qe.Z=q},58871:function(Ft,qe,y){"use strict";var u=y(48758),U=y(43706),H=y(22355);qe.Z=function(q,C,ee){var X=q,de=(0,U.Z)(C)?C.split("."):C;return de.forEach(function(m,Z){Z<de.length-1?((0,u.Z)(X[m])||(X[m]=(0,H.Z)(de[Z+1])?[]:{}),X=X[m]):X[m]=ee}),q}},2170:function(Ft,qe){"use strict";qe.Z=function(y,u,U){var H,q,C,ee,X=0;U||(U={});var de=function(){X=U.leading===!1?0:Date.now(),H=null,ee=y.apply(q,C),H||(q=C=null)},m=function(){var Z=Date.now();!X&&U.leading===!1&&(X=Z);var S=u-(Z-X);return q=this,C=arguments,S<=0||S>u?(H&&(clearTimeout(H),H=null),X=Z,ee=y.apply(q,C),H||(q=C=null)):!H&&U.trailing!==!1&&(H=setTimeout(de,S)),ee};return m.cancel=function(){clearTimeout(H),X=0,H=q=C=null},m}},94785:function(Ft,qe,y){"use strict";var u=y(54663);qe.Z=function(U){return(0,u.Z)(U)?"":U.toString()}},70373:function(Ft,qe,y){"use strict";var u=y(94785),U=function(H){var q=(0,u.Z)(H);return q.charAt(0).toUpperCase()+q.substring(1)};qe.Z=U},40044:function(Ft,qe,y){"use strict";y.d(qe,{W:function(){return U}});function u(H,q,C){var ee=H*Math.cos(C)-q*Math.sin(C),X=H*Math.sin(C)+q*Math.cos(C);return{x:ee,y:X}}function U(H,q,C,ee,X,de,m,Z,S,ge){var k=H,A=q,N=C,V=ee,j=Z,xe=S,Le=Math.PI*120/180,Ge=Math.PI/180*(+X||0),je=[],ke,Ee,ve,Mt,St;if(ge)Ee=ge[0],ve=ge[1],Mt=ge[2],St=ge[3];else{ke=u(k,A,-Ge),k=ke.x,A=ke.y,ke=u(j,xe,-Ge),j=ke.x,xe=ke.y;var Pt=(k-j)/2,_t=(A-xe)/2,Zt=Pt*Pt/(N*N)+_t*_t/(V*V);Zt>1&&(Zt=Math.sqrt(Zt),N*=Zt,V*=Zt);var Ot=N*N,Jt=V*V,$t=(de===m?-1:1)*Math.sqrt(Math.abs((Ot*Jt-Ot*_t*_t-Jt*Pt*Pt)/(Ot*_t*_t+Jt*Pt*Pt)));Mt=$t*N*_t/V+(k+j)/2,St=$t*-V*Pt/N+(A+xe)/2,Ee=Math.asin(((A-St)/V*Math.pow(10,9)>>0)/Math.pow(10,9)),ve=Math.asin(((xe-St)/V*Math.pow(10,9)>>0)/Math.pow(10,9)),Ee=k<Mt?Math.PI-Ee:Ee,ve=j<Mt?Math.PI-ve:ve,Ee<0&&(Ee=Math.PI*2+Ee),ve<0&&(ve=Math.PI*2+ve),m&&Ee>ve&&(Ee-=Math.PI*2),!m&&ve>Ee&&(ve-=Math.PI*2)}var Qt=ve-Ee;if(Math.abs(Qt)>Le){var F=ve,ae=j,lt=xe;ve=Ee+Le*(m&&ve>Ee?1:-1),j=Mt+N*Math.cos(ve),xe=St+V*Math.sin(ve),je=U(j,xe,N,V,X,0,m,ae,lt,[ve,F,Mt,St])}Qt=ve-Ee;var Rt=Math.cos(Ee),me=Math.sin(Ee),ue=Math.cos(ve),G=Math.sin(ve),R=Math.tan(Qt/4),oe=4/3*N*R,x=4/3*V*R,v=[k,A],b=[k+oe*me,A-x*Rt],T=[j+oe*G,xe-x*ue],f=[j,xe];if(b[0]=2*v[0]-b[0],b[1]=2*v[1]-b[1],ge)return b.concat(T,f,je);je=b.concat(T,f,je);for(var E=[],B=0,p=je.length;B<p;B+=1)E[B]=B%2?u(je[B-1],je[B],Ge).y:u(je[B],je[B+1],Ge).x;return E}},73218:function(Ft,qe,y){"use strict";y.d(qe,{y:function(){return u}});function u(U,H){return Math.sqrt((U[0]-H[0])*(U[0]-H[0])+(U[1]-H[1])*(U[1]-H[1]))}},99419:function(Ft){"use strict";Ft.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},2489:function(Ft,qe,y){var u=y(99419),U=y(27933),H=Object.hasOwnProperty,q=Object.create(null);for(var C in u)H.call(u,C)&&(q[u[C]]=C);var ee=Ft.exports={to:{},get:{}};ee.get=function(m){var Z=m.substring(0,3).toLowerCase(),S,ge;switch(Z){case"hsl":S=ee.get.hsl(m),ge="hsl";break;case"hwb":S=ee.get.hwb(m),ge="hwb";break;default:S=ee.get.rgb(m),ge="rgb";break}return S?{model:ge,value:S}:null},ee.get.rgb=function(m){if(!m)return null;var Z=/^#([a-f0-9]{3,4})$/i,S=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,ge=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,k=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,A=/^(\w+)$/,N=[0,0,0,1],V,j,xe;if(V=m.match(S)){for(xe=V[2],V=V[1],j=0;j<3;j++){var Le=j*2;N[j]=parseInt(V.slice(Le,Le+2),16)}xe&&(N[3]=parseInt(xe,16)/255)}else if(V=m.match(Z)){for(V=V[1],xe=V[3],j=0;j<3;j++)N[j]=parseInt(V[j]+V[j],16);xe&&(N[3]=parseInt(xe+xe,16)/255)}else if(V=m.match(ge)){for(j=0;j<3;j++)N[j]=parseInt(V[j+1],0);V[4]&&(V[5]?N[3]=parseFloat(V[4])*.01:N[3]=parseFloat(V[4]))}else if(V=m.match(k)){for(j=0;j<3;j++)N[j]=Math.round(parseFloat(V[j+1])*2.55);V[4]&&(V[5]?N[3]=parseFloat(V[4])*.01:N[3]=parseFloat(V[4]))}else return(V=m.match(A))?V[1]==="transparent"?[0,0,0,0]:H.call(u,V[1])?(N=u[V[1]],N[3]=1,N):null:null;for(j=0;j<3;j++)N[j]=X(N[j],0,255);return N[3]=X(N[3],0,1),N},ee.get.hsl=function(m){if(!m)return null;var Z=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,S=m.match(Z);if(S){var ge=parseFloat(S[4]),k=(parseFloat(S[1])%360+360)%360,A=X(parseFloat(S[2]),0,100),N=X(parseFloat(S[3]),0,100),V=X(isNaN(ge)?1:ge,0,1);return[k,A,N,V]}return null},ee.get.hwb=function(m){if(!m)return null;var Z=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,S=m.match(Z);if(S){var ge=parseFloat(S[4]),k=(parseFloat(S[1])%360+360)%360,A=X(parseFloat(S[2]),0,100),N=X(parseFloat(S[3]),0,100),V=X(isNaN(ge)?1:ge,0,1);return[k,A,N,V]}return null},ee.to.hex=function(){var m=U(arguments);return"#"+de(m[0])+de(m[1])+de(m[2])+(m[3]<1?de(Math.round(m[3]*255)):"")},ee.to.rgb=function(){var m=U(arguments);return m.length<4||m[3]===1?"rgb("+Math.round(m[0])+", "+Math.round(m[1])+", "+Math.round(m[2])+")":"rgba("+Math.round(m[0])+", "+Math.round(m[1])+", "+Math.round(m[2])+", "+m[3]+")"},ee.to.rgb.percent=function(){var m=U(arguments),Z=Math.round(m[0]/255*100),S=Math.round(m[1]/255*100),ge=Math.round(m[2]/255*100);return m.length<4||m[3]===1?"rgb("+Z+"%, "+S+"%, "+ge+"%)":"rgba("+Z+"%, "+S+"%, "+ge+"%, "+m[3]+")"},ee.to.hsl=function(){var m=U(arguments);return m.length<4||m[3]===1?"hsl("+m[0]+", "+m[1]+"%, "+m[2]+"%)":"hsla("+m[0]+", "+m[1]+"%, "+m[2]+"%, "+m[3]+")"},ee.to.hwb=function(){var m=U(arguments),Z="";return m.length>=4&&m[3]!==1&&(Z=", "+m[3]),"hwb("+m[0]+", "+m[1]+"%, "+m[2]+"%"+Z+")"},ee.to.keyword=function(m){return q[m.slice(0,3)]};function X(m,Z,S){return Math.min(Math.max(Z,m),S)}function de(m){var Z=Math.round(m).toString(16).toUpperCase();return Z.length<2?"0"+Z:Z}},2337:function(Ft){"use strict";var qe=Object.prototype.hasOwnProperty,y="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(y=!1));function U(ee,X,de){this.fn=ee,this.context=X,this.once=de||!1}function H(ee,X,de,m,Z){if(typeof de!="function")throw new TypeError("The listener must be a function");var S=new U(de,m||ee,Z),ge=y?y+X:X;return ee._events[ge]?ee._events[ge].fn?ee._events[ge]=[ee._events[ge],S]:ee._events[ge].push(S):(ee._events[ge]=S,ee._eventsCount++),ee}function q(ee,X){--ee._eventsCount===0?ee._events=new u:delete ee._events[X]}function C(){this._events=new u,this._eventsCount=0}C.prototype.eventNames=function(){var X=[],de,m;if(this._eventsCount===0)return X;for(m in de=this._events)qe.call(de,m)&&X.push(y?m.slice(1):m);return Object.getOwnPropertySymbols?X.concat(Object.getOwnPropertySymbols(de)):X},C.prototype.listeners=function(X){var de=y?y+X:X,m=this._events[de];if(!m)return[];if(m.fn)return[m.fn];for(var Z=0,S=m.length,ge=new Array(S);Z<S;Z++)ge[Z]=m[Z].fn;return ge},C.prototype.listenerCount=function(X){var de=y?y+X:X,m=this._events[de];return m?m.fn?1:m.length:0},C.prototype.emit=function(X,de,m,Z,S,ge){var k=y?y+X:X;if(!this._events[k])return!1;var A=this._events[k],N=arguments.length,V,j;if(A.fn){switch(A.once&&this.removeListener(X,A.fn,void 0,!0),N){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,de),!0;case 3:return A.fn.call(A.context,de,m),!0;case 4:return A.fn.call(A.context,de,m,Z),!0;case 5:return A.fn.call(A.context,de,m,Z,S),!0;case 6:return A.fn.call(A.context,de,m,Z,S,ge),!0}for(j=1,V=new Array(N-1);j<N;j++)V[j-1]=arguments[j];A.fn.apply(A.context,V)}else{var xe=A.length,Le;for(j=0;j<xe;j++)switch(A[j].once&&this.removeListener(X,A[j].fn,void 0,!0),N){case 1:A[j].fn.call(A[j].context);break;case 2:A[j].fn.call(A[j].context,de);break;case 3:A[j].fn.call(A[j].context,de,m);break;case 4:A[j].fn.call(A[j].context,de,m,Z);break;default:if(!V)for(Le=1,V=new Array(N-1);Le<N;Le++)V[Le-1]=arguments[Le];A[j].fn.apply(A[j].context,V)}}return!0},C.prototype.on=function(X,de,m){return H(this,X,de,m,!1)},C.prototype.once=function(X,de,m){return H(this,X,de,m,!0)},C.prototype.removeListener=function(X,de,m,Z){var S=y?y+X:X;if(!this._events[S])return this;if(!de)return q(this,S),this;var ge=this._events[S];if(ge.fn)ge.fn===de&&(!Z||ge.once)&&(!m||ge.context===m)&&q(this,S);else{for(var k=0,A=[],N=ge.length;k<N;k++)(ge[k].fn!==de||Z&&!ge[k].once||m&&ge[k].context!==m)&&A.push(ge[k]);A.length?this._events[S]=A.length===1?A[0]:A:q(this,S)}return this},C.prototype.removeAllListeners=function(X){var de;return X?(de=y?y+X:X,this._events[de]&&q(this,de)):(this._events=new u,this._eventsCount=0),this},C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prefixed=y,C.EventEmitter=C,Ft.exports=C},31767:function(Ft,qe,y){"use strict";y.d(qe,{Ib:function(){return u},WT:function(){return U}});var u=1e-6,U=typeof Float32Array!="undefined"?Float32Array:Array,H=Math.random;function q(de){U=de}var C=Math.PI/180;function ee(de){return de*C}function X(de,m){return Math.abs(de-m)<=u*Math.max(1,Math.abs(de),Math.abs(m))}Math.hypot||(Math.hypot=function(){for(var de=0,m=arguments.length;m--;)de+=arguments[m]*arguments[m];return Math.sqrt(de)})},73485:function(Ft,qe,y){"use strict";y.d(qe,{Ue:function(){return U},al:function(){return ee},xO:function(){return H}});var u=y(31767);function U(){var F=new u.WT(9);return u.WT!=Float32Array&&(F[1]=0,F[2]=0,F[3]=0,F[5]=0,F[6]=0,F[7]=0),F[0]=1,F[4]=1,F[8]=1,F}function H(F,ae){return F[0]=ae[0],F[1]=ae[1],F[2]=ae[2],F[3]=ae[4],F[4]=ae[5],F[5]=ae[6],F[6]=ae[8],F[7]=ae[9],F[8]=ae[10],F}function q(F){var ae=new glMatrix.ARRAY_TYPE(9);return ae[0]=F[0],ae[1]=F[1],ae[2]=F[2],ae[3]=F[3],ae[4]=F[4],ae[5]=F[5],ae[6]=F[6],ae[7]=F[7],ae[8]=F[8],ae}function C(F,ae){return F[0]=ae[0],F[1]=ae[1],F[2]=ae[2],F[3]=ae[3],F[4]=ae[4],F[5]=ae[5],F[6]=ae[6],F[7]=ae[7],F[8]=ae[8],F}function ee(F,ae,lt,Rt,me,ue,G,R,oe){var x=new u.WT(9);return x[0]=F,x[1]=ae,x[2]=lt,x[3]=Rt,x[4]=me,x[5]=ue,x[6]=G,x[7]=R,x[8]=oe,x}function X(F,ae,lt,Rt,me,ue,G,R,oe,x){return F[0]=ae,F[1]=lt,F[2]=Rt,F[3]=me,F[4]=ue,F[5]=G,F[6]=R,F[7]=oe,F[8]=x,F}function de(F){return F[0]=1,F[1]=0,F[2]=0,F[3]=0,F[4]=1,F[5]=0,F[6]=0,F[7]=0,F[8]=1,F}function m(F,ae){if(F===ae){var lt=ae[1],Rt=ae[2],me=ae[5];F[1]=ae[3],F[2]=ae[6],F[3]=lt,F[5]=ae[7],F[6]=Rt,F[7]=me}else F[0]=ae[0],F[1]=ae[3],F[2]=ae[6],F[3]=ae[1],F[4]=ae[4],F[5]=ae[7],F[6]=ae[2],F[7]=ae[5],F[8]=ae[8];return F}function Z(F,ae){var lt=ae[0],Rt=ae[1],me=ae[2],ue=ae[3],G=ae[4],R=ae[5],oe=ae[6],x=ae[7],v=ae[8],b=v*G-R*x,T=-v*ue+R*oe,f=x*ue-G*oe,E=lt*b+Rt*T+me*f;return E?(E=1/E,F[0]=b*E,F[1]=(-v*Rt+me*x)*E,F[2]=(R*Rt-me*G)*E,F[3]=T*E,F[4]=(v*lt-me*oe)*E,F[5]=(-R*lt+me*ue)*E,F[6]=f*E,F[7]=(-x*lt+Rt*oe)*E,F[8]=(G*lt-Rt*ue)*E,F):null}function S(F,ae){var lt=ae[0],Rt=ae[1],me=ae[2],ue=ae[3],G=ae[4],R=ae[5],oe=ae[6],x=ae[7],v=ae[8];return F[0]=G*v-R*x,F[1]=me*x-Rt*v,F[2]=Rt*R-me*G,F[3]=R*oe-ue*v,F[4]=lt*v-me*oe,F[5]=me*ue-lt*R,F[6]=ue*x-G*oe,F[7]=Rt*oe-lt*x,F[8]=lt*G-Rt*ue,F}function ge(F){var ae=F[0],lt=F[1],Rt=F[2],me=F[3],ue=F[4],G=F[5],R=F[6],oe=F[7],x=F[8];return ae*(x*ue-G*oe)+lt*(-x*me+G*R)+Rt*(oe*me-ue*R)}function k(F,ae,lt){var Rt=ae[0],me=ae[1],ue=ae[2],G=ae[3],R=ae[4],oe=ae[5],x=ae[6],v=ae[7],b=ae[8],T=lt[0],f=lt[1],E=lt[2],B=lt[3],p=lt[4],P=lt[5],$=lt[6],a=lt[7],c=lt[8];return F[0]=T*Rt+f*G+E*x,F[1]=T*me+f*R+E*v,F[2]=T*ue+f*oe+E*b,F[3]=B*Rt+p*G+P*x,F[4]=B*me+p*R+P*v,F[5]=B*ue+p*oe+P*b,F[6]=$*Rt+a*G+c*x,F[7]=$*me+a*R+c*v,F[8]=$*ue+a*oe+c*b,F}function A(F,ae,lt){var Rt=ae[0],me=ae[1],ue=ae[2],G=ae[3],R=ae[4],oe=ae[5],x=ae[6],v=ae[7],b=ae[8],T=lt[0],f=lt[1];return F[0]=Rt,F[1]=me,F[2]=ue,F[3]=G,F[4]=R,F[5]=oe,F[6]=T*Rt+f*G+x,F[7]=T*me+f*R+v,F[8]=T*ue+f*oe+b,F}function N(F,ae,lt){var Rt=ae[0],me=ae[1],ue=ae[2],G=ae[3],R=ae[4],oe=ae[5],x=ae[6],v=ae[7],b=ae[8],T=Math.sin(lt),f=Math.cos(lt);return F[0]=f*Rt+T*G,F[1]=f*me+T*R,F[2]=f*ue+T*oe,F[3]=f*G-T*Rt,F[4]=f*R-T*me,F[5]=f*oe-T*ue,F[6]=x,F[7]=v,F[8]=b,F}function V(F,ae,lt){var Rt=lt[0],me=lt[1];return F[0]=Rt*ae[0],F[1]=Rt*ae[1],F[2]=Rt*ae[2],F[3]=me*ae[3],F[4]=me*ae[4],F[5]=me*ae[5],F[6]=ae[6],F[7]=ae[7],F[8]=ae[8],F}function j(F,ae){return F[0]=1,F[1]=0,F[2]=0,F[3]=0,F[4]=1,F[5]=0,F[6]=ae[0],F[7]=ae[1],F[8]=1,F}function xe(F,ae){var lt=Math.sin(ae),Rt=Math.cos(ae);return F[0]=Rt,F[1]=lt,F[2]=0,F[3]=-lt,F[4]=Rt,F[5]=0,F[6]=0,F[7]=0,F[8]=1,F}function Le(F,ae){return F[0]=ae[0],F[1]=0,F[2]=0,F[3]=0,F[4]=ae[1],F[5]=0,F[6]=0,F[7]=0,F[8]=1,F}function Ge(F,ae){return F[0]=ae[0],F[1]=ae[1],F[2]=0,F[3]=ae[2],F[4]=ae[3],F[5]=0,F[6]=ae[4],F[7]=ae[5],F[8]=1,F}function je(F,ae){var lt=ae[0],Rt=ae[1],me=ae[2],ue=ae[3],G=lt+lt,R=Rt+Rt,oe=me+me,x=lt*G,v=Rt*G,b=Rt*R,T=me*G,f=me*R,E=me*oe,B=ue*G,p=ue*R,P=ue*oe;return F[0]=1-b-E,F[3]=v-P,F[6]=T+p,F[1]=v+P,F[4]=1-x-E,F[7]=f-B,F[2]=T-p,F[5]=f+B,F[8]=1-x-b,F}function ke(F,ae){var lt=ae[0],Rt=ae[1],me=ae[2],ue=ae[3],G=ae[4],R=ae[5],oe=ae[6],x=ae[7],v=ae[8],b=ae[9],T=ae[10],f=ae[11],E=ae[12],B=ae[13],p=ae[14],P=ae[15],$=lt*R-Rt*G,a=lt*oe-me*G,c=lt*x-ue*G,L=Rt*oe-me*R,J=Rt*x-ue*R,ne=me*x-ue*oe,ye=v*B-b*E,De=v*p-T*E,_e=v*P-f*E,Xe=b*p-T*B,et=b*P-f*B,it=T*P-f*p,nt=$*it-a*et+c*Xe+L*_e-J*De+ne*ye;return nt?(nt=1/nt,F[0]=(R*it-oe*et+x*Xe)*nt,F[1]=(oe*_e-G*it-x*De)*nt,F[2]=(G*et-R*_e+x*ye)*nt,F[3]=(me*et-Rt*it-ue*Xe)*nt,F[4]=(lt*it-me*_e+ue*De)*nt,F[5]=(Rt*_e-lt*et-ue*ye)*nt,F[6]=(B*ne-p*J+P*L)*nt,F[7]=(p*c-E*ne-P*a)*nt,F[8]=(E*J-B*c+P*$)*nt,F):null}function Ee(F,ae,lt){return F[0]=2/ae,F[1]=0,F[2]=0,F[3]=0,F[4]=-2/lt,F[5]=0,F[6]=-1,F[7]=1,F[8]=1,F}function ve(F){return"mat3("+F[0]+", "+F[1]+", "+F[2]+", "+F[3]+", "+F[4]+", "+F[5]+", "+F[6]+", "+F[7]+", "+F[8]+")"}function Mt(F){return Math.hypot(F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],F[8])}function St(F,ae,lt){return F[0]=ae[0]+lt[0],F[1]=ae[1]+lt[1],F[2]=ae[2]+lt[2],F[3]=ae[3]+lt[3],F[4]=ae[4]+lt[4],F[5]=ae[5]+lt[5],F[6]=ae[6]+lt[6],F[7]=ae[7]+lt[7],F[8]=ae[8]+lt[8],F}function Pt(F,ae,lt){return F[0]=ae[0]-lt[0],F[1]=ae[1]-lt[1],F[2]=ae[2]-lt[2],F[3]=ae[3]-lt[3],F[4]=ae[4]-lt[4],F[5]=ae[5]-lt[5],F[6]=ae[6]-lt[6],F[7]=ae[7]-lt[7],F[8]=ae[8]-lt[8],F}function _t(F,ae,lt){return F[0]=ae[0]*lt,F[1]=ae[1]*lt,F[2]=ae[2]*lt,F[3]=ae[3]*lt,F[4]=ae[4]*lt,F[5]=ae[5]*lt,F[6]=ae[6]*lt,F[7]=ae[7]*lt,F[8]=ae[8]*lt,F}function Zt(F,ae,lt,Rt){return F[0]=ae[0]+lt[0]*Rt,F[1]=ae[1]+lt[1]*Rt,F[2]=ae[2]+lt[2]*Rt,F[3]=ae[3]+lt[3]*Rt,F[4]=ae[4]+lt[4]*Rt,F[5]=ae[5]+lt[5]*Rt,F[6]=ae[6]+lt[6]*Rt,F[7]=ae[7]+lt[7]*Rt,F[8]=ae[8]+lt[8]*Rt,F}function Ot(F,ae){return F[0]===ae[0]&&F[1]===ae[1]&&F[2]===ae[2]&&F[3]===ae[3]&&F[4]===ae[4]&&F[5]===ae[5]&&F[6]===ae[6]&&F[7]===ae[7]&&F[8]===ae[8]}function Jt(F,ae){var lt=F[0],Rt=F[1],me=F[2],ue=F[3],G=F[4],R=F[5],oe=F[6],x=F[7],v=F[8],b=ae[0],T=ae[1],f=ae[2],E=ae[3],B=ae[4],p=ae[5],P=ae[6],$=ae[7],a=ae[8];return Math.abs(lt-b)<=glMatrix.EPSILON*Math.max(1,Math.abs(lt),Math.abs(b))&&Math.abs(Rt-T)<=glMatrix.EPSILON*Math.max(1,Math.abs(Rt),Math.abs(T))&&Math.abs(me-f)<=glMatrix.EPSILON*Math.max(1,Math.abs(me),Math.abs(f))&&Math.abs(ue-E)<=glMatrix.EPSILON*Math.max(1,Math.abs(ue),Math.abs(E))&&Math.abs(G-B)<=glMatrix.EPSILON*Math.max(1,Math.abs(G),Math.abs(B))&&Math.abs(R-p)<=glMatrix.EPSILON*Math.max(1,Math.abs(R),Math.abs(p))&&Math.abs(oe-P)<=glMatrix.EPSILON*Math.max(1,Math.abs(oe),Math.abs(P))&&Math.abs(x-$)<=glMatrix.EPSILON*Math.max(1,Math.abs(x),Math.abs($))&&Math.abs(v-a)<=glMatrix.EPSILON*Math.max(1,Math.abs(v),Math.abs(a))}var $t=null,Qt=null},39536:function(Ft,qe,y){"use strict";y.r(qe),y.d(qe,{add:function(){return b},adjoint:function(){return Z},clone:function(){return H},copy:function(){return q},create:function(){return U},determinant:function(){return S},equals:function(){return p},exactEquals:function(){return B},frob:function(){return v},fromQuat:function(){return $t},fromQuat2:function(){return St},fromRotation:function(){return je},fromRotationTranslation:function(){return Mt},fromRotationTranslationScale:function(){return Ot},fromRotationTranslationScaleOrigin:function(){return Jt},fromScaling:function(){return Ge},fromTranslation:function(){return Le},fromValues:function(){return C},fromXRotation:function(){return ke},fromYRotation:function(){return Ee},fromZRotation:function(){return ve},frustum:function(){return Qt},getRotation:function(){return Zt},getScaling:function(){return _t},getTranslation:function(){return Pt},identity:function(){return X},invert:function(){return m},lookAt:function(){return R},mul:function(){return P},multiply:function(){return ge},multiplyScalar:function(){return f},multiplyScalarAndAdd:function(){return E},ortho:function(){return ue},orthoNO:function(){return me},orthoZO:function(){return G},perspective:function(){return ae},perspectiveFromFieldOfView:function(){return Rt},perspectiveNO:function(){return F},perspectiveZO:function(){return lt},rotate:function(){return N},rotateX:function(){return V},rotateY:function(){return j},rotateZ:function(){return xe},scale:function(){return A},set:function(){return ee},str:function(){return x},sub:function(){return $},subtract:function(){return T},targetTo:function(){return oe},translate:function(){return k},transpose:function(){return de}});var u=y(31767);function U(){var a=new u.WT(16);return u.WT!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a}function H(a){var c=new u.WT(16);return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c}function q(a,c){return a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15],a}function C(a,c,L,J,ne,ye,De,_e,Xe,et,it,nt,ie,ce,be,Me){var le=new u.WT(16);return le[0]=a,le[1]=c,le[2]=L,le[3]=J,le[4]=ne,le[5]=ye,le[6]=De,le[7]=_e,le[8]=Xe,le[9]=et,le[10]=it,le[11]=nt,le[12]=ie,le[13]=ce,le[14]=be,le[15]=Me,le}function ee(a,c,L,J,ne,ye,De,_e,Xe,et,it,nt,ie,ce,be,Me,le){return a[0]=c,a[1]=L,a[2]=J,a[3]=ne,a[4]=ye,a[5]=De,a[6]=_e,a[7]=Xe,a[8]=et,a[9]=it,a[10]=nt,a[11]=ie,a[12]=ce,a[13]=be,a[14]=Me,a[15]=le,a}function X(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function de(a,c){if(a===c){var L=c[1],J=c[2],ne=c[3],ye=c[6],De=c[7],_e=c[11];a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=L,a[6]=c[9],a[7]=c[13],a[8]=J,a[9]=ye,a[11]=c[14],a[12]=ne,a[13]=De,a[14]=_e}else a[0]=c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a}function m(a,c){var L=c[0],J=c[1],ne=c[2],ye=c[3],De=c[4],_e=c[5],Xe=c[6],et=c[7],it=c[8],nt=c[9],ie=c[10],ce=c[11],be=c[12],Me=c[13],le=c[14],Ze=c[15],ht=L*_e-J*De,ft=L*Xe-ne*De,dt=L*et-ye*De,ct=J*Xe-ne*_e,Nt=J*et-ye*_e,Bt=ne*et-ye*Xe,en=it*Me-nt*be,tn=it*le-ie*be,an=it*Ze-ce*be,Ht=nt*le-ie*Me,pn=nt*Ze-ce*Me,mn=ie*Ze-ce*le,ln=ht*mn-ft*pn+dt*Ht+ct*an-Nt*tn+Bt*en;return ln?(ln=1/ln,a[0]=(_e*mn-Xe*pn+et*Ht)*ln,a[1]=(ne*pn-J*mn-ye*Ht)*ln,a[2]=(Me*Bt-le*Nt+Ze*ct)*ln,a[3]=(ie*Nt-nt*Bt-ce*ct)*ln,a[4]=(Xe*an-De*mn-et*tn)*ln,a[5]=(L*mn-ne*an+ye*tn)*ln,a[6]=(le*dt-be*Bt-Ze*ft)*ln,a[7]=(it*Bt-ie*dt+ce*ft)*ln,a[8]=(De*pn-_e*an+et*en)*ln,a[9]=(J*an-L*pn-ye*en)*ln,a[10]=(be*Nt-Me*dt+Ze*ht)*ln,a[11]=(nt*dt-it*Nt-ce*ht)*ln,a[12]=(_e*tn-De*Ht-Xe*en)*ln,a[13]=(L*Ht-J*tn+ne*en)*ln,a[14]=(Me*ft-be*ct-le*ht)*ln,a[15]=(it*ct-nt*ft+ie*ht)*ln,a):null}function Z(a,c){var L=c[0],J=c[1],ne=c[2],ye=c[3],De=c[4],_e=c[5],Xe=c[6],et=c[7],it=c[8],nt=c[9],ie=c[10],ce=c[11],be=c[12],Me=c[13],le=c[14],Ze=c[15];return a[0]=_e*(ie*Ze-ce*le)-nt*(Xe*Ze-et*le)+Me*(Xe*ce-et*ie),a[1]=-(J*(ie*Ze-ce*le)-nt*(ne*Ze-ye*le)+Me*(ne*ce-ye*ie)),a[2]=J*(Xe*Ze-et*le)-_e*(ne*Ze-ye*le)+Me*(ne*et-ye*Xe),a[3]=-(J*(Xe*ce-et*ie)-_e*(ne*ce-ye*ie)+nt*(ne*et-ye*Xe)),a[4]=-(De*(ie*Ze-ce*le)-it*(Xe*Ze-et*le)+be*(Xe*ce-et*ie)),a[5]=L*(ie*Ze-ce*le)-it*(ne*Ze-ye*le)+be*(ne*ce-ye*ie),a[6]=-(L*(Xe*Ze-et*le)-De*(ne*Ze-ye*le)+be*(ne*et-ye*Xe)),a[7]=L*(Xe*ce-et*ie)-De*(ne*ce-ye*ie)+it*(ne*et-ye*Xe),a[8]=De*(nt*Ze-ce*Me)-it*(_e*Ze-et*Me)+be*(_e*ce-et*nt),a[9]=-(L*(nt*Ze-ce*Me)-it*(J*Ze-ye*Me)+be*(J*ce-ye*nt)),a[10]=L*(_e*Ze-et*Me)-De*(J*Ze-ye*Me)+be*(J*et-ye*_e),a[11]=-(L*(_e*ce-et*nt)-De*(J*ce-ye*nt)+it*(J*et-ye*_e)),a[12]=-(De*(nt*le-ie*Me)-it*(_e*le-Xe*Me)+be*(_e*ie-Xe*nt)),a[13]=L*(nt*le-ie*Me)-it*(J*le-ne*Me)+be*(J*ie-ne*nt),a[14]=-(L*(_e*le-Xe*Me)-De*(J*le-ne*Me)+be*(J*Xe-ne*_e)),a[15]=L*(_e*ie-Xe*nt)-De*(J*ie-ne*nt)+it*(J*Xe-ne*_e),a}function S(a){var c=a[0],L=a[1],J=a[2],ne=a[3],ye=a[4],De=a[5],_e=a[6],Xe=a[7],et=a[8],it=a[9],nt=a[10],ie=a[11],ce=a[12],be=a[13],Me=a[14],le=a[15],Ze=c*De-L*ye,ht=c*_e-J*ye,ft=c*Xe-ne*ye,dt=L*_e-J*De,ct=L*Xe-ne*De,Nt=J*Xe-ne*_e,Bt=et*be-it*ce,en=et*Me-nt*ce,tn=et*le-ie*ce,an=it*Me-nt*be,Ht=it*le-ie*be,pn=nt*le-ie*Me;return Ze*pn-ht*Ht+ft*an+dt*tn-ct*en+Nt*Bt}function ge(a,c,L){var J=c[0],ne=c[1],ye=c[2],De=c[3],_e=c[4],Xe=c[5],et=c[6],it=c[7],nt=c[8],ie=c[9],ce=c[10],be=c[11],Me=c[12],le=c[13],Ze=c[14],ht=c[15],ft=L[0],dt=L[1],ct=L[2],Nt=L[3];return a[0]=ft*J+dt*_e+ct*nt+Nt*Me,a[1]=ft*ne+dt*Xe+ct*ie+Nt*le,a[2]=ft*ye+dt*et+ct*ce+Nt*Ze,a[3]=ft*De+dt*it+ct*be+Nt*ht,ft=L[4],dt=L[5],ct=L[6],Nt=L[7],a[4]=ft*J+dt*_e+ct*nt+Nt*Me,a[5]=ft*ne+dt*Xe+ct*ie+Nt*le,a[6]=ft*ye+dt*et+ct*ce+Nt*Ze,a[7]=ft*De+dt*it+ct*be+Nt*ht,ft=L[8],dt=L[9],ct=L[10],Nt=L[11],a[8]=ft*J+dt*_e+ct*nt+Nt*Me,a[9]=ft*ne+dt*Xe+ct*ie+Nt*le,a[10]=ft*ye+dt*et+ct*ce+Nt*Ze,a[11]=ft*De+dt*it+ct*be+Nt*ht,ft=L[12],dt=L[13],ct=L[14],Nt=L[15],a[12]=ft*J+dt*_e+ct*nt+Nt*Me,a[13]=ft*ne+dt*Xe+ct*ie+Nt*le,a[14]=ft*ye+dt*et+ct*ce+Nt*Ze,a[15]=ft*De+dt*it+ct*be+Nt*ht,a}function k(a,c,L){var J=L[0],ne=L[1],ye=L[2],De,_e,Xe,et,it,nt,ie,ce,be,Me,le,Ze;return c===a?(a[12]=c[0]*J+c[4]*ne+c[8]*ye+c[12],a[13]=c[1]*J+c[5]*ne+c[9]*ye+c[13],a[14]=c[2]*J+c[6]*ne+c[10]*ye+c[14],a[15]=c[3]*J+c[7]*ne+c[11]*ye+c[15]):(De=c[0],_e=c[1],Xe=c[2],et=c[3],it=c[4],nt=c[5],ie=c[6],ce=c[7],be=c[8],Me=c[9],le=c[10],Ze=c[11],a[0]=De,a[1]=_e,a[2]=Xe,a[3]=et,a[4]=it,a[5]=nt,a[6]=ie,a[7]=ce,a[8]=be,a[9]=Me,a[10]=le,a[11]=Ze,a[12]=De*J+it*ne+be*ye+c[12],a[13]=_e*J+nt*ne+Me*ye+c[13],a[14]=Xe*J+ie*ne+le*ye+c[14],a[15]=et*J+ce*ne+Ze*ye+c[15]),a}function A(a,c,L){var J=L[0],ne=L[1],ye=L[2];return a[0]=c[0]*J,a[1]=c[1]*J,a[2]=c[2]*J,a[3]=c[3]*J,a[4]=c[4]*ne,a[5]=c[5]*ne,a[6]=c[6]*ne,a[7]=c[7]*ne,a[8]=c[8]*ye,a[9]=c[9]*ye,a[10]=c[10]*ye,a[11]=c[11]*ye,a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15],a}function N(a,c,L,J){var ne=J[0],ye=J[1],De=J[2],_e=Math.hypot(ne,ye,De),Xe,et,it,nt,ie,ce,be,Me,le,Ze,ht,ft,dt,ct,Nt,Bt,en,tn,an,Ht,pn,mn,ln,yn;return _e<u.Ib?null:(_e=1/_e,ne*=_e,ye*=_e,De*=_e,Xe=Math.sin(L),et=Math.cos(L),it=1-et,nt=c[0],ie=c[1],ce=c[2],be=c[3],Me=c[4],le=c[5],Ze=c[6],ht=c[7],ft=c[8],dt=c[9],ct=c[10],Nt=c[11],Bt=ne*ne*it+et,en=ye*ne*it+De*Xe,tn=De*ne*it-ye*Xe,an=ne*ye*it-De*Xe,Ht=ye*ye*it+et,pn=De*ye*it+ne*Xe,mn=ne*De*it+ye*Xe,ln=ye*De*it-ne*Xe,yn=De*De*it+et,a[0]=nt*Bt+Me*en+ft*tn,a[1]=ie*Bt+le*en+dt*tn,a[2]=ce*Bt+Ze*en+ct*tn,a[3]=be*Bt+ht*en+Nt*tn,a[4]=nt*an+Me*Ht+ft*pn,a[5]=ie*an+le*Ht+dt*pn,a[6]=ce*an+Ze*Ht+ct*pn,a[7]=be*an+ht*Ht+Nt*pn,a[8]=nt*mn+Me*ln+ft*yn,a[9]=ie*mn+le*ln+dt*yn,a[10]=ce*mn+Ze*ln+ct*yn,a[11]=be*mn+ht*ln+Nt*yn,c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a)}function V(a,c,L){var J=Math.sin(L),ne=Math.cos(L),ye=c[4],De=c[5],_e=c[6],Xe=c[7],et=c[8],it=c[9],nt=c[10],ie=c[11];return c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a[4]=ye*ne+et*J,a[5]=De*ne+it*J,a[6]=_e*ne+nt*J,a[7]=Xe*ne+ie*J,a[8]=et*ne-ye*J,a[9]=it*ne-De*J,a[10]=nt*ne-_e*J,a[11]=ie*ne-Xe*J,a}function j(a,c,L){var J=Math.sin(L),ne=Math.cos(L),ye=c[0],De=c[1],_e=c[2],Xe=c[3],et=c[8],it=c[9],nt=c[10],ie=c[11];return c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a[0]=ye*ne-et*J,a[1]=De*ne-it*J,a[2]=_e*ne-nt*J,a[3]=Xe*ne-ie*J,a[8]=ye*J+et*ne,a[9]=De*J+it*ne,a[10]=_e*J+nt*ne,a[11]=Xe*J+ie*ne,a}function xe(a,c,L){var J=Math.sin(L),ne=Math.cos(L),ye=c[0],De=c[1],_e=c[2],Xe=c[3],et=c[4],it=c[5],nt=c[6],ie=c[7];return c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a[0]=ye*ne+et*J,a[1]=De*ne+it*J,a[2]=_e*ne+nt*J,a[3]=Xe*ne+ie*J,a[4]=et*ne-ye*J,a[5]=it*ne-De*J,a[6]=nt*ne-_e*J,a[7]=ie*ne-Xe*J,a}function Le(a,c){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a}function Ge(a,c){return a[0]=c[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=c[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=c[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function je(a,c,L){var J=L[0],ne=L[1],ye=L[2],De=Math.hypot(J,ne,ye),_e,Xe,et;return De<u.Ib?null:(De=1/De,J*=De,ne*=De,ye*=De,_e=Math.sin(c),Xe=Math.cos(c),et=1-Xe,a[0]=J*J*et+Xe,a[1]=ne*J*et+ye*_e,a[2]=ye*J*et-ne*_e,a[3]=0,a[4]=J*ne*et-ye*_e,a[5]=ne*ne*et+Xe,a[6]=ye*ne*et+J*_e,a[7]=0,a[8]=J*ye*et+ne*_e,a[9]=ne*ye*et-J*_e,a[10]=ye*ye*et+Xe,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}function ke(a,c){var L=Math.sin(c),J=Math.cos(c);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=J,a[6]=L,a[7]=0,a[8]=0,a[9]=-L,a[10]=J,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Ee(a,c){var L=Math.sin(c),J=Math.cos(c);return a[0]=J,a[1]=0,a[2]=-L,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=L,a[9]=0,a[10]=J,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function ve(a,c){var L=Math.sin(c),J=Math.cos(c);return a[0]=J,a[1]=L,a[2]=0,a[3]=0,a[4]=-L,a[5]=J,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Mt(a,c,L){var J=c[0],ne=c[1],ye=c[2],De=c[3],_e=J+J,Xe=ne+ne,et=ye+ye,it=J*_e,nt=J*Xe,ie=J*et,ce=ne*Xe,be=ne*et,Me=ye*et,le=De*_e,Ze=De*Xe,ht=De*et;return a[0]=1-(ce+Me),a[1]=nt+ht,a[2]=ie-Ze,a[3]=0,a[4]=nt-ht,a[5]=1-(it+Me),a[6]=be+le,a[7]=0,a[8]=ie+Ze,a[9]=be-le,a[10]=1-(it+ce),a[11]=0,a[12]=L[0],a[13]=L[1],a[14]=L[2],a[15]=1,a}function St(a,c){var L=new u.WT(3),J=-c[0],ne=-c[1],ye=-c[2],De=c[3],_e=c[4],Xe=c[5],et=c[6],it=c[7],nt=J*J+ne*ne+ye*ye+De*De;return nt>0?(L[0]=(_e*De+it*J+Xe*ye-et*ne)*2/nt,L[1]=(Xe*De+it*ne+et*J-_e*ye)*2/nt,L[2]=(et*De+it*ye+_e*ne-Xe*J)*2/nt):(L[0]=(_e*De+it*J+Xe*ye-et*ne)*2,L[1]=(Xe*De+it*ne+et*J-_e*ye)*2,L[2]=(et*De+it*ye+_e*ne-Xe*J)*2),Mt(a,c,L),a}function Pt(a,c){return a[0]=c[12],a[1]=c[13],a[2]=c[14],a}function _t(a,c){var L=c[0],J=c[1],ne=c[2],ye=c[4],De=c[5],_e=c[6],Xe=c[8],et=c[9],it=c[10];return a[0]=Math.hypot(L,J,ne),a[1]=Math.hypot(ye,De,_e),a[2]=Math.hypot(Xe,et,it),a}function Zt(a,c){var L=new u.WT(3);_t(L,c);var J=1/L[0],ne=1/L[1],ye=1/L[2],De=c[0]*J,_e=c[1]*ne,Xe=c[2]*ye,et=c[4]*J,it=c[5]*ne,nt=c[6]*ye,ie=c[8]*J,ce=c[9]*ne,be=c[10]*ye,Me=De+it+be,le=0;return Me>0?(le=Math.sqrt(Me+1)*2,a[3]=.25*le,a[0]=(nt-ce)/le,a[1]=(ie-Xe)/le,a[2]=(_e-et)/le):De>it&&De>be?(le=Math.sqrt(1+De-it-be)*2,a[3]=(nt-ce)/le,a[0]=.25*le,a[1]=(_e+et)/le,a[2]=(ie+Xe)/le):it>be?(le=Math.sqrt(1+it-De-be)*2,a[3]=(ie-Xe)/le,a[0]=(_e+et)/le,a[1]=.25*le,a[2]=(nt+ce)/le):(le=Math.sqrt(1+be-De-it)*2,a[3]=(_e-et)/le,a[0]=(ie+Xe)/le,a[1]=(nt+ce)/le,a[2]=.25*le),a}function Ot(a,c,L,J){var ne=c[0],ye=c[1],De=c[2],_e=c[3],Xe=ne+ne,et=ye+ye,it=De+De,nt=ne*Xe,ie=ne*et,ce=ne*it,be=ye*et,Me=ye*it,le=De*it,Ze=_e*Xe,ht=_e*et,ft=_e*it,dt=J[0],ct=J[1],Nt=J[2];return a[0]=(1-(be+le))*dt,a[1]=(ie+ft)*dt,a[2]=(ce-ht)*dt,a[3]=0,a[4]=(ie-ft)*ct,a[5]=(1-(nt+le))*ct,a[6]=(Me+Ze)*ct,a[7]=0,a[8]=(ce+ht)*Nt,a[9]=(Me-Ze)*Nt,a[10]=(1-(nt+be))*Nt,a[11]=0,a[12]=L[0],a[13]=L[1],a[14]=L[2],a[15]=1,a}function Jt(a,c,L,J,ne){var ye=c[0],De=c[1],_e=c[2],Xe=c[3],et=ye+ye,it=De+De,nt=_e+_e,ie=ye*et,ce=ye*it,be=ye*nt,Me=De*it,le=De*nt,Ze=_e*nt,ht=Xe*et,ft=Xe*it,dt=Xe*nt,ct=J[0],Nt=J[1],Bt=J[2],en=ne[0],tn=ne[1],an=ne[2],Ht=(1-(Me+Ze))*ct,pn=(ce+dt)*ct,mn=(be-ft)*ct,ln=(ce-dt)*Nt,yn=(1-(ie+Ze))*Nt,xn=(le+ht)*Nt,En=(be+ft)*Bt,bn=(le-ht)*Bt,wn=(1-(ie+Me))*Bt;return a[0]=Ht,a[1]=pn,a[2]=mn,a[3]=0,a[4]=ln,a[5]=yn,a[6]=xn,a[7]=0,a[8]=En,a[9]=bn,a[10]=wn,a[11]=0,a[12]=L[0]+en-(Ht*en+ln*tn+En*an),a[13]=L[1]+tn-(pn*en+yn*tn+bn*an),a[14]=L[2]+an-(mn*en+xn*tn+wn*an),a[15]=1,a}function $t(a,c){var L=c[0],J=c[1],ne=c[2],ye=c[3],De=L+L,_e=J+J,Xe=ne+ne,et=L*De,it=J*De,nt=J*_e,ie=ne*De,ce=ne*_e,be=ne*Xe,Me=ye*De,le=ye*_e,Ze=ye*Xe;return a[0]=1-nt-be,a[1]=it+Ze,a[2]=ie-le,a[3]=0,a[4]=it-Ze,a[5]=1-et-be,a[6]=ce+Me,a[7]=0,a[8]=ie+le,a[9]=ce-Me,a[10]=1-et-nt,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Qt(a,c,L,J,ne,ye,De){var _e=1/(L-c),Xe=1/(ne-J),et=1/(ye-De);return a[0]=ye*2*_e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=ye*2*Xe,a[6]=0,a[7]=0,a[8]=(L+c)*_e,a[9]=(ne+J)*Xe,a[10]=(De+ye)*et,a[11]=-1,a[12]=0,a[13]=0,a[14]=De*ye*2*et,a[15]=0,a}function F(a,c,L,J,ne){var ye=1/Math.tan(c/2),De;return a[0]=ye/L,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=ye,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,ne!=null&&ne!==1/0?(De=1/(J-ne),a[10]=(ne+J)*De,a[14]=2*ne*J*De):(a[10]=-1,a[14]=-2*J),a}var ae=F;function lt(a,c,L,J,ne){var ye=1/Math.tan(c/2),De;return a[0]=ye/L,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=ye,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,ne!=null&&ne!==1/0?(De=1/(J-ne),a[10]=ne*De,a[14]=ne*J*De):(a[10]=-1,a[14]=-J),a}function Rt(a,c,L,J){var ne=Math.tan(c.upDegrees*Math.PI/180),ye=Math.tan(c.downDegrees*Math.PI/180),De=Math.tan(c.leftDegrees*Math.PI/180),_e=Math.tan(c.rightDegrees*Math.PI/180),Xe=2/(De+_e),et=2/(ne+ye);return a[0]=Xe,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=et,a[6]=0,a[7]=0,a[8]=-((De-_e)*Xe*.5),a[9]=(ne-ye)*et*.5,a[10]=J/(L-J),a[11]=-1,a[12]=0,a[13]=0,a[14]=J*L/(L-J),a[15]=0,a}function me(a,c,L,J,ne,ye,De){var _e=1/(c-L),Xe=1/(J-ne),et=1/(ye-De);return a[0]=-2*_e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*Xe,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*et,a[11]=0,a[12]=(c+L)*_e,a[13]=(ne+J)*Xe,a[14]=(De+ye)*et,a[15]=1,a}var ue=me;function G(a,c,L,J,ne,ye,De){var _e=1/(c-L),Xe=1/(J-ne),et=1/(ye-De);return a[0]=-2*_e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*Xe,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=et,a[11]=0,a[12]=(c+L)*_e,a[13]=(ne+J)*Xe,a[14]=ye*et,a[15]=1,a}function R(a,c,L,J){var ne,ye,De,_e,Xe,et,it,nt,ie,ce,be=c[0],Me=c[1],le=c[2],Ze=J[0],ht=J[1],ft=J[2],dt=L[0],ct=L[1],Nt=L[2];return Math.abs(be-dt)<u.Ib&&Math.abs(Me-ct)<u.Ib&&Math.abs(le-Nt)<u.Ib?X(a):(it=be-dt,nt=Me-ct,ie=le-Nt,ce=1/Math.hypot(it,nt,ie),it*=ce,nt*=ce,ie*=ce,ne=ht*ie-ft*nt,ye=ft*it-Ze*ie,De=Ze*nt-ht*it,ce=Math.hypot(ne,ye,De),ce?(ce=1/ce,ne*=ce,ye*=ce,De*=ce):(ne=0,ye=0,De=0),_e=nt*De-ie*ye,Xe=ie*ne-it*De,et=it*ye-nt*ne,ce=Math.hypot(_e,Xe,et),ce?(ce=1/ce,_e*=ce,Xe*=ce,et*=ce):(_e=0,Xe=0,et=0),a[0]=ne,a[1]=_e,a[2]=it,a[3]=0,a[4]=ye,a[5]=Xe,a[6]=nt,a[7]=0,a[8]=De,a[9]=et,a[10]=ie,a[11]=0,a[12]=-(ne*be+ye*Me+De*le),a[13]=-(_e*be+Xe*Me+et*le),a[14]=-(it*be+nt*Me+ie*le),a[15]=1,a)}function oe(a,c,L,J){var ne=c[0],ye=c[1],De=c[2],_e=J[0],Xe=J[1],et=J[2],it=ne-L[0],nt=ye-L[1],ie=De-L[2],ce=it*it+nt*nt+ie*ie;ce>0&&(ce=1/Math.sqrt(ce),it*=ce,nt*=ce,ie*=ce);var be=Xe*ie-et*nt,Me=et*it-_e*ie,le=_e*nt-Xe*it;return ce=be*be+Me*Me+le*le,ce>0&&(ce=1/Math.sqrt(ce),be*=ce,Me*=ce,le*=ce),a[0]=be,a[1]=Me,a[2]=le,a[3]=0,a[4]=nt*le-ie*Me,a[5]=ie*be-it*le,a[6]=it*Me-nt*be,a[7]=0,a[8]=it,a[9]=nt,a[10]=ie,a[11]=0,a[12]=ne,a[13]=ye,a[14]=De,a[15]=1,a}function x(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function v(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}function b(a,c,L){return a[0]=c[0]+L[0],a[1]=c[1]+L[1],a[2]=c[2]+L[2],a[3]=c[3]+L[3],a[4]=c[4]+L[4],a[5]=c[5]+L[5],a[6]=c[6]+L[6],a[7]=c[7]+L[7],a[8]=c[8]+L[8],a[9]=c[9]+L[9],a[10]=c[10]+L[10],a[11]=c[11]+L[11],a[12]=c[12]+L[12],a[13]=c[13]+L[13],a[14]=c[14]+L[14],a[15]=c[15]+L[15],a}function T(a,c,L){return a[0]=c[0]-L[0],a[1]=c[1]-L[1],a[2]=c[2]-L[2],a[3]=c[3]-L[3],a[4]=c[4]-L[4],a[5]=c[5]-L[5],a[6]=c[6]-L[6],a[7]=c[7]-L[7],a[8]=c[8]-L[8],a[9]=c[9]-L[9],a[10]=c[10]-L[10],a[11]=c[11]-L[11],a[12]=c[12]-L[12],a[13]=c[13]-L[13],a[14]=c[14]-L[14],a[15]=c[15]-L[15],a}function f(a,c,L){return a[0]=c[0]*L,a[1]=c[1]*L,a[2]=c[2]*L,a[3]=c[3]*L,a[4]=c[4]*L,a[5]=c[5]*L,a[6]=c[6]*L,a[7]=c[7]*L,a[8]=c[8]*L,a[9]=c[9]*L,a[10]=c[10]*L,a[11]=c[11]*L,a[12]=c[12]*L,a[13]=c[13]*L,a[14]=c[14]*L,a[15]=c[15]*L,a}function E(a,c,L,J){return a[0]=c[0]+L[0]*J,a[1]=c[1]+L[1]*J,a[2]=c[2]+L[2]*J,a[3]=c[3]+L[3]*J,a[4]=c[4]+L[4]*J,a[5]=c[5]+L[5]*J,a[6]=c[6]+L[6]*J,a[7]=c[7]+L[7]*J,a[8]=c[8]+L[8]*J,a[9]=c[9]+L[9]*J,a[10]=c[10]+L[10]*J,a[11]=c[11]+L[11]*J,a[12]=c[12]+L[12]*J,a[13]=c[13]+L[13]*J,a[14]=c[14]+L[14]*J,a[15]=c[15]+L[15]*J,a}function B(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]}function p(a,c){var L=a[0],J=a[1],ne=a[2],ye=a[3],De=a[4],_e=a[5],Xe=a[6],et=a[7],it=a[8],nt=a[9],ie=a[10],ce=a[11],be=a[12],Me=a[13],le=a[14],Ze=a[15],ht=c[0],ft=c[1],dt=c[2],ct=c[3],Nt=c[4],Bt=c[5],en=c[6],tn=c[7],an=c[8],Ht=c[9],pn=c[10],mn=c[11],ln=c[12],yn=c[13],xn=c[14],En=c[15];return Math.abs(L-ht)<=u.Ib*Math.max(1,Math.abs(L),Math.abs(ht))&&Math.abs(J-ft)<=u.Ib*Math.max(1,Math.abs(J),Math.abs(ft))&&Math.abs(ne-dt)<=u.Ib*Math.max(1,Math.abs(ne),Math.abs(dt))&&Math.abs(ye-ct)<=u.Ib*Math.max(1,Math.abs(ye),Math.abs(ct))&&Math.abs(De-Nt)<=u.Ib*Math.max(1,Math.abs(De),Math.abs(Nt))&&Math.abs(_e-Bt)<=u.Ib*Math.max(1,Math.abs(_e),Math.abs(Bt))&&Math.abs(Xe-en)<=u.Ib*Math.max(1,Math.abs(Xe),Math.abs(en))&&Math.abs(et-tn)<=u.Ib*Math.max(1,Math.abs(et),Math.abs(tn))&&Math.abs(it-an)<=u.Ib*Math.max(1,Math.abs(it),Math.abs(an))&&Math.abs(nt-Ht)<=u.Ib*Math.max(1,Math.abs(nt),Math.abs(Ht))&&Math.abs(ie-pn)<=u.Ib*Math.max(1,Math.abs(ie),Math.abs(pn))&&Math.abs(ce-mn)<=u.Ib*Math.max(1,Math.abs(ce),Math.abs(mn))&&Math.abs(be-ln)<=u.Ib*Math.max(1,Math.abs(be),Math.abs(ln))&&Math.abs(Me-yn)<=u.Ib*Math.max(1,Math.abs(Me),Math.abs(yn))&&Math.abs(le-xn)<=u.Ib*Math.max(1,Math.abs(le),Math.abs(xn))&&Math.abs(Ze-En)<=u.Ib*Math.max(1,Math.abs(Ze),Math.abs(En))}var P=ge,$=T},26588:function(Ft,qe,y){"use strict";y.d(qe,{Fv:function(){return me},JG:function(){return Pt},Jp:function(){return Z},Su:function(){return Ee},U_:function(){return Ge},Ue:function(){return C},al:function(){return St},dC:function(){return Ot},t8:function(){return _t},yY:function(){return X}});var u=y(31767),U=y(73485),H=y(54442),q=y(49953);function C(){var v=new u.WT(4);return u.WT!=Float32Array&&(v[0]=0,v[1]=0,v[2]=0),v[3]=1,v}function ee(v){return v[0]=0,v[1]=0,v[2]=0,v[3]=1,v}function X(v,b,T){T=T*.5;var f=Math.sin(T);return v[0]=f*b[0],v[1]=f*b[1],v[2]=f*b[2],v[3]=Math.cos(T),v}function de(v,b){var T=Math.acos(b[3])*2,f=Math.sin(T/2);return f>glMatrix.EPSILON?(v[0]=b[0]/f,v[1]=b[1]/f,v[2]=b[2]/f):(v[0]=1,v[1]=0,v[2]=0),T}function m(v,b){var T=$t(v,b);return Math.acos(2*T*T-1)}function Z(v,b,T){var f=b[0],E=b[1],B=b[2],p=b[3],P=T[0],$=T[1],a=T[2],c=T[3];return v[0]=f*c+p*P+E*a-B*$,v[1]=E*c+p*$+B*P-f*a,v[2]=B*c+p*a+f*$-E*P,v[3]=p*c-f*P-E*$-B*a,v}function S(v,b,T){T*=.5;var f=b[0],E=b[1],B=b[2],p=b[3],P=Math.sin(T),$=Math.cos(T);return v[0]=f*$+p*P,v[1]=E*$+B*P,v[2]=B*$-E*P,v[3]=p*$-f*P,v}function ge(v,b,T){T*=.5;var f=b[0],E=b[1],B=b[2],p=b[3],P=Math.sin(T),$=Math.cos(T);return v[0]=f*$-B*P,v[1]=E*$+p*P,v[2]=B*$+f*P,v[3]=p*$-E*P,v}function k(v,b,T){T*=.5;var f=b[0],E=b[1],B=b[2],p=b[3],P=Math.sin(T),$=Math.cos(T);return v[0]=f*$+E*P,v[1]=E*$-f*P,v[2]=B*$+p*P,v[3]=p*$-B*P,v}function A(v,b){var T=b[0],f=b[1],E=b[2];return v[0]=T,v[1]=f,v[2]=E,v[3]=Math.sqrt(Math.abs(1-T*T-f*f-E*E)),v}function N(v,b){var T=b[0],f=b[1],E=b[2],B=b[3],p=Math.sqrt(T*T+f*f+E*E),P=Math.exp(B),$=p>0?P*Math.sin(p)/p:0;return v[0]=T*$,v[1]=f*$,v[2]=E*$,v[3]=P*Math.cos(p),v}function V(v,b){var T=b[0],f=b[1],E=b[2],B=b[3],p=Math.sqrt(T*T+f*f+E*E),P=p>0?Math.atan2(p,B)/p:0;return v[0]=T*P,v[1]=f*P,v[2]=E*P,v[3]=.5*Math.log(T*T+f*f+E*E+B*B),v}function j(v,b,T){return V(v,b),Jt(v,v,T),N(v,v),v}function xe(v,b,T,f){var E=b[0],B=b[1],p=b[2],P=b[3],$=T[0],a=T[1],c=T[2],L=T[3],J,ne,ye,De,_e;return ne=E*$+B*a+p*c+P*L,ne<0&&(ne=-ne,$=-$,a=-a,c=-c,L=-L),1-ne>u.Ib?(J=Math.acos(ne),ye=Math.sin(J),De=Math.sin((1-f)*J)/ye,_e=Math.sin(f*J)/ye):(De=1-f,_e=f),v[0]=De*E+_e*$,v[1]=De*B+_e*a,v[2]=De*p+_e*c,v[3]=De*P+_e*L,v}function Le(v){var b=glMatrix.RANDOM(),T=glMatrix.RANDOM(),f=glMatrix.RANDOM(),E=Math.sqrt(1-b),B=Math.sqrt(b);return v[0]=E*Math.sin(2*Math.PI*T),v[1]=E*Math.cos(2*Math.PI*T),v[2]=B*Math.sin(2*Math.PI*f),v[3]=B*Math.cos(2*Math.PI*f),v}function Ge(v,b){var T=b[0],f=b[1],E=b[2],B=b[3],p=T*T+f*f+E*E+B*B,P=p?1/p:0;return v[0]=-T*P,v[1]=-f*P,v[2]=-E*P,v[3]=B*P,v}function je(v,b){return v[0]=-b[0],v[1]=-b[1],v[2]=-b[2],v[3]=b[3],v}function ke(v,b){var T=b[0]+b[4]+b[8],f;if(T>0)f=Math.sqrt(T+1),v[3]=.5*f,f=.5/f,v[0]=(b[5]-b[7])*f,v[1]=(b[6]-b[2])*f,v[2]=(b[1]-b[3])*f;else{var E=0;b[4]>b[0]&&(E=1),b[8]>b[E*3+E]&&(E=2);var B=(E+1)%3,p=(E+2)%3;f=Math.sqrt(b[E*3+E]-b[B*3+B]-b[p*3+p]+1),v[E]=.5*f,f=.5/f,v[3]=(b[B*3+p]-b[p*3+B])*f,v[B]=(b[B*3+E]+b[E*3+B])*f,v[p]=(b[p*3+E]+b[E*3+p])*f}return v}function Ee(v,b,T,f){var E=.5*Math.PI/180;b*=E,T*=E,f*=E;var B=Math.sin(b),p=Math.cos(b),P=Math.sin(T),$=Math.cos(T),a=Math.sin(f),c=Math.cos(f);return v[0]=B*$*c-p*P*a,v[1]=p*P*c+B*$*a,v[2]=p*$*a-B*P*c,v[3]=p*$*c+B*P*a,v}function ve(v){return"quat("+v[0]+", "+v[1]+", "+v[2]+", "+v[3]+")"}var Mt=q.d9,St=q.al,Pt=q.JG,_t=q.t8,Zt=q.IH,Ot=Z,Jt=q.bA,$t=q.AK,Qt=q.t7,F=q.kE,ae=null,lt=q.we,Rt=null,me=q.Fv,ue=q.I6,G=q.fS,R=function(){var v=H.Ue(),b=H.al(1,0,0),T=H.al(0,1,0);return function(f,E,B){var p=H.AK(E,B);return p<-.999999?(H.kC(v,b,E),H.Zh(v)<1e-6&&H.kC(v,T,E),H.Fv(v,v),X(f,v,Math.PI),f):p>.999999?(f[0]=0,f[1]=0,f[2]=0,f[3]=1,f):(H.kC(v,E,B),f[0]=v[0],f[1]=v[1],f[2]=v[2],f[3]=1+p,me(f,f))}}(),oe=function(){var v=C(),b=C();return function(T,f,E,B,p,P){return xe(v,f,p,P),xe(b,E,B,P),xe(T,v,b,2*P*(1-P)),T}}(),x=function(){var v=U.Ue();return function(b,T,f,E){return v[0]=f[0],v[3]=f[1],v[6]=f[2],v[1]=E[0],v[4]=E[1],v[7]=E[2],v[2]=-T[0],v[5]=-T[1],v[8]=-T[2],me(b,ke(b,v))}}()},38015:function(Ft,qe,y){"use strict";y.d(qe,{$X:function(){return de},AK:function(){return Mt},Fv:function(){return ve},I6:function(){return Rt},IH:function(){return X},JG:function(){return C},Ue:function(){return U},al:function(){return q},lu:function(){return G},t7:function(){return Pt},t8:function(){return ee},tk:function(){return ke}});var u=y(31767);function U(){var f=new u.WT(2);return u.WT!=Float32Array&&(f[0]=0,f[1]=0),f}function H(f){var E=new glMatrix.ARRAY_TYPE(2);return E[0]=f[0],E[1]=f[1],E}function q(f,E){var B=new u.WT(2);return B[0]=f,B[1]=E,B}function C(f,E){return f[0]=E[0],f[1]=E[1],f}function ee(f,E,B){return f[0]=E,f[1]=B,f}function X(f,E,B){return f[0]=E[0]+B[0],f[1]=E[1]+B[1],f}function de(f,E,B){return f[0]=E[0]-B[0],f[1]=E[1]-B[1],f}function m(f,E,B){return f[0]=E[0]*B[0],f[1]=E[1]*B[1],f}function Z(f,E,B){return f[0]=E[0]/B[0],f[1]=E[1]/B[1],f}function S(f,E){return f[0]=Math.ceil(E[0]),f[1]=Math.ceil(E[1]),f}function ge(f,E){return f[0]=Math.floor(E[0]),f[1]=Math.floor(E[1]),f}function k(f,E,B){return f[0]=Math.min(E[0],B[0]),f[1]=Math.min(E[1],B[1]),f}function A(f,E,B){return f[0]=Math.max(E[0],B[0]),f[1]=Math.max(E[1],B[1]),f}function N(f,E){return f[0]=Math.round(E[0]),f[1]=Math.round(E[1]),f}function V(f,E,B){return f[0]=E[0]*B,f[1]=E[1]*B,f}function j(f,E,B,p){return f[0]=E[0]+B[0]*p,f[1]=E[1]+B[1]*p,f}function xe(f,E){var B=E[0]-f[0],p=E[1]-f[1];return Math.hypot(B,p)}function Le(f,E){var B=E[0]-f[0],p=E[1]-f[1];return B*B+p*p}function Ge(f){var E=f[0],B=f[1];return Math.hypot(E,B)}function je(f){var E=f[0],B=f[1];return E*E+B*B}function ke(f,E){return f[0]=-E[0],f[1]=-E[1],f}function Ee(f,E){return f[0]=1/E[0],f[1]=1/E[1],f}function ve(f,E){var B=E[0],p=E[1],P=B*B+p*p;return P>0&&(P=1/Math.sqrt(P)),f[0]=E[0]*P,f[1]=E[1]*P,f}function Mt(f,E){return f[0]*E[0]+f[1]*E[1]}function St(f,E,B){var p=E[0]*B[1]-E[1]*B[0];return f[0]=f[1]=0,f[2]=p,f}function Pt(f,E,B,p){var P=E[0],$=E[1];return f[0]=P+p*(B[0]-P),f[1]=$+p*(B[1]-$),f}function _t(f,E){E=E||1;var B=glMatrix.RANDOM()*2*Math.PI;return f[0]=Math.cos(B)*E,f[1]=Math.sin(B)*E,f}function Zt(f,E,B){var p=E[0],P=E[1];return f[0]=B[0]*p+B[2]*P,f[1]=B[1]*p+B[3]*P,f}function Ot(f,E,B){var p=E[0],P=E[1];return f[0]=B[0]*p+B[2]*P+B[4],f[1]=B[1]*p+B[3]*P+B[5],f}function Jt(f,E,B){var p=E[0],P=E[1];return f[0]=B[0]*p+B[3]*P+B[6],f[1]=B[1]*p+B[4]*P+B[7],f}function $t(f,E,B){var p=E[0],P=E[1];return f[0]=B[0]*p+B[4]*P+B[12],f[1]=B[1]*p+B[5]*P+B[13],f}function Qt(f,E,B,p){var P=E[0]-B[0],$=E[1]-B[1],a=Math.sin(p),c=Math.cos(p);return f[0]=P*c-$*a+B[0],f[1]=P*a+$*c+B[1],f}function F(f,E){var B=f[0],p=f[1],P=E[0],$=E[1],a=Math.sqrt(B*B+p*p)*Math.sqrt(P*P+$*$),c=a&&(B*P+p*$)/a;return Math.acos(Math.min(Math.max(c,-1),1))}function ae(f){return f[0]=0,f[1]=0,f}function lt(f){return"vec2("+f[0]+", "+f[1]+")"}function Rt(f,E){return f[0]===E[0]&&f[1]===E[1]}function me(f,E){var B=f[0],p=f[1],P=E[0],$=E[1];return Math.abs(B-P)<=glMatrix.EPSILON*Math.max(1,Math.abs(B),Math.abs(P))&&Math.abs(p-$)<=glMatrix.EPSILON*Math.max(1,Math.abs(p),Math.abs($))}var ue=null,G=de,R=null,oe=null,x=null,v=null,b=null,T=function(){var f=U();return function(E,B,p,P,$,a){var c,L;for(B||(B=2),p||(p=0),P?L=Math.min(P*B+p,E.length):L=E.length,c=p;c<L;c+=B)f[0]=E[c],f[1]=E[c+1],$(f,f,a),E[c]=f[0],E[c+1]=f[1];return E}}()},54442:function(Ft,qe,y){"use strict";y.d(qe,{$X:function(){return m},AK:function(){return Mt},EU:function(){return Rt},Fp:function(){return N},Fv:function(){return ve},IH:function(){return de},JG:function(){return ee},Jp:function(){return Z},TK:function(){return b},Ue:function(){return U},VC:function(){return Qt},VV:function(){return A},Zh:function(){return f},al:function(){return C},bA:function(){return j},d9:function(){return H},fF:function(){return Jt},fS:function(){return R},kC:function(){return St},kE:function(){return q},kK:function(){return $t},lu:function(){return oe},t7:function(){return Pt},t8:function(){return X},tk:function(){return ke}});var u=y(31767);function U(){var p=new u.WT(3);return u.WT!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p}function H(p){var P=new u.WT(3);return P[0]=p[0],P[1]=p[1],P[2]=p[2],P}function q(p){var P=p[0],$=p[1],a=p[2];return Math.hypot(P,$,a)}function C(p,P,$){var a=new u.WT(3);return a[0]=p,a[1]=P,a[2]=$,a}function ee(p,P){return p[0]=P[0],p[1]=P[1],p[2]=P[2],p}function X(p,P,$,a){return p[0]=P,p[1]=$,p[2]=a,p}function de(p,P,$){return p[0]=P[0]+$[0],p[1]=P[1]+$[1],p[2]=P[2]+$[2],p}function m(p,P,$){return p[0]=P[0]-$[0],p[1]=P[1]-$[1],p[2]=P[2]-$[2],p}function Z(p,P,$){return p[0]=P[0]*$[0],p[1]=P[1]*$[1],p[2]=P[2]*$[2],p}function S(p,P,$){return p[0]=P[0]/$[0],p[1]=P[1]/$[1],p[2]=P[2]/$[2],p}function ge(p,P){return p[0]=Math.ceil(P[0]),p[1]=Math.ceil(P[1]),p[2]=Math.ceil(P[2]),p}function k(p,P){return p[0]=Math.floor(P[0]),p[1]=Math.floor(P[1]),p[2]=Math.floor(P[2]),p}function A(p,P,$){return p[0]=Math.min(P[0],$[0]),p[1]=Math.min(P[1],$[1]),p[2]=Math.min(P[2],$[2]),p}function N(p,P,$){return p[0]=Math.max(P[0],$[0]),p[1]=Math.max(P[1],$[1]),p[2]=Math.max(P[2],$[2]),p}function V(p,P){return p[0]=Math.round(P[0]),p[1]=Math.round(P[1]),p[2]=Math.round(P[2]),p}function j(p,P,$){return p[0]=P[0]*$,p[1]=P[1]*$,p[2]=P[2]*$,p}function xe(p,P,$,a){return p[0]=P[0]+$[0]*a,p[1]=P[1]+$[1]*a,p[2]=P[2]+$[2]*a,p}function Le(p,P){var $=P[0]-p[0],a=P[1]-p[1],c=P[2]-p[2];return Math.hypot($,a,c)}function Ge(p,P){var $=P[0]-p[0],a=P[1]-p[1],c=P[2]-p[2];return $*$+a*a+c*c}function je(p){var P=p[0],$=p[1],a=p[2];return P*P+$*$+a*a}function ke(p,P){return p[0]=-P[0],p[1]=-P[1],p[2]=-P[2],p}function Ee(p,P){return p[0]=1/P[0],p[1]=1/P[1],p[2]=1/P[2],p}function ve(p,P){var $=P[0],a=P[1],c=P[2],L=$*$+a*a+c*c;return L>0&&(L=1/Math.sqrt(L)),p[0]=P[0]*L,p[1]=P[1]*L,p[2]=P[2]*L,p}function Mt(p,P){return p[0]*P[0]+p[1]*P[1]+p[2]*P[2]}function St(p,P,$){var a=P[0],c=P[1],L=P[2],J=$[0],ne=$[1],ye=$[2];return p[0]=c*ye-L*ne,p[1]=L*J-a*ye,p[2]=a*ne-c*J,p}function Pt(p,P,$,a){var c=P[0],L=P[1],J=P[2];return p[0]=c+a*($[0]-c),p[1]=L+a*($[1]-L),p[2]=J+a*($[2]-J),p}function _t(p,P,$,a,c,L){var J=L*L,ne=J*(2*L-3)+1,ye=J*(L-2)+L,De=J*(L-1),_e=J*(3-2*L);return p[0]=P[0]*ne+$[0]*ye+a[0]*De+c[0]*_e,p[1]=P[1]*ne+$[1]*ye+a[1]*De+c[1]*_e,p[2]=P[2]*ne+$[2]*ye+a[2]*De+c[2]*_e,p}function Zt(p,P,$,a,c,L){var J=1-L,ne=J*J,ye=L*L,De=ne*J,_e=3*L*ne,Xe=3*ye*J,et=ye*L;return p[0]=P[0]*De+$[0]*_e+a[0]*Xe+c[0]*et,p[1]=P[1]*De+$[1]*_e+a[1]*Xe+c[1]*et,p[2]=P[2]*De+$[2]*_e+a[2]*Xe+c[2]*et,p}function Ot(p,P){P=P||1;var $=glMatrix.RANDOM()*2*Math.PI,a=glMatrix.RANDOM()*2-1,c=Math.sqrt(1-a*a)*P;return p[0]=Math.cos($)*c,p[1]=Math.sin($)*c,p[2]=a*P,p}function Jt(p,P,$){var a=P[0],c=P[1],L=P[2],J=$[3]*a+$[7]*c+$[11]*L+$[15];return J=J||1,p[0]=($[0]*a+$[4]*c+$[8]*L+$[12])/J,p[1]=($[1]*a+$[5]*c+$[9]*L+$[13])/J,p[2]=($[2]*a+$[6]*c+$[10]*L+$[14])/J,p}function $t(p,P,$){var a=P[0],c=P[1],L=P[2];return p[0]=a*$[0]+c*$[3]+L*$[6],p[1]=a*$[1]+c*$[4]+L*$[7],p[2]=a*$[2]+c*$[5]+L*$[8],p}function Qt(p,P,$){var a=$[0],c=$[1],L=$[2],J=$[3],ne=P[0],ye=P[1],De=P[2],_e=c*De-L*ye,Xe=L*ne-a*De,et=a*ye-c*ne,it=c*et-L*Xe,nt=L*_e-a*et,ie=a*Xe-c*_e,ce=J*2;return _e*=ce,Xe*=ce,et*=ce,it*=2,nt*=2,ie*=2,p[0]=ne+_e+it,p[1]=ye+Xe+nt,p[2]=De+et+ie,p}function F(p,P,$,a){var c=[],L=[];return c[0]=P[0]-$[0],c[1]=P[1]-$[1],c[2]=P[2]-$[2],L[0]=c[0],L[1]=c[1]*Math.cos(a)-c[2]*Math.sin(a),L[2]=c[1]*Math.sin(a)+c[2]*Math.cos(a),p[0]=L[0]+$[0],p[1]=L[1]+$[1],p[2]=L[2]+$[2],p}function ae(p,P,$,a){var c=[],L=[];return c[0]=P[0]-$[0],c[1]=P[1]-$[1],c[2]=P[2]-$[2],L[0]=c[2]*Math.sin(a)+c[0]*Math.cos(a),L[1]=c[1],L[2]=c[2]*Math.cos(a)-c[0]*Math.sin(a),p[0]=L[0]+$[0],p[1]=L[1]+$[1],p[2]=L[2]+$[2],p}function lt(p,P,$,a){var c=[],L=[];return c[0]=P[0]-$[0],c[1]=P[1]-$[1],c[2]=P[2]-$[2],L[0]=c[0]*Math.cos(a)-c[1]*Math.sin(a),L[1]=c[0]*Math.sin(a)+c[1]*Math.cos(a),L[2]=c[2],p[0]=L[0]+$[0],p[1]=L[1]+$[1],p[2]=L[2]+$[2],p}function Rt(p,P){var $=p[0],a=p[1],c=p[2],L=P[0],J=P[1],ne=P[2],ye=Math.sqrt($*$+a*a+c*c),De=Math.sqrt(L*L+J*J+ne*ne),_e=ye*De,Xe=_e&&Mt(p,P)/_e;return Math.acos(Math.min(Math.max(Xe,-1),1))}function me(p){return p[0]=0,p[1]=0,p[2]=0,p}function ue(p){return"vec3("+p[0]+", "+p[1]+", "+p[2]+")"}function G(p,P){return p[0]===P[0]&&p[1]===P[1]&&p[2]===P[2]}function R(p,P){var $=p[0],a=p[1],c=p[2],L=P[0],J=P[1],ne=P[2];return Math.abs($-L)<=u.Ib*Math.max(1,Math.abs($),Math.abs(L))&&Math.abs(a-J)<=u.Ib*Math.max(1,Math.abs(a),Math.abs(J))&&Math.abs(c-ne)<=u.Ib*Math.max(1,Math.abs(c),Math.abs(ne))}var oe=m,x=null,v=null,b=Le,T=null,f=q,E=null,B=function(){var p=U();return function(P,$,a,c,L,J){var ne,ye;for($||($=3),a||(a=0),c?ye=Math.min(c*$+a,P.length):ye=P.length,ne=a;ne<ye;ne+=$)p[0]=P[ne],p[1]=P[ne+1],p[2]=P[ne+2],L(p,p,J),P[ne]=p[0],P[ne+1]=p[1],P[ne+2]=p[2];return P}}()},49953:function(Ft,qe,y){"use strict";y.d(qe,{AK:function(){return Mt},Fv:function(){return ve},I6:function(){return Qt},IH:function(){return X},JG:function(){return C},Ue:function(){return U},al:function(){return q},bA:function(){return V},d9:function(){return H},fF:function(){return Zt},fS:function(){return F},kE:function(){return Ge},t7:function(){return Pt},t8:function(){return ee},we:function(){return je}});var u=y(31767);function U(){var x=new u.WT(4);return u.WT!=Float32Array&&(x[0]=0,x[1]=0,x[2]=0,x[3]=0),x}function H(x){var v=new u.WT(4);return v[0]=x[0],v[1]=x[1],v[2]=x[2],v[3]=x[3],v}function q(x,v,b,T){var f=new u.WT(4);return f[0]=x,f[1]=v,f[2]=b,f[3]=T,f}function C(x,v){return x[0]=v[0],x[1]=v[1],x[2]=v[2],x[3]=v[3],x}function ee(x,v,b,T,f){return x[0]=v,x[1]=b,x[2]=T,x[3]=f,x}function X(x,v,b){return x[0]=v[0]+b[0],x[1]=v[1]+b[1],x[2]=v[2]+b[2],x[3]=v[3]+b[3],x}function de(x,v,b){return x[0]=v[0]-b[0],x[1]=v[1]-b[1],x[2]=v[2]-b[2],x[3]=v[3]-b[3],x}function m(x,v,b){return x[0]=v[0]*b[0],x[1]=v[1]*b[1],x[2]=v[2]*b[2],x[3]=v[3]*b[3],x}function Z(x,v,b){return x[0]=v[0]/b[0],x[1]=v[1]/b[1],x[2]=v[2]/b[2],x[3]=v[3]/b[3],x}function S(x,v){return x[0]=Math.ceil(v[0]),x[1]=Math.ceil(v[1]),x[2]=Math.ceil(v[2]),x[3]=Math.ceil(v[3]),x}function ge(x,v){return x[0]=Math.floor(v[0]),x[1]=Math.floor(v[1]),x[2]=Math.floor(v[2]),x[3]=Math.floor(v[3]),x}function k(x,v,b){return x[0]=Math.min(v[0],b[0]),x[1]=Math.min(v[1],b[1]),x[2]=Math.min(v[2],b[2]),x[3]=Math.min(v[3],b[3]),x}function A(x,v,b){return x[0]=Math.max(v[0],b[0]),x[1]=Math.max(v[1],b[1]),x[2]=Math.max(v[2],b[2]),x[3]=Math.max(v[3],b[3]),x}function N(x,v){return x[0]=Math.round(v[0]),x[1]=Math.round(v[1]),x[2]=Math.round(v[2]),x[3]=Math.round(v[3]),x}function V(x,v,b){return x[0]=v[0]*b,x[1]=v[1]*b,x[2]=v[2]*b,x[3]=v[3]*b,x}function j(x,v,b,T){return x[0]=v[0]+b[0]*T,x[1]=v[1]+b[1]*T,x[2]=v[2]+b[2]*T,x[3]=v[3]+b[3]*T,x}function xe(x,v){var b=v[0]-x[0],T=v[1]-x[1],f=v[2]-x[2],E=v[3]-x[3];return Math.hypot(b,T,f,E)}function Le(x,v){var b=v[0]-x[0],T=v[1]-x[1],f=v[2]-x[2],E=v[3]-x[3];return b*b+T*T+f*f+E*E}function Ge(x){var v=x[0],b=x[1],T=x[2],f=x[3];return Math.hypot(v,b,T,f)}function je(x){var v=x[0],b=x[1],T=x[2],f=x[3];return v*v+b*b+T*T+f*f}function ke(x,v){return x[0]=-v[0],x[1]=-v[1],x[2]=-v[2],x[3]=-v[3],x}function Ee(x,v){return x[0]=1/v[0],x[1]=1/v[1],x[2]=1/v[2],x[3]=1/v[3],x}function ve(x,v){var b=v[0],T=v[1],f=v[2],E=v[3],B=b*b+T*T+f*f+E*E;return B>0&&(B=1/Math.sqrt(B)),x[0]=b*B,x[1]=T*B,x[2]=f*B,x[3]=E*B,x}function Mt(x,v){return x[0]*v[0]+x[1]*v[1]+x[2]*v[2]+x[3]*v[3]}function St(x,v,b,T){var f=b[0]*T[1]-b[1]*T[0],E=b[0]*T[2]-b[2]*T[0],B=b[0]*T[3]-b[3]*T[0],p=b[1]*T[2]-b[2]*T[1],P=b[1]*T[3]-b[3]*T[1],$=b[2]*T[3]-b[3]*T[2],a=v[0],c=v[1],L=v[2],J=v[3];return x[0]=c*$-L*P+J*p,x[1]=-(a*$)+L*B-J*E,x[2]=a*P-c*B+J*f,x[3]=-(a*p)+c*E-L*f,x}function Pt(x,v,b,T){var f=v[0],E=v[1],B=v[2],p=v[3];return x[0]=f+T*(b[0]-f),x[1]=E+T*(b[1]-E),x[2]=B+T*(b[2]-B),x[3]=p+T*(b[3]-p),x}function _t(x,v){v=v||1;var b,T,f,E,B,p;do b=glMatrix.RANDOM()*2-1,T=glMatrix.RANDOM()*2-1,B=b*b+T*T;while(B>=1);do f=glMatrix.RANDOM()*2-1,E=glMatrix.RANDOM()*2-1,p=f*f+E*E;while(p>=1);var P=Math.sqrt((1-B)/p);return x[0]=v*b,x[1]=v*T,x[2]=v*f*P,x[3]=v*E*P,x}function Zt(x,v,b){var T=v[0],f=v[1],E=v[2],B=v[3];return x[0]=b[0]*T+b[4]*f+b[8]*E+b[12]*B,x[1]=b[1]*T+b[5]*f+b[9]*E+b[13]*B,x[2]=b[2]*T+b[6]*f+b[10]*E+b[14]*B,x[3]=b[3]*T+b[7]*f+b[11]*E+b[15]*B,x}function Ot(x,v,b){var T=v[0],f=v[1],E=v[2],B=b[0],p=b[1],P=b[2],$=b[3],a=$*T+p*E-P*f,c=$*f+P*T-B*E,L=$*E+B*f-p*T,J=-B*T-p*f-P*E;return x[0]=a*$+J*-B+c*-P-L*-p,x[1]=c*$+J*-p+L*-B-a*-P,x[2]=L*$+J*-P+a*-p-c*-B,x[3]=v[3],x}function Jt(x){return x[0]=0,x[1]=0,x[2]=0,x[3]=0,x}function $t(x){return"vec4("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+")"}function Qt(x,v){return x[0]===v[0]&&x[1]===v[1]&&x[2]===v[2]&&x[3]===v[3]}function F(x,v){var b=x[0],T=x[1],f=x[2],E=x[3],B=v[0],p=v[1],P=v[2],$=v[3];return Math.abs(b-B)<=u.Ib*Math.max(1,Math.abs(b),Math.abs(B))&&Math.abs(T-p)<=u.Ib*Math.max(1,Math.abs(T),Math.abs(p))&&Math.abs(f-P)<=u.Ib*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(E-$)<=u.Ib*Math.max(1,Math.abs(E),Math.abs($))}var ae=null,lt=null,Rt=null,me=null,ue=null,G=null,R=null,oe=function(){var x=U();return function(v,b,T,f,E,B){var p,P;for(b||(b=4),T||(T=0),f?P=Math.min(f*b+T,v.length):P=v.length,p=T;p<P;p+=b)x[0]=v[p],x[1]=v[p+1],x[2]=v[p+2],x[3]=v[p+3],E(x,x,B),v[p]=x[0],v[p+1]=x[1],v[p+2]=x[2],v[p+3]=x[3];return v}}()},48254:function(Ft){Ft.exports=function(y){return!y||typeof y=="string"?!1:y instanceof Array||Array.isArray(y)||y.length>=0&&(y.splice instanceof Function||Object.getOwnPropertyDescriptor(y,y.length-1)&&y.constructor.name!=="String")}},27933:function(Ft,qe,y){"use strict";var u=y(48254),U=Array.prototype.concat,H=Array.prototype.slice,q=Ft.exports=function(ee){for(var X=[],de=0,m=ee.length;de<m;de++){var Z=ee[de];u(Z)?X=U.call(X,H.call(Z)):X.push(Z)}return X};q.wrap=function(C){return function(){return C(q(arguments))}}},73983:function(Ft,qe,y){"use strict";var u=y(2337);qe.Z=u},15767:function(Ft,qe,y){"use strict";y.d(qe,{CR:function(){return j},Jh:function(){return k},Q_:function(){return Ot},XA:function(){return V},ZT:function(){return U},_T:function(){return q},ev:function(){return Ge},mG:function(){return ge},pi:function(){return H},pr:function(){return Le}});var u=function(me,ue){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,R){G.__proto__=R}||function(G,R){for(var oe in R)Object.prototype.hasOwnProperty.call(R,oe)&&(G[oe]=R[oe])},u(me,ue)};function U(me,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Class extends value "+String(ue)+" is not a constructor or null");u(me,ue);function G(){this.constructor=me}me.prototype=ue===null?Object.create(ue):(G.prototype=ue.prototype,new G)}var H=function(){return H=Object.assign||function(ue){for(var G,R=1,oe=arguments.length;R<oe;R++){G=arguments[R];for(var x in G)Object.prototype.hasOwnProperty.call(G,x)&&(ue[x]=G[x])}return ue},H.apply(this,arguments)};function q(me,ue){var G={};for(var R in me)Object.prototype.hasOwnProperty.call(me,R)&&ue.indexOf(R)<0&&(G[R]=me[R]);if(me!=null&&typeof Object.getOwnPropertySymbols=="function")for(var oe=0,R=Object.getOwnPropertySymbols(me);oe<R.length;oe++)ue.indexOf(R[oe])<0&&Object.prototype.propertyIsEnumerable.call(me,R[oe])&&(G[R[oe]]=me[R[oe]]);return G}function C(me,ue,G,R){var oe=arguments.length,x=oe<3?ue:R===null?R=Object.getOwnPropertyDescriptor(ue,G):R,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(me,ue,G,R);else for(var b=me.length-1;b>=0;b--)(v=me[b])&&(x=(oe<3?v(x):oe>3?v(ue,G,x):v(ue,G))||x);return oe>3&&x&&Object.defineProperty(ue,G,x),x}function ee(me,ue){return function(G,R){ue(G,R,me)}}function X(me,ue,G,R,oe,x){function v(L){if(L!==void 0&&typeof L!="function")throw new TypeError("Function expected");return L}for(var b=R.kind,T=b==="getter"?"get":b==="setter"?"set":"value",f=!ue&&me?R.static?me:me.prototype:null,E=ue||(f?Object.getOwnPropertyDescriptor(f,R.name):{}),B,p=!1,P=G.length-1;P>=0;P--){var $={};for(var a in R)$[a]=a==="access"?{}:R[a];for(var a in R.access)$.access[a]=R.access[a];$.addInitializer=function(L){if(p)throw new TypeError("Cannot add initializers after decoration has completed");x.push(v(L||null))};var c=(0,G[P])(b==="accessor"?{get:E.get,set:E.set}:E[T],$);if(b==="accessor"){if(c===void 0)continue;if(c===null||typeof c!="object")throw new TypeError("Object expected");(B=v(c.get))&&(E.get=B),(B=v(c.set))&&(E.set=B),(B=v(c.init))&&oe.unshift(B)}else(B=v(c))&&(b==="field"?oe.unshift(B):E[T]=B)}f&&Object.defineProperty(f,R.name,E),p=!0}function de(me,ue,G){for(var R=arguments.length>2,oe=0;oe<ue.length;oe++)G=R?ue[oe].call(me,G):ue[oe].call(me);return R?G:void 0}function m(me){return typeof me=="symbol"?me:"".concat(me)}function Z(me,ue,G){return typeof ue=="symbol"&&(ue=ue.description?"[".concat(ue.description,"]"):""),Object.defineProperty(me,"name",{configurable:!0,value:G?"".concat(G," ",ue):ue})}function S(me,ue){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(me,ue)}function ge(me,ue,G,R){function oe(x){return x instanceof G?x:new G(function(v){v(x)})}return new(G||(G=Promise))(function(x,v){function b(E){try{f(R.next(E))}catch(B){v(B)}}function T(E){try{f(R.throw(E))}catch(B){v(B)}}function f(E){E.done?x(E.value):oe(E.value).then(b,T)}f((R=R.apply(me,ue||[])).next())})}function k(me,ue){var G={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},R,oe,x,v=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return v.next=b(0),v.throw=b(1),v.return=b(2),typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function b(f){return function(E){return T([f,E])}}function T(f){if(R)throw new TypeError("Generator is already executing.");for(;v&&(v=0,f[0]&&(G=0)),G;)try{if(R=1,oe&&(x=f[0]&2?oe.return:f[0]?oe.throw||((x=oe.return)&&x.call(oe),0):oe.next)&&!(x=x.call(oe,f[1])).done)return x;switch(oe=0,x&&(f=[f[0]&2,x.value]),f[0]){case 0:case 1:x=f;break;case 4:return G.label++,{value:f[1],done:!1};case 5:G.label++,oe=f[1],f=[0];continue;case 7:f=G.ops.pop(),G.trys.pop();continue;default:if(x=G.trys,!(x=x.length>0&&x[x.length-1])&&(f[0]===6||f[0]===2)){G=0;continue}if(f[0]===3&&(!x||f[1]>x[0]&&f[1]<x[3])){G.label=f[1];break}if(f[0]===6&&G.label<x[1]){G.label=x[1],x=f;break}if(x&&G.label<x[2]){G.label=x[2],G.ops.push(f);break}x[2]&&G.ops.pop(),G.trys.pop();continue}f=ue.call(me,G)}catch(E){f=[6,E],oe=0}finally{R=x=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var A=Object.create?function(me,ue,G,R){R===void 0&&(R=G);var oe=Object.getOwnPropertyDescriptor(ue,G);(!oe||("get"in oe?!ue.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return ue[G]}}),Object.defineProperty(me,R,oe)}:function(me,ue,G,R){R===void 0&&(R=G),me[R]=ue[G]};function N(me,ue){for(var G in me)G!=="default"&&!Object.prototype.hasOwnProperty.call(ue,G)&&A(ue,me,G)}function V(me){var ue=typeof Symbol=="function"&&Symbol.iterator,G=ue&&me[ue],R=0;if(G)return G.call(me);if(me&&typeof me.length=="number")return{next:function(){return me&&R>=me.length&&(me=void 0),{value:me&&me[R++],done:!me}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(me,ue){var G=typeof Symbol=="function"&&me[Symbol.iterator];if(!G)return me;var R=G.call(me),oe,x=[],v;try{for(;(ue===void 0||ue-- >0)&&!(oe=R.next()).done;)x.push(oe.value)}catch(b){v={error:b}}finally{try{oe&&!oe.done&&(G=R.return)&&G.call(R)}finally{if(v)throw v.error}}return x}function xe(){for(var me=[],ue=0;ue<arguments.length;ue++)me=me.concat(j(arguments[ue]));return me}function Le(){for(var me=0,ue=0,G=arguments.length;ue<G;ue++)me+=arguments[ue].length;for(var R=Array(me),oe=0,ue=0;ue<G;ue++)for(var x=arguments[ue],v=0,b=x.length;v<b;v++,oe++)R[oe]=x[v];return R}function Ge(me,ue,G){if(G||arguments.length===2)for(var R=0,oe=ue.length,x;R<oe;R++)(x||!(R in ue))&&(x||(x=Array.prototype.slice.call(ue,0,R)),x[R]=ue[R]);return me.concat(x||Array.prototype.slice.call(ue))}function je(me){return this instanceof je?(this.v=me,this):new je(me)}function ke(me,ue,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=G.apply(me,ue||[]),oe,x=[];return oe=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),b("next"),b("throw"),b("return",v),oe[Symbol.asyncIterator]=function(){return this},oe;function v(P){return function($){return Promise.resolve($).then(P,B)}}function b(P,$){R[P]&&(oe[P]=function(a){return new Promise(function(c,L){x.push([P,a,c,L])>1||T(P,a)})},$&&(oe[P]=$(oe[P])))}function T(P,$){try{f(R[P]($))}catch(a){p(x[0][3],a)}}function f(P){P.value instanceof je?Promise.resolve(P.value.v).then(E,B):p(x[0][2],P)}function E(P){T("next",P)}function B(P){T("throw",P)}function p(P,$){P($),x.shift(),x.length&&T(x[0][0],x[0][1])}}function Ee(me){var ue,G;return ue={},R("next"),R("throw",function(oe){throw oe}),R("return"),ue[Symbol.iterator]=function(){return this},ue;function R(oe,x){ue[oe]=me[oe]?function(v){return(G=!G)?{value:je(me[oe](v)),done:!1}:x?x(v):v}:x}}function ve(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue=me[Symbol.asyncIterator],G;return ue?ue.call(me):(me=typeof V=="function"?V(me):me[Symbol.iterator](),G={},R("next"),R("throw"),R("return"),G[Symbol.asyncIterator]=function(){return this},G);function R(x){G[x]=me[x]&&function(v){return new Promise(function(b,T){v=me[x](v),oe(b,T,v.done,v.value)})}}function oe(x,v,b,T){Promise.resolve(T).then(function(f){x({value:f,done:b})},v)}}function Mt(me,ue){return Object.defineProperty?Object.defineProperty(me,"raw",{value:ue}):me.raw=ue,me}var St=Object.create?function(me,ue){Object.defineProperty(me,"default",{enumerable:!0,value:ue})}:function(me,ue){me.default=ue},Pt=function(me){return Pt=Object.getOwnPropertyNames||function(ue){var G=[];for(var R in ue)Object.prototype.hasOwnProperty.call(ue,R)&&(G[G.length]=R);return G},Pt(me)};function _t(me){if(me&&me.__esModule)return me;var ue={};if(me!=null)for(var G=Pt(me),R=0;R<G.length;R++)G[R]!=="default"&&A(ue,me,G[R]);return St(ue,me),ue}function Zt(me){return me&&me.__esModule?me:{default:me}}function Ot(me,ue,G,R){if(G==="a"&&!R)throw new TypeError("Private accessor was defined without a getter");if(typeof ue=="function"?me!==ue||!R:!ue.has(me))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?R:G==="a"?R.call(me):R?R.value:ue.get(me)}function Jt(me,ue,G,R,oe){if(R==="m")throw new TypeError("Private method is not writable");if(R==="a"&&!oe)throw new TypeError("Private accessor was defined without a setter");if(typeof ue=="function"?me!==ue||!oe:!ue.has(me))throw new TypeError("Cannot write private member to an object whose class did not declare it");return R==="a"?oe.call(me,G):oe?oe.value=G:ue.set(me,G),G}function $t(me,ue){if(ue===null||typeof ue!="object"&&typeof ue!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof me=="function"?ue===me:me.has(ue)}function Qt(me,ue,G){if(ue!=null){if(typeof ue!="object"&&typeof ue!="function")throw new TypeError("Object expected.");var R,oe;if(G){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");R=ue[Symbol.asyncDispose]}if(R===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");R=ue[Symbol.dispose],G&&(oe=R)}if(typeof R!="function")throw new TypeError("Object not disposable.");oe&&(R=function(){try{oe.call(this)}catch(x){return Promise.reject(x)}}),me.stack.push({value:ue,dispose:R,async:G})}else G&&me.stack.push({async:!0});return ue}var F=typeof SuppressedError=="function"?SuppressedError:function(me,ue,G){var R=new Error(G);return R.name="SuppressedError",R.error=me,R.suppressed=ue,R};function ae(me){function ue(x){me.error=me.hasError?new F(x,me.error,"An error was suppressed during disposal."):x,me.hasError=!0}var G,R=0;function oe(){for(;G=me.stack.pop();)try{if(!G.async&&R===1)return R=0,me.stack.push(G),Promise.resolve().then(oe);if(G.dispose){var x=G.dispose.call(G.value);if(G.async)return R|=2,Promise.resolve(x).then(oe,function(v){return ue(v),oe()})}else R|=1}catch(v){ue(v)}if(R===1)return me.hasError?Promise.reject(me.error):Promise.resolve();if(me.hasError)throw me.error}return oe()}function lt(me,ue){return typeof me=="string"&&/^\.\.?\//.test(me)?me.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(G,R,oe,x,v){return R?ue?".jsx":".js":oe&&(!x||!v)?G:oe+x+"."+v.toLowerCase()+"js"}):me}var Rt={__extends:U,__assign:H,__rest:q,__decorate:C,__param:ee,__esDecorate:X,__runInitializers:de,__propKey:m,__setFunctionName:Z,__metadata:S,__awaiter:ge,__generator:k,__createBinding:A,__exportStar:N,__values:V,__read:j,__spread:xe,__spreadArrays:Le,__spreadArray:Ge,__await:je,__asyncGenerator:ke,__asyncDelegator:Ee,__asyncValues:ve,__makeTemplateObject:Mt,__importStar:_t,__importDefault:Zt,__classPrivateFieldGet:Ot,__classPrivateFieldSet:Jt,__classPrivateFieldIn:$t,__addDisposableResource:Qt,__disposeResources:ae,__rewriteRelativeImportExtension:lt}}}]);
}());